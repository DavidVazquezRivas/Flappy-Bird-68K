000028EE Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 08/01/2024 3:37:02

00000000                             1  ; =============================================================================
00000000                             2  ; TITLE       :
00000000                             3  ; DESCRIPTION :
00000000                             4  ; AUTHOR      :
00000000                             5  ; HISTORY     :
00000000                             6  ; =============================================================================
00000000                             7  
00001000                             8              ORG     $1000
00001000                             9              
00001000                            10  ; --- CODE INCLUDES -----------------------------------------------------------
00001000                            11  
00001000                            12              INCLUDE "SYSCONST.X68"          ; SYSTEM CONSTANTS
00001000                            13  ; =============================================================================
00001000                            14  ; SYSTEM CONSTANTS
00001000                            15  ; =============================================================================
00001000                            16  
00001000                            17  ; --- SCREEN RELATED CONSTANTS ------------------------------------------------
00001000                            18  
00001000  =0000003C                 19  SCRFPS      EQU     60                  ; SCREEN FRAMES PER SECOND
00001000  =00000280                 20  SCRWIDTH    EQU     640                 ; SCREEN WIDTH
00001000  =000001E0                 21  SCRHEIGH    EQU     480                 ; SCREEN HEIGHT
00001000                            22  
00001000                            23  ; --- TEXT OUTPUT RELATED CONSTANTS -------------------------------------------
00001000                            24  
00001000  =00000000                 25  TXTCOLOR    EQU     $0                  ; TEXT OUTPUT COLOR
00001000  =00000001                 26  TXTSTYLE    EQU     %0001               ; TEXT STYLE (STRIKEOUT,UNDERLINE,ITALIC,BOLD)
00001000  =0000000E                 27  TXTSIZE     EQU     14                  ; TEXT SIZE
00001000  =00000004                 28  TXTFONT     EQU     4                   ; TEXT FONT (CURRENT 'LUCIDA CONSOLE')
00001000                            29  
00001000                            30  ; --- KEYCODES ----------------------------------------------------------------
00001000                            31  
00001000  =00000020                 32  KBDSPACE    EQU     ' '
00001000  =0000001B                 33  KBDPAUSE    EQU     27
00001000                            34  
00001000                            35  ; --- SOUND IDENTIFIERS -------------------------------------------------------
00001000                            36  
00001000  =00000000                 37  SNDDIE      EQU     0
00001000  =00000001                 38  SNDJUMP     EQU     1
00001000  =00000002                 39  SNDSCO      EQU     2
00001000                            40  
00001000                            41  ; --- TRAP NUMBERS ------------------------------------------------------------
00001000                            42  
00001000  =00000000                 43  SCRUPDTN    EQU     0                   ; SCREEN UPDATE TRAP NUMBER
00001000  =00000001                 44  KBDUPDTN    EQU     1                   ; KEYBOARD UPDATE TRAP NUMBER
00001000  =00000002                 45  MOUUPDTN    EQU     2                   ; MOUSE UPDATE TRAP NUMBER
00001000  =00000003                 46  SNDPLTN     EQU     3                   ; SOUND PLAY TRAP NUMBER
00001000                            47  
00001000                            48  ; --- INTERRUPTION NUMBERS ----------------------------------------------------
00001000                            49  
00001000  =00000001                 50  SCRINTN     EQU     1                   ; SCREEN INTERRUPT TRAP NUMBER    
00001000                            51  
00001000                            52  
00001000                            53  
00001000                            54  
00001000                            55  
00001000                            56  
00001000                            57  
00001000                            58  
00001000                            59  
00001000                            60  
00001000                            61  
00001000                            62  
00001000                            63  
00001000                            64  -------------------- end include --------------------
00001000                            65              INCLUDE "CONST.X68"             ; GAME CONSTANTS
00001000                            66  ; =============================================================================
00001000                            67  ; GAME CONSTANTS
00001000                            68  ; =============================================================================
00001000                            69  
00001000                            70  ; --- COLORS CONSTANTS 00BBGGRR -----------------------------------------------
00001000                            71  
00001000  =0000BBBB                 72  DKYELLOW    EQU     $0000BBBB           ; DARK YELLOW COLOR
00001000  =0000FFFF                 73  LGYELLOW    EQU     $0000FFFF           ; LIGHT YELLOW COLOR
00001000  =000C0C0C                 74  DARKGRAY    EQU     $000C0C0C           ; DARK GRAY COLOR
00001000  =00616161                 75  NORMGRAY    EQU     $00616161           ; NORMAL (NOT DARK OR LIGHT) GRAY COLOR 
00001000  =00A3A3A3                 76  LGGRAY      EQU     $00A3A3A3           ; LIGHT GRAY COLOR
00001000  =00231505                 77  DARKBLUE    EQU     $00231505           ; DARK BLUE COLOR 
00001000  =00FFBF80                 78  SKYBLUE     EQU     $00FFBF80           ; SKY BLUE COLOR
00001000  =0018732C                 79  NRMGREEN    EQU     $0018732C           ; NORMAL (NOT DARK OR LIGHT) GREEN COLOR
00001000  =0035DE3B                 80  LGGREEN     EQU     $0035DE3B           ; LIGHT GREEN COLOR
00001000  =00306284                 81  LGBROWN     EQU     $00306284           ; LIGHT BROWN COLOR
00001000  =00FEFDFB                 82  WHITE       EQU     $00FEFDFB           ; WHITE COLOR
00001000  =00000000                 83  BLACK       EQU     $00000000           ; BLACK COLOR
00001000                            84  
00001000                            85  ; --- BIRD RELATED CONSTANTS --------------------------------------------------
00001000                            86  
00001000  =FFFFFFF6                 87  JUMPVELY    EQU     -10                 ; VELOCITY BIRD GETS WHEN JUMPING
00001000  =000000A0                 88  BIRDPOSX    EQU     SCRWIDTH/4          ; BIRD POSITION X
00001000  =0000000F                 89  BIRDRAD     EQU     15                  ; BIRD RADIUS
00001000                            90  
00001000                            91  ; --- PIPE RELATED CONSTANTS --------------------------------------------------
00001000                            92  
00001000  =000C0C0C                 93  PIPEPCOL    EQU     DARKGRAY            ; PIPE PEN COLOR
00001000  =00616161                 94  PIPEFCOL    EQU     NORMGRAY            ; PIPE FILL COLOR
00001000  =FFFFFFFB                 95  PIPEVELX    EQU     -5                  ; PIPE X SPEED
00001000  =00000032                 96  PIPEWIDT    EQU     50                  ; PIPE WIDTH
00001000  =00000078                 97  PIPEGAPS    EQU     120                 ; PIPE GAP SIZE
00001000  =00000002                 98  PIPEAGTP    EQU     2                   ; PIPE AGENT TYPE CODE
00001000  =0000003F                 99  MASKNWPP    EQU     %00111111           ; NEW PIPE MASK 
00001000  =00000005                100  PPOPOVER    EQU     5                   ; PIPE OPENING OVERFLOW
00001000  =0000000F                101  PPOPHEIG    EQU     15                  ; PIPE OPENING HEIGHT
00001000                           102  
00001000                           103  ; --- BACKGROUND RELATED CONSTANTS --------------------------------------------
00001000                           104  
00001000  =00FFBF80                105  SKYCOLOR    EQU     SKYBLUE             ; SKY BACKGROUND COLOR
00001000  =0035DE3B                106  GRASSCLR    EQU     LGGREEN             ; GRASS COLOR
00001000  =00306284                107  DIRTCLR     EQU     LGBROWN             ; DIRT COLOR
00001000  =0000003C                108  FLOHEIGH    EQU     60                  ; FLOOR HEIGHT
00001000  =0000002D                109  DIRTHEIG    EQU     45                  ; DIRT PART HEIGHT
00001000                           110  
00001000                           111  ; --- CLOUD (BACKGROUND) RELATED CONSTANTS ------------------------------------
00001000                           112  
00001000  =FFFFFFFC                113  CLDSPMSK    EQU     $FFFFFFFC           ; MASK TO INIT CLOUD SPEED
00001000  =000000FF                114  MASKNWCL    EQU     %11111111           ; MASK TO SPAWN NEW CLOUD
00001000  =00000001                115  CLOUDAGT    EQU     1                   ; CLOUD AGENT TYPE CODE
00001000                           116  
00001000                           117  ; --- SCOREBOARD RELATED CONSTANTS --------------------------------------------
00001000                           118  
00001000  =00306284                119  SCOFCOL     EQU     DIRTCLR             ; TEXT BACKGROUND COLOR
00001000  =00001017                120  SCOLINE     EQU     $1017               ; SCORE TEXT COORDINATE 
00001000  =00001018                121  HSCOLINE    EQU     $1018               ; HIGHSCORE TEXT COORDINATE
00001000                           122  
00001000                           123  ; --- STATE RELATED CONSTANTS -------------------------------------------------
00001000                           124  
00001000  =FFFFFFFF                125  STANONE     EQU     -1                  ; NON-EXISTENT STATE NUMBER
00001000  =00000000                126  STAINTRO    EQU     0                   ; INTRO SCREEN STATE NUMBER
00001000  =00000001                127  STAINSTR    EQU     1                   ; INSTRUCTION STATE NUMBER
00001000  =00000002                128  STAGAME     EQU     2                   ; GAME SCREEN STATE NUMBER
00001000  =00000003                129  STAPAUSE    EQU     3                   ; PAUSE SCREEN STATE NUMBER
00001000  =00000004                130  STAGOVER    EQU     4                   ; GAME OVER SCREEN STATE NUMBER
00001000                           131  
00001000                           132  ; --- IMAGE DRAWING CONSTANTS -------------------------------------------------
00001000                           133  
00001000  =00000004                134  BLOCKSZ     EQU     4                   ; BLOCK SIZE
00001000                           135  
00001000                           136  ; --- BUTTON RELATED CONSTANTS ------------------------------------------------
00001000                           137  
00001000  =0018732C                138  BUTCOLOR    EQU     NRMGREEN            ; BUTTON COLOR
00001000  =0035DE3B                139  BUTHVCLR    EQU     LGGREEN             ; BUTTON COLOR WHILE BEING HOVER
00001000  =00000003                140  BUTAGTP     EQU     3                   ; BUTTON AGENT TYPE CODE
00001000                           141  
00001000                           142  ; --- PAUSE STATE RELATED CONSTANTS -------------------------------------------
00001000                           143  
00001000  =00000096                144  PAUMEHEI    EQU     150                 ; PAUSE MENU HEIGHT
00001000  =000000C8                145  PAUMEWID    EQU     200                 ; PAUSE MENU WIDTH
00001000  =00000082                146  PAUBUTWD    EQU     130                 ; PAUSE MENU BUTTON WIDTH
00001000  =00000023                147  PAUBUTHG    EQU     35                  ; PAUSE MENU BUTTON HEIGHT
00001000  =0000000F                148  PAUTITLN    EQU     15                  ; PAUSE BUTTON TITLE LINE
00001000                           149  
00001000                           150  
00001000                           151  
00001000                           152  
00001000                           153  
00001000                           154  -------------------- end include --------------------
00001000                           155              INCLUDE "LIB/DMMCONST.X68"      ; DYNAMIC MEMORY CONSTANTS
00001000                           156  ; =============================================================================
00001000                           157  ; DYNAMIC MEMORY MANAGEMENT CONSTANTS (SYSTEM CONSTANTS)
00001000                           158  ; =============================================================================
00001000                           159  
00001000  =00000040                160  DMMBSIZE    EQU     64                      ; BLOCK SIZE (BYTES). POWER OF TWO
00001000  =00000032                161  DMMBNUM     EQU     50                      ; NUMBER OF BLOCKS
00001000  =00000000                162  DMMSYSID    EQU     0                       ; SYSTEM OWNER ID (MUST BE 0)
00001000  =00000000                163  -------------------- end include --------------------
00001000                           164              INCLUDE "LIB/UTLCONST.X68"      ; UTIL CONSTANTS 
00001000                           165  ; ==============================================================================
00001000                           166  ; UTIL CONSTANTS
00001000                           167  ; ==============================================================================
00001000                           168  
00001000  =00000008                169  UTLCHRWD    EQU     8                       ; CHARACTER WIDTH IN PIXELS
00001000                           170  
00001000                           171  -------------------- end include --------------------
00001000                           172              INCLUDE "LIB/DMMCODE.X68"       ; DYNAMIC MEMORY CODE
00001000                           173  ; =============================================================================
00001000                           174  ; DYNAMIC MEMORY MANAGEMENT (SYSTEM CODE)
00001000                           175  ; DYNAMIC MEMORY IS A SET OF DMMBNUM SLOTS OF DMMBSIZE BYTES EACH ONE.
00001000                           176  ; DMMBSIZE MUST BE POWER OF TWO. A SLOT HAS:
00001000                           177  ; - HEADER - 1 WORD. SPECIFIES THE OWNER (0 MEANS OWNED BY SYSTEM)
00001000                           178  ; - DATA   - DMMBSIZE - 2 BYTES. MAY CONTAIN VARS AND ANY KIND OF DATA RELATED
00001000                           179  ;            THE THE OWNER. IF OWNER==0, DATA IS MEANINGLESS.
00001000                           180  ; =============================================================================
00001000                           181  
00001000                           182  ; -----------------------------------------------------------------------------
00001000                           183  DMMINIT
00001000                           184  ; INITIALIZES THE DYNAMIC MEMORY TO ALL OWNED BY SYSTEM.
00001000                           185  ; INPUT    - NONE
00001000                           186  ; OUTPUT   - NONE
00001000                           187  ; MODIFIES - NONE
00001000                           188  ; -----------------------------------------------------------------------------
00001000  48E7 8080                189              MOVEM.L D0/A0,-(A7)
00001004  41F9 00002980            190              LEA     DMMDATA,A0
0000100A  303C 0031                191              MOVE.W  #DMMBNUM-1,D0
0000100E  30BC 0000                192  .LOOP       MOVE.W  #DMMSYSID,(A0)
00001012  D1FC 00000040            193              ADD.L   #DMMBSIZE,A0
00001018  51C8 FFF4                194              DBRA.W  D0,.LOOP
0000101C  4CDF 0101                195              MOVEM.L (A7)+,D0/A0
00001020  4E75                     196              RTS
00001022                           197  
00001022                           198  ; -----------------------------------------------------------------------------
00001022                           199  DMMFIRST
00001022                           200  ; SEARCHES THE FIRST MEMORY SLOT NOT OWNED BY SYSTEM AND OUTPUTS A POINTER
00001022                           201  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
00001022                           202  ; INPUT    - NONE
00001022                           203  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
00001022                           204  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001022                           205  ; -----------------------------------------------------------------------------
00001022  41F9 00002980            206              LEA     DMMDATA,A0
00001028  4A58                     207  DMMFRLOP    TST.W   (A0)+
0000102A  6600 0016                208              BNE     DMMFRFND
0000102E  D1FC 0000003E            209              ADD.L   #DMMBSIZE-2,A0
00001034  B1FC 000035FF            210  DMMFRCOM    CMP.L   #DMMDATA+DMMBSIZE*DMMBNUM-1,A0
0000103A  6DEC                     211              BLT     DMMFRLOP
0000103C  207C 00000000            212              MOVE.L  #0,A0
00001042  4E75                     213  DMMFRFND    RTS
00001044                           214  
00001044                           215  ; -----------------------------------------------------------------------------
00001044                           216  DMMNEXT
00001044                           217  ; SEARCHES THE NEXT MEMORY SLOT NOT OWNED BY SYSTEM AND OUTPUTS A POINTER
00001044                           218  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
00001044                           219  ; INPUT    - A0   : POINTER WITHIN THE CURRENT SLOT
00001044                           220  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
00001044                           221  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001044                           222  ; -----------------------------------------------------------------------------
00001044  2F00                     223              MOVE.L  D0,-(A7)
00001046  2008                     224              MOVE.L  A0,D0
00001048  C0BC FFFFFFC0            225              AND.L   #-DMMBSIZE,D0           ; TAKE ADVANTAGE OF ALIGNMENT
0000104E  0680 00000040            226              ADD.L   #DMMBSIZE,D0
00001054  2040                     227              MOVE.L  D0,A0
00001056  201F                     228              MOVE.L  (A7)+,D0
00001058  60DA                     229              BRA     DMMFRCOM
0000105A                           230  
0000105A                           231  ; -----------------------------------------------------------------------------
0000105A                           232  DMMFRSTO
0000105A                           233  ; SEARCHES THE FIRST MEMORY SLOT WITH THE SPECIFIED ID AND OUTPUTS A POINTER
0000105A                           234  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
0000105A                           235  ; INPUT    - D0.W : ID TO SEARCH
0000105A                           236  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
0000105A                           237  ; MODIFIES - NONE (ASIDE OF OUTPUT)
0000105A                           238  ; -----------------------------------------------------------------------------
0000105A  41F9 00002980            239              LEA     DMMDATA,A0
00001060  B058                     240  DMMFLOOP    CMP.W   (A0)+,D0
00001062  6700 0016                241              BEQ     DMMFFND
00001066  D1FC 0000003E            242              ADD.L   #DMMBSIZE-2,A0
0000106C  B1FC 000035FF            243  DMMFCOM     CMP.L   #DMMDATA+DMMBSIZE*DMMBNUM-1,A0
00001072  6DEC                     244              BLT     DMMFLOOP
00001074  207C 00000000            245              MOVE.L  #0,A0
0000107A  4E75                     246  DMMFFND     RTS
0000107C                           247  
0000107C                           248  ; -----------------------------------------------------------------------------
0000107C                           249  DMMNEXTO
0000107C                           250  ; SEARCHES THE NEXT MEMORY SLOT WITH THE SPECIFIED ID AND OUTPUTS A POINTER
0000107C                           251  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
0000107C                           252  ; INPUT    - D0.W : ID TO SEARCH
0000107C                           253  ;            A0   : POINTER WITHIN THE CURRENT SLOT
0000107C                           254  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
0000107C                           255  ; MODIFIES - NONE (ASIDE OF OUTPUT)
0000107C                           256  ; -----------------------------------------------------------------------------
0000107C  2F00                     257              MOVE.L  D0,-(A7)
0000107E  2008                     258              MOVE.L  A0,D0
00001080  C0BC FFFFFFC0            259              AND.L   #-DMMBSIZE,D0           ; TAKE ADVANTAGE OF ALIGNMENT
00001086  0680 00000040            260              ADD.L   #DMMBSIZE,D0
0000108C  2040                     261              MOVE.L  D0,A0
0000108E  201F                     262              MOVE.L  (A7)+,D0
00001090  60DA                     263              BRA     DMMFCOM
00001092                           264  
00001092                           265  ; -----------------------------------------------------------------------------
00001092                           266  DMMALLOC
00001092                           267  ; SEARCHES THE FIRST FREE (SYS OWNED) SLOT, ASSIGNS TO THE SPECIFIED OWNER
00001092                           268  ; AND RETURNS A POINTER TO THE CORRESPONDING DATA (SLOT ADDRESS + 2)
00001092                           269  ; INPUT    - D0.W : ID TO ASSIGN
00001092                           270  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FREE SPACE
00001092                           271  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001092                           272  ; -----------------------------------------------------------------------------
00001092  3F00                     273              MOVE.W  D0,-(A7)
00001094  4240                     274              CLR.W   D0
00001096  4EB8 105A                275              JSR     DMMFRSTO
0000109A  301F                     276              MOVE.W  (A7)+,D0
0000109C  B1FC 00000000            277              CMP.L   #0,A0
000010A2  6700 0006                278              BEQ     .END
000010A6  3140 FFFE                279              MOVE.W  D0,-2(A0)
000010AA  4E75                     280  .END        RTS
000010AC                           281  
000010AC                           282  ; -----------------------------------------------------------------------------
000010AC                           283  DMMFREE
000010AC                           284  ; FREES THE SLOT TO WHICH THE PROVIDED POINTER BELONGS BY SETTING ITS OWNED TO
000010AC                           285  ; SYSTEM (0)
000010AC                           286  ; INPUT    - A0   : POINTER BELONGING TO THE SLOT TO FREE
000010AC                           287  ; OUTPUT   - NONE
000010AC                           288  ; MODIFIES - NONE
000010AC                           289  ; -----------------------------------------------------------------------------
000010AC  48E7 8080                290              MOVEM.L D0/A0,-(A7)
000010B0  2008                     291              MOVE.L  A0,D0
000010B2  C0BC FFFFFFC0            292              AND.L   #-DMMBSIZE,D0           ; TAKE ADVANTAGE OF ALIGNMENT
000010B8  2040                     293              MOVE.L  D0,A0
000010BA  4250                     294              CLR.W   (A0)
000010BC  4CDF 0101                295              MOVEM.L (A7)+,D0/A0
000010C0  4E75                     296              RTS
000010C2                           297  
000010C2                           298  -------------------- end include --------------------
000010C2                           299              INCLUDE "LIB/AGLCODE.X68"       ; AGENTS CODE "OBJECTS"
000010C2                           300  ; =============================================================================
000010C2                           301  ; AGENT MANAGEMENT
000010C2                           302  ; EACH AGENT HAS A DATA BLOCK FROM DMM AS FOLLOWS:
000010C2                           303  ; +0 - LONG : UPDATE SUBROUTINE POINTER
000010C2                           304  ; +4 - LONG : PLOT SUBROUTINE POINTER
000010C2                           305  ; +8:END    : DATA (AGENT SPECIFIC)
000010C2                           306  ; =============================================================================
000010C2                           307  
000010C2                           308  ; -----------------------------------------------------------------------------
000010C2                           309  AGLADD
000010C2                           310  ; CREATES A NEW AGENT
000010C2                           311  ; INPUT    - A1 - POINTER TO AGENT INIT FUNCTION
000010C2                           312  ;            A2 - POINTER TO AGENT UPDATE FUNCTION
000010C2                           313  ;            A3 - POINTER TO AGENT PLOT FUNCTION
000010C2                           314  ;            A4 - POINTER TO INITIALIZATION PARAMETER ADREES 1
000010C2                           315  ;            A5 - POINTER TO INITIALIZATION PARAMETER ADREES 2
000010C2                           316  ;            A6 - POINTER TO INITIALIZATION PARAMETER ADREES 3
000010C2                           317  ;            D0 - AGENT TYPE (USED AS OWNER BY DMM)
000010C2                           318  ;            D1 - AGENT INITIALIZATION PARAMETER DATA 1
000010C2                           319  ;            D2 - AGENT INITIALIZATION PARAMETER DATA 2
000010C2                           320  ;            D3 - AGENT INITIALIZATION PARAMETER DATA 3
000010C2                           321  ;            D4 - AGENT INITIALIZATION PARAMETER DATA 4
000010C2                           322  ;            D5 - AGENT INITIALIZATION PARAMETER DATA 5
000010C2                           323  ;            D6 - AGENT INITIALIZATION PARAMETER DATA 6
000010C2                           324  ;            D7 - AGENT INITIALIZATION PARAMETER DARA 7
000010C2                           325  ; OUTPUT   - NONE
000010C2                           326  ; MODIFIES - NONE
000010C2                           327  ; -----------------------------------------------------------------------------
000010C2  2F08                     328              MOVE.L  A0,-(A7)
000010C4  4EB8 1092                329              JSR     DMMALLOC
000010C8  B1FC 00000000            330              CMP.L   #0,A0
000010CE  6700 0008                331              BEQ     .END
000010D2  20CA                     332              MOVE.L  A2,(A0)+
000010D4  20CB                     333              MOVE.L  A3,(A0)+
000010D6  4E91                     334              JSR     (A1)
000010D8  205F                     335  .END        MOVE.L  (A7)+,A0
000010DA  4E75                     336              RTS
000010DC                           337  
000010DC                           338  ; -----------------------------------------------------------------------------
000010DC                           339  AGLUPD
000010DC                           340  ; UPDATES THE AGENT LIST. PRIOR TO CALLING THE UPDATE FUNCTIONS, A0 IS SET
000010DC                           341  ; TO THE DATA BLOCK OF THE CORRESPONDING SLOT.
000010DC                           342  ; INPUT    - NONE
000010DC                           343  ; OUTPUT   - NONE
000010DC                           344  ; MODIFIES - NONE
000010DC                           345  ; -----------------------------------------------------------------------------
000010DC  48E7 00C0                346              MOVEM.L A0-A1,-(A7)
000010E0  4EB8 1022                347              JSR     DMMFIRST
000010E4  B1FC 00000000            348  .LOOP       CMP.L   #0,A0
000010EA  6700 000E                349              BEQ     .END
000010EE  2250                     350              MOVE.L  (A0),A1
000010F0  5088                     351              ADD.L   #8,A0
000010F2  4E91                     352              JSR     (A1)
000010F4  4EB8 1044                353              JSR     DMMNEXT
000010F8  60EA                     354              BRA     .LOOP
000010FA  4CDF 0300                355  .END        MOVEM.L (A7)+,A0-A1
000010FE  4E75                     356              RTS
00001100                           357  
00001100                           358  ; -----------------------------------------------------------------------------
00001100                           359  AGLUPDT
00001100                           360  ; UPDATES THE AGENT LIST ONLY OF THE SPECIFIED TYPE A0 IS SET
00001100                           361  ; TO THE DATA BLOCK OF THE CORRESPONDING SLOT.
00001100                           362  ; INPUT     - DO.W AGENT TYPE TO UPDATE
00001100                           363  ; OUTPUT    - NONE
00001100                           364  ; MODIFIES  - NONE
00001100                           365  ; -----------------------------------------------------------------------------
00001100                           366  
00001100  48E7 00C0                367              MOVEM.L A0-A1,-(A7)
00001104  4EB8 105A                368              JSR     DMMFRSTO
00001108  B1FC 00000000            369  .LOOP       CMP.L   #0,A0
0000110E  6700 000E                370              BEQ     .END
00001112  2250                     371              MOVE.L  (A0),A1
00001114  5088                     372              ADD.L   #8,A0
00001116  4E91                     373              JSR     (A1)
00001118  4EB8 107C                374              JSR     DMMNEXTO
0000111C  60EA                     375              BRA     .LOOP
0000111E                           376              
0000111E  4CDF 0300                377  .END        MOVEM.L (A7)+,A0-A1
00001122  4E75                     378              RTS
00001124                           379  
00001124                           380  
00001124                           381  ; -----------------------------------------------------------------------------
00001124                           382  AGLPLOT
00001124                           383  ; PLOTS THE AGENT LIST. PRIOR TO CALLING THE UPDATE FUNCTIONS, A0 IS SET
00001124                           384  ; TO THE DATA BLOCK OF THE CORRESPONDING SLOT. PLOTS AGENTS IN AGENT TYPE ORDER
00001124                           385  ; INPUT    - NONE
00001124                           386  ; OUTPUT   - NONE
00001124                           387  ; MODIFIES - NONE
00001124                           388  ; NOTE : 8 IS THE MAX AGENT TYPES
00001124                           389  ; -----------------------------------------------------------------------------
00001124  48E7 00C0                390              MOVEM.L A0-A1,-(A7)
00001128                           391              
00001128  4200                     392              CLR.B   D0                      ; CURRENT AGENT TYPE UPDATING
0000112A  5200                     393  .LOOP1      ADDQ.B  #1,D0    
0000112C  4EB8 105A                394              JSR     DMMFRSTO
00001130  B1FC 00000000            395  .LOOP2      CMP.L   #0,A0
00001136  6700 0010                396              BEQ     .NEXTTP
0000113A  2268 0004                397              MOVE.L  4(A0),A1
0000113E  5088                     398              ADD.L   #8,A0
00001140  4E91                     399              JSR     (A1)
00001142  4EB8 107C                400              JSR     DMMNEXTO
00001146  60E8                     401              BRA     .LOOP2
00001148  B03C 0008                402  .NEXTTP     CMP.B   #8,D0
0000114C  6DDC                     403              BLT     .LOOP1
0000114E                           404              
0000114E  4CDF 0300                405  .END        MOVEM.L (A7)+,A0-A1
00001152  4E75                     406              RTS
00001154                           407              
00001154                           408  ; -----------------------------------------------------------------------------
00001154                           409  AGLPLOTT
00001154                           410  ; PLOTS THE AGENT LIST ONLY OF THE SPECIFIED TYPE. PRIOR TO CALLING THE UPDATE 
00001154                           411  ; FUNCTIONS, A0 IS SET TO THE DATA BLOCK OF THE CORRESPONDING SLOT. 
00001154                           412  ; INPUT    - D0.W AGENT TYPE TO PLOT
00001154                           413  ; OUTPUT   - NONE
00001154                           414  ; MODIFIES - NONE
00001154                           415  ; NOTE : 8 IS THE MAX AGENT TYPES
00001154                           416  ; -----------------------------------------------------------------------------          
00001154                           417  
00001154  48E7 00C0                418              MOVEM.L A0-A1,-(A7)
00001158                           419              
00001158  4EB8 105A                420              JSR     DMMFRSTO
0000115C  B1FC 00000000            421  .LOOP       CMP.L   #0,A0
00001162  6700 0010                422              BEQ     .END
00001166  2268 0004                423              MOVE.L  4(A0),A1
0000116A  5088                     424              ADD.L   #8,A0
0000116C  4E91                     425              JSR     (A1)
0000116E  4EB8 107C                426              JSR     DMMNEXTO
00001172  60E8                     427              BRA     .LOOP
00001174                           428  
00001174  4CDF 0300                429  .END        MOVEM.L (A7)+,A0-A1  
00001178  4E75                     430              RTS
0000117A                           431  
0000117A                           432  ; -----------------------------------------------------------------------------
0000117A                           433  AGLCLEAN
0000117A                           434  ; KILLS EVERY AGENT ON AGENLIST OF THE SPECIFIED TYPE
0000117A                           435  ; INPUT     - D0.W - AGENT TYPE (USED AS OWNER BY DMM)
0000117A                           436  ; OUTPUT    - KILLS EVERY AGENT ON AGENTLIST
0000117A                           437  ; MODIFIES  - NONE
0000117A                           438  ; -----------------------------------------------------------------------------
0000117A  48E7 00C0                439              MOVEM.L A0-A1,-(A7)
0000117E                           440              
0000117E  4EB8 105A                441  .LOOP       JSR     DMMFRSTO
00001182  B1FC 00000000            442              CMP.L   #0,A0
00001188  6700 000A                443              BEQ     .END
0000118C  4EB9 000010AC            444              JSR     AGLKILL
00001192  60EA                     445              BRA     .LOOP
00001194                           446              
00001194  4CDF 0300                447  .END        MOVEM.L (A7)+,A0-A1
00001198  4E75                     448              RTS
0000119A                           449  
0000119A                           450              
0000119A                           451  
0000119A                           452  
0000119A                           453  ; -----------------------------------------------------------------------------
0000119A  =000010AC                454  AGLKILL     EQU     DMMFREE
0000119A                           455  ; KILLS THE AGENT BY RELEASING ITS MEMORY
0000119A                           456  ; INPUT    - A0 POINTER WITHIN THE AGENT MEMORY
0000119A                           457  ; OUTPUT   - NONE
0000119A                           458  ; MODIFIES - NONE
0000119A                           459  ; NOTE     - IT IS JUST A WRAPPER FOR DMMFREE
0000119A                           460  ; -----------------------------------------------------------------------------
0000119A                           461  
0000119A                           462  
0000119A                           463  
0000119A                           464  
0000119A                           465  
0000119A                           466  
0000119A                           467  -------------------- end include --------------------
0000119A                           468              INCLUDE "LIB/UTLCODE.X68"       ; UTIL SUBRUTINES
0000119A                           469  ; =============================================================================
0000119A                           470  ; UTILITY CODE
0000119A                           471  ; =============================================================================
0000119A                           472  
0000119A                           473  ; -----------------------------------------------------------------------------
0000119A                           474  UTLINIT
0000119A                           475  ; INITIALIZES UTILITY CODE
0000119A                           476  ; INPUT    - NONE
0000119A                           477  ; OUTPUT   - NONE
0000119A                           478  ; MODIFIES - NONE
0000119A                           479  ; -----------------------------------------------------------------------------
0000119A  48E7 C000                480              MOVEM.L D0-D1,-(A7)
0000119E  103C 0008                481              MOVE.B  #8,D0
000011A2  4E4F                     482              TRAP    #15
000011A4  13C1 00002977            483              MOVE.B  D1,(UTLRNDIX)
000011AA  4CDF 0003                484              MOVEM.L (A7)+,D0-D1
000011AE  4E75                     485              RTS
000011B0                           486              
000011B0                           487  ; -----------------------------------------------------------------------------
000011B0                           488  UTLPRINT
000011B0                           489  ; PRINT SCREEN CENTERED TEXT
000011B0                           490  ; INPUT    : A2 POINTER TO ZERO-TERMINATED STRING
000011B0                           491  ;            D0.B SCREEN ROW TO PRINT TEXT
000011B0                           492  ; OUTPUT   : D0.B NEXT ROW
000011B0                           493  ; MODIFIES : NONE (ASIDE OF OUTPUT)
000011B0                           494  ; -----------------------------------------------------------------------------
000011B0  48E7 C060                495              MOVEM.L D0-D1/A1-A2,-(A7)
000011B4  4201                     496              CLR.B   D1
000011B6  224A                     497              MOVE.L  A2,A1
000011B8  4A1A                     498  .LOOP       TST.B   (A2)+
000011BA  6700 0006                499              BEQ     .ENDLOOP
000011BE  5201                     500              ADDQ.B  #1,D1
000011C0  60F6                     501              BRA     .LOOP
000011C2  E209                     502  .ENDLOOP    LSR.B   #1,D1
000011C4  0401 0028                503              SUB.B   #(SCRWIDTH/UTLCHRWD)/2,D1
000011C8  4401                     504              NEG.B   D1
000011CA  E141                     505              ASL.W   #8,D1
000011CC  8240                     506              OR.W    D0,D1
000011CE  103C 000B                507              MOVE.B  #11,D0
000011D2  4E4F                     508              TRAP    #15
000011D4  103C 000D                509              MOVE.B  #13,D0
000011D8  4E4F                     510              TRAP    #15
000011DA  4CDF 0603                511              MOVEM.L (A7)+,D0-D1/A1-A2
000011DE  5200                     512              ADDQ.B  #1,D0
000011E0  4E75                     513              RTS
000011E2                           514  
000011E2                           515  ; -----------------------------------------------------------------------------
000011E2                           516  UTLRAND
000011E2                           517  ; PROVIDES A PSEUDO-RANDOM BYTE
000011E2                           518  ; INPUT    - NONE
000011E2                           519  ; OUTPUT   - D0.L RANDOM VALUE (ONLY BYTE)
000011E2                           520  ; MODIFIES - NONE (ASIDE OF OUTPUT)
000011E2                           521  ; -----------------------------------------------------------------------------
000011E2  2F08                     522              MOVE.L  A0,-(A7)
000011E4  41F9 00001200            523              LEA     .RANDVEC,A0
000011EA  4280                     524              CLR.L   D0
000011EC  1039 00002977            525              MOVE.B  (UTLRNDIX),D0
000011F2  1030 0800                526              MOVE.B  (A0,D0.L),D0
000011F6  5239 00002977            527              ADDQ.B  #1,(UTLRNDIX)
000011FC  205F                     528              MOVE.L  (A7)+,A0
000011FE  4E75                     529              RTS
00001200                           530  
00001200                           531  
00001200= A2 EE 9A 0C F5 24 ...    532  .RANDVEC    DC.B    162, 238, 154, 12 , 245, 36 , 32 , 103
00001208= 2A A3 51 26 E0 AC ...    533              DC.B    42 , 163, 81 , 38 , 224, 172, 19 , 69
00001210= 75 51 CA FD 33 EB ...    534              DC.B    117, 81 , 202, 253, 51 , 235, 108, 154
00001218= 60 CC E7 B8 9A EB ...    535              DC.B    96 , 204, 231, 184, 154, 235, 34 , 203
00001220= 1D 76 B5 95 B0 89 ...    536              DC.B    29 , 118, 181, 149, 176, 137, 62 , 108
00001228= 39 15 48 C9 6E CA ...    537              DC.B    57 , 21 , 72 , 201, 110, 202, 159, 41
00001230= 43 E7 E2 7C 37 25 ...    538              DC.B    67 , 231, 226, 124, 55 , 37 , 84 , 62
00001238= E9 94 CE E9 E4 52 ...    539              DC.B    233, 148, 206, 233, 228, 82 , 243, 78
00001240= 37 6D 9A 84 A2 28 ...    540              DC.B    55 , 109, 154, 132, 162, 40 , 30 , 39
00001248= 19 E2 C6 77 80 D4 ...    541              DC.B    25 , 226, 198, 119, 128, 212, 232, 225
00001250= 0A 5A 32 67 33 C2 ...    542              DC.B    10 , 90 , 50 , 103, 51 , 194, 222, 40
00001258= 59 80 DC 0E 57 FC ...    543              DC.B    89 , 128, 220, 14 , 87 , 252, 243, 252
00001260= 8A AB BC F7 07 4D ...    544              DC.B    138, 171, 188, 247, 7  , 77 , 29 , 234
00001268= EF D5 77 6E 1E BB ...    545              DC.B    239, 213, 119, 110, 30 , 187, 131, 23
00001270= D6 E0 2A 8F BD 28 ...    546              DC.B    214, 224, 42 , 143, 189, 40 , 212, 130
00001278= 13 4F 66 EC 0A 64 ...    547              DC.B    19 , 79 , 102, 236, 10 , 100, 122, 188
00001280= 56 52 9A 16 9B 90 ...    548              DC.B    86 , 82 , 154, 22 , 155, 144, 7  , 199
00001288= 06 8A A4 F7 01 DA ...    549              DC.B    6  , 138, 164, 247, 1  , 218, 166, 82
00001290= F2 E7 77 28 B1 76 ...    550              DC.B    242, 231, 119, 40 , 177, 118, 220, 102
00001298= A4 42 E3 81 B1 67 ...    551              DC.B    164, 66 , 227, 129, 177, 103, 165, 108
000012A0= BF CE FA 16 BF 38 ...    552              DC.B    191, 206, 250, 22 , 191, 56 , 30 , 161
000012A8= D1 8B 50 0C 5F 49 ...    553              DC.B    209, 139, 80 , 12 , 95 , 73 , 168, 56
000012B0= DE 4C 14 A2 40 DC ...    554              DC.B    222, 76 , 20 , 162, 64 , 220, 93 , 12
000012B8= B6 9B 0A 38 5D AB ...    555              DC.B    182, 155, 10 , 56 , 93 , 171, 89 , 6
000012C0= E2 1B DD 75 15 82 ...    556              DC.B    226, 27 , 221, 117, 21 , 130, 101, 18
000012C8= 8A 26 51 30 9F 47 ...    557              DC.B    138, 38 , 81 , 48 , 159, 71 , 57 , 21
000012D0= 1E 8A BB 71 C6 6E ...    558              DC.B    30 , 138, 187, 113, 198, 110, 185, 152
000012D8= 9F 47 E5 34 94 27 ...    559              DC.B    159, 71 , 229, 52 , 148, 39 , 77 , 6
000012E0= 7D 06 D6 BA 30 0F ...    560              DC.B    125, 6  , 214, 186, 48 , 15 , 212, 22
000012E8= EC 7F 7E 03 CF 2D ...    561              DC.B    236, 127, 126, 3  , 207, 45 , 193, 2
000012F0= 94 5B 23 F2 8B CD ...    562              DC.B    148, 91 , 35 , 242, 139, 205, 248, 237
000012F8= 74 33 EC B9 0F D5 ...    563              DC.B    116, 51 , 236, 185, 15 , 213, 221, 6
00001300                           564  
00001300                           565  
00001300                           566  -------------------- end include --------------------
00001300                           567              INCLUDE "SYSTEM.X68"            ; SYSTEM CODE
00001300                           568  ; =============================================================================
00001300                           569  ; SYSTEM
00001300                           570  ; =============================================================================
00001300                           571  
00001300                           572  ; -----------------------------------------------------------------------------
00001300                           573  SYSINIT
00001300                           574  ; INITIALIZE SYSTEM
00001300                           575  ; INPUT     : NONE
00001300                           576  ; OUTPUT    : NONE
00001300                           577  ; MODIFIES  : NONE
00001300                           578  ; -----------------------------------------------------------------------------
00001300                           579  
00001300                           580              ; INSTALL TRAPS AND INTERRUPTIONS
00001300  21FC 0000141A 0080       581              MOVE.L  #SCRPLOT,($80+SCRUPDTN*4)
00001308  21FC 00001450 0084       582              MOVE.L  #KBDUPD,($80+KBDUPDTN*4)
00001310  21FC 0000149E 0088       583              MOVE.L  #MOUUPD,($80+MOUUPDTN*4)
00001318  21FC 000013C4 008C       584              MOVE.L  #SNDPLAY,($80+SNDPLTN*4)
00001320  21FC 00001434 0064       585              MOVE.L  #SCRTIM,($60+SCRINTN*4)
00001328                           586              
00001328  7200                     587              MOVE.L  #TXTCOLOR,D1
0000132A  4EB9 00001354            588              JSR     TXTINIT
00001330  4EB9 00001442            589              JSR     KBDINIT
00001336  4EB9 00001490            590              JSR     MOUINIT
0000133C  4EB9 0000136A            591              JSR     SNDINIT
00001342  4EB9 000013D6            592              JSR     SCRINIT
00001348  4EB8 1000                593              JSR     DMMINIT
0000134C                           594              
0000134C                           595              ; SET USER MODE AND ALLOW INTERRUPTIONS
0000134C  40E7                     596              MOVE.W  SR,-(A7)
0000134E  0257 D8FF                597              ANDI.W  #$D8FF,(A7)
00001352  4E73                     598              RTE
00001354                           599              
00001354                           600  ; -----------------------------------------------------------------------------
00001354                           601  TXTINIT
00001354                           602  ; INITIALIZES THE TEXT OUTPUT
00001354                           603  ; INPUT     : D1.L TEXT COLOR 
00001354                           604  ; OUTPUT    : NONE
00001354                           605  ; MODIFIES  : NONE
00001354                           606  ; -----------------------------------------------------------------------------
00001354                           607  
00001354  48E7 E000                608              MOVEM.L D0-D2,-(A7)
00001358                           609              
00001358  243C 040E0001            610              MOVE.L  #TXTFONT<<24|TXTSIZE<<16|TXTSTYLE,D2
0000135E  103C 0015                611              MOVE.B  #21,D0
00001362  4E4F                     612              TRAP    #15
00001364                           613              
00001364  4CDF 0007                614              MOVEM.L (A7)+,D0-D2
00001368  4E75                     615              RTS     
0000136A                           616         
0000136A                           617  ; -----------------------------------------------------------------------------
0000136A                           618  SNDINIT
0000136A                           619  ; INITIALIZES SOUND SYSTEM
0000136A                           620  ; INPUT     : NONE
0000136A                           621  ; OUTPUT    : NONE
0000136A                           622  ; MODIFIES  : NONE
0000136A                           623  ; -----------------------------------------------------------------------------
0000136A                           624  
0000136A  48E7 C0C0                625              MOVEM.L D0-D1/A0-A1,-(A7)
0000136E                           626              
0000136E  4201                     627              CLR.B   D1
00001370  41F9 000013B4            628              LEA     .SNDLIST,A0
00001376  2018                     629  .LOOP       MOVE.L  (A0)+,D0
00001378  6700 000E                630              BEQ     .DONE
0000137C  2240                     631              MOVE.L  D0,A1
0000137E  103C 0047                632              MOVE.B  #71,D0
00001382  4E4F                     633              TRAP    #15
00001384  5201                     634              ADDQ.B  #1,D1
00001386  60EE                     635              BRA     .LOOP
00001388                           636              
00001388  4CDF 0303                637  .DONE       MOVEM.L (A7)+,D0-D1/A0-A1
0000138C  4E75                     638              RTS
0000138E                           639              
0000138E= 53 4E 44 2F 44 49 ...    640  .SNDDIE     DC.B    'SND/DIE.wav',0
0000139A= 53 4E 44 2F 4A 55 ...    641  .SNDJUMP    DC.B    'SND/JUMP.wav',0
000013A7= 53 4E 44 2F 53 43 ...    642  .SNDSCO     DC.B    'SND/SCO.wav',0
000013B4                           643              DS.W    0                       ; WORD ALIGN
000013B4= 0000138E 0000139A ...    644  .SNDLIST    DC.L    .SNDDIE,.SNDJUMP,.SNDSCO,0
000013C4                           645              
000013C4                           646  ; ------------------------------------------------------------------------------
000013C4                           647  SNDPLAY
000013C4                           648  ; PLAY SOUND
000013C4                           649  ; INPUT    : D7 SOUND ID
000013C4                           650  ; OUTPUT   : NONE
000013C4                           651  ; MODIFIES : NONE
000013C4                           652  ; ------------------------------------------------------------------------------
000013C4                           653  
000013C4  48A7 C000                654              MOVEM.W D0-D1,-(A7)
000013C8                           655              
000013C8  103C 0048                656              MOVE.B  #72,D0
000013CC  1207                     657              MOVE.B  D7,D1
000013CE  4E4F                     658              TRAP    #15
000013D0                           659              
000013D0  4C9F 0003                660              MOVEM.W (A7)+,D0-D1
000013D4  4E73                     661              RTE
000013D6                           662  
000013D6                           663  ; -----------------------------------------------------------------------------
000013D6                           664  SCRINIT
000013D6                           665  ; INIT SCREEN. SET SCREEN RESOLUTION, SET WINDOWED MODE, CLEAR SCREEN,
000013D6                           666  ; ENABLE DOUBLE BUFFER, ENABLE TIMED INTERRUPT.
000013D6                           667  ; INPUT     : NONE
000013D6                           668  ; OUTPUT    : NONE
000013D6                           669  ; MODIFIES  : NONE
000013D6                           670  ; -----------------------------------------------------------------------------
000013D6                           671  
000013D6  48E7 C000                672              MOVEM.L D0-D1,-(A7)
000013DA                           673              
000013DA                           674              ; SET SCREEN RESOLUTION
000013DA  103C 0021                675              MOVE.B  #33,D0
000013DE  223C 028001E0            676              MOVE.L  #SCRWIDTH<<16|SCRHEIGH,D1
000013E4  4E4F                     677              TRAP    #15
000013E6                           678              
000013E6                           679              ; SET WINDOWED MODE
000013E6  7201                     680              MOVE.L  #1,D1
000013E8  4E4F                     681              TRAP    #15
000013EA                           682              
000013EA                           683              ; CLEAR SCREEN
000013EA  103C 000B                684              MOVE.B  #11,D0
000013EE  323C FF00                685              MOVE.W  #$FF00,D1
000013F2  4E4F                     686              TRAP    #15
000013F4                           687              
000013F4                           688              ; ENABLE DOUBLE BUFFER
000013F4  103C 005C                689              MOVE.B  #92,D0
000013F8  123C 0011                690              MOVE.B  #17,D1
000013FC  4E4F                     691              TRAP    #15
000013FE                           692              
000013FE                           693              ; ENABLE TIMED INTERRUPT
000013FE  103C 0020                694              MOVE.B  #32,D0
00001402  123C 0006                695              MOVE.B  #6,D1
00001406  143C 0081                696              MOVE.B  #$80|SCRINTN,D2
0000140A  7610                     697              MOVE.L  #1000/SCRFPS,D3
0000140C  4E4F                     698              TRAP    #15
0000140E                           699              
0000140E                           700              ; CLEAR INTERRUPT COUNTER
0000140E  4279 0000292C            701              CLR.W   (SCRINTCT)
00001414                           702              
00001414  4CDF 0003                703              MOVEM.L (A7)+,D0-D1
00001418  4E75                     704              RTS
0000141A                           705              
0000141A                           706  ; -----------------------------------------------------------------------------
0000141A                           707  SCRPLOT
0000141A                           708  ; UPDATES DOUBLE BUFFER
0000141A                           709  ; INPUT    : NONE
0000141A                           710  ; OUTPUT   : NONE
0000141A                           711  ; MODIFIES : NONE
0000141A                           712  ; -----------------------------------------------------------------------------
0000141A                           713  
0000141A  48A7 C000                714              MOVEM.W D0-D1,-(A7)
0000141E                           715              
0000141E                           716              ; SWITCH BUFFERS
0000141E  103C 005E                717              MOVE.B  #94,D0
00001422  4E4F                     718              TRAP    #15
00001424                           719              
00001424                           720              ; CLEAN HIDDEN BUFFER
00001424  103C 000B                721              MOVE.B  #11,D0
00001428  323C FF00                722              MOVE.W  #$FF00,D1
0000142C  4E4F                     723              TRAP    #15
0000142E  4C9F 0003                724              MOVEM.W (A7)+,D0-D1
00001432  4E73                     725              RTE
00001434                           726  
00001434                           727  ; -----------------------------------------------------------------------------
00001434                           728  SCRTIM
00001434                           729  ; TIMED INTERRUPT SERVICE ROUTINE, COUNTS TIME FALLING
00001434                           730  ; INPUT     : NONE
00001434                           731  ; OUTPUT    : NONE
00001434                           732  ; MODIFIES  : NONE
00001434                           733  ; -----------------------------------------------------------------------------
00001434                           734  
00001434  5239 0000292C            735              ADDQ.B  #1,(SCRINTCT)
0000143A  5239 0000292D            736              ADDQ.B  #1,(SCRCYCCT)
00001440  4E73                     737              RTE
00001442                           738              
00001442                           739  ; -----------------------------------------------------------------------------
00001442                           740  KBDINIT
00001442                           741  ; INIT KEYBOARD
00001442                           742  ; INPUT     : NONE
00001442                           743  ; OUTPUT    : NONE
00001442                           744  ; MODIFIES  : NONE
00001442                           745  ; -----------------------------------------------------------------------------
00001442                           746  
00001442  4239 00002924            747              CLR.B   (KBDVAL)
00001448  4239 00002925            748              CLR.B   (KBDEDGE)
0000144E  4E75                     749              RTS
00001450                           750              
00001450                           751  ; -----------------------------------------------------------------------------
00001450                           752  KBDUPD
00001450                           753  ; UPDATE KEYBOARD INFO
00001450                           754  ; 0 -> SPACE
00001450                           755  ; INPUT     : NONE
00001450                           756  ; OUTPUT    : NONE
00001450                           757  ; MODIFIES  : NONE
00001450                           758  ; -----------------------------------------------------------------------------
00001450                           759  
00001450  48E7 F000                760              MOVEM.L D0-D3,-(A7)
00001454                           761              
00001454                           762              ; READ KEYBOARD
00001454  103C 0013                763              MOVE.B  #19,D0
00001458  223C 00001B20            764              MOVE.L  #KBDPAUSE<<8|KBDSPACE,D1
0000145E  4E4F                     765              TRAP    #15
00001460                           766              
00001460                           767              ; CONVERT TO DESIRED FORMAT
00001460  4EB9 00001482            768              JSR     .PACK
00001466                           769  
00001466                           770              ; COMPUTE KBDEDGE
00001466  1039 00002924            771              MOVE.B  (KBDVAL),D0
0000146C  4600                     772              NOT.B   D0
0000146E  C042                     773              AND.W   D2,D0
00001470  13C0 00002925            774              MOVE.B  D0,(KBDEDGE)
00001476                           775              
00001476                           776              ; STORE KBDVAL
00001476  13C2 00002924            777              MOVE.B  D2,(KBDVAL)
0000147C                           778              
0000147C  4CDF 000F                779              MOVEM.L (A7)+,D0-D3
00001480  4E73                     780              RTE
00001482                           781  
00001482  363C 0003                782  .PACK       MOVE.W  #3,D3
00001486  E189                     783  .LOOP       LSL.L   #8,D1
00001488  E312                     784              ROXL.B  #1,D2
0000148A  51CB FFFA                785              DBRA.W  D3,.LOOP
0000148E  4E75                     786              RTS
00001490                           787  
00001490                           788  ; -----------------------------------------------------------------------------
00001490                           789  MOUINIT
00001490                           790  ; INPUT     : NONE
00001490                           791  ; OUTPUT    : NONE
00001490                           792  ; MODIFIES  : NONE
00001490                           793  ; -----------------------------------------------------------------------------
00001490                           794  
00001490  42B9 00002926            795              CLR.L   MOUPOS
00001496  4239 0000292A            796              CLR.B   MOUVAL
0000149C  4E75                     797              RTS
0000149E                           798              
0000149E                           799  ; -----------------------------------------------------------------------------
0000149E                           800  MOUUPD
0000149E                           801  ; INPUT     : NONE
0000149E                           802  ; OUTPUT    : NONE
0000149E                           803  ; MODIFIES  : NONE
0000149E                           804  ; -----------------------------------------------------------------------------
0000149E                           805  
0000149E  48E7 C000                806              MOVEM.L D0-D1,-(A7)
000014A2                           807              
000014A2  103C 003D                808              MOVE.B  #61,D0
000014A6  4201                     809              CLR.B   D1
000014A8  4E4F                     810              TRAP    #15
000014AA  13C0 0000292A            811              MOVE.B  D0,(MOUVAL)
000014B0  23C1 00002926            812              MOVE.L  D1,(MOUPOS)
000014B6                           813              
000014B6  4CDF 0003                814              MOVEM.L (A7)+,D0-D1
000014BA  4E73                     815              RTE
000014BC                           816  
000014BC                           817  
000014BC                           818  
000014BC                           819  
000014BC                           820  
000014BC                           821  
000014BC                           822  
000014BC                           823  
000014BC                           824  
000014BC                           825  
000014BC                           826  
000014BC                           827  
000014BC                           828  
000014BC                           829  -------------------- end include --------------------
000014BC                           830              INCLUDE "STATES.X68"            ; STATES MANAGEMENT
000014BC                           831  ; =============================================================================
000014BC                           832  ; GAME STATE MANAGEMENT
000014BC                           833  ; =============================================================================
000014BC                           834  
000014BC                           835  ; -----------------------------------------------------------------------------
000014BC                           836  STAINIT
000014BC                           837  ; INITALIZES THE STATE MANAGER
000014BC                           838  ; INPUT    - NONE
000014BC                           839  ; OUTPUT   - NONE
000014BC                           840  ; MODIFIES - NONE
000014BC                           841  ; -----------------------------------------------------------------------------
000014BC  33FC FFFF 0000294C       842              MOVE.W  #STANONE,(STACUR)
000014C4  4279 0000294E            843              CLR.W   (STANEXT)
000014CA  4E75                     844              RTS
000014CC                           845  
000014CC                           846  ; -----------------------------------------------------------------------------
000014CC                           847  STAUPD
000014CC                           848  ; PERFORMS STATE UPDATE AND INIT IF NECESSARY
000014CC                           849  ; INPUT    - NONE
000014CC                           850  ; OUTPUT   - NONE
000014CC                           851  ; MODIFIES - NONE
000014CC                           852  ; -----------------------------------------------------------------------------
000014CC  48E7 8080                853              MOVEM.L D0/A0,-(A7)
000014D0  4280                     854              CLR.L   D0
000014D2  3039 0000294E            855              MOVE.W  (STANEXT),D0
000014D8  B079 0000294C            856              CMP.W   (STACUR),D0
000014DE  6700 0012                857              BEQ     .DOUPD
000014E2  33C0 0000294C            858              MOVE.W  D0,(STACUR)             ; IF STATE CHANGED, DO INIT
000014E8  E588                     859              LSL.L   #2,D0
000014EA  2040                     860              MOVE.L  D0,A0
000014EC  2068 150A                861              MOVE.L  .INITBL(A0),A0
000014F0  4E90                     862              JSR     (A0)
000014F2  4280                     863  .DOUPD      CLR.L   D0                      ; IN ANY CASE, DO UPDATE
000014F4  3039 0000294C            864              MOVE.W  (STACUR),D0
000014FA  E588                     865              LSL.L   #2,D0
000014FC  2040                     866              MOVE.L  D0,A0
000014FE  2068 151E                867              MOVE.L  .UPDTBL(A0),A0
00001502  4E90                     868              JSR     (A0)
00001504  4CDF 0101                869              MOVEM.L (A7)+,D0/A0
00001508  4E75                     870              RTS
0000150A= 00001564 000015AA ...    871  .INITBL     DC.L    ISCINIT,INSINIT,GAMEINIT,PAUSINIT,GOVINIT
0000151E= 00001582 000015AC ...    872  .UPDTBL     DC.L    ISCUPD,INSUPD,GAMEUPD,PAUSUPD,GOVUPD
00001532                           873  
00001532                           874  ; -----------------------------------------------------------------------------
00001532                           875  STAPLOT
00001532                           876  ; PERFORMS STATE PLOT
00001532                           877  ; INPUT    - NONE
00001532                           878  ; OUTPUT   - NONE
00001532                           879  ; MODIFIES - NONE
00001532                           880  ; -----------------------------------------------------------------------------
00001532  48E7 8080                881              MOVEM.L D0/A0,-(A7)
00001536  4280                     882              CLR.L   D0
00001538  3039 0000294C            883              MOVE.W  (STACUR),D0
0000153E  E588                     884              LSL.L   #2,D0
00001540  2040                     885              MOVE.L  D0,A0
00001542  2068 154E                886              MOVE.L  .PLTTBL(A0),A0
00001546  4E90                     887              JSR     (A0)
00001548  4CDF 0101                888              MOVEM.L (A7)+,D0/A0
0000154C  4E75                     889              RTS
0000154E= 000015A4 000015AE ...    890  .PLTTBL     DC.L    ISCPLOT,INSPLOT,GAMEPLOT,PAUSPLOT,GOVPLOT
00001562                           891  
00001562                           892  ; -----------------------------------------------------------------------------
00001562                           893  STAEMPTY
00001562                           894  ; EMPTY SUBROUTINE FOR CASES WITH NOTHING TO DO
00001562                           895  ; INPUT    - NONE
00001562                           896  ; OUTPUT   - NONE
00001562                           897  ; MODIFIES - NONE
00001562                           898  ; NOTE     - JUST A PLACEHOLDER. NOTHING TO DO.
00001562                           899  ; -----------------------------------------------------------------------------
00001562  4E75                     900              RTS
00001564                           901  
00001564                           902  
00001564                           903  
00001564                           904  
00001564                           905  
00001564                           906  
00001564                           907  
00001564                           908  
00001564                           909  -------------------- end include --------------------
00001564                           910              INCLUDE "INTRO.X68"             ; INTRO STATE MANAGEMENT
00001564                           911  ; =============================================================================
00001564                           912  ; INTRO SCREEN MANAGEMENT
00001564                           913  ; =============================================================================
00001564                           914  
00001564                           915  ; ------------------------------------------------------------------------------
00001564                           916  ISCINIT
00001564                           917  ; INTRO SCREEN INIT
00001564                           918  ; INPUT    : NONE
00001564                           919  ; OUTPUT   : NONE
00001564                           920  ; MODIFIES : NONE
00001564                           921  ; ------------------------------------------------------------------------------
00001564                           922              ; INIT GAME VARIABLES
00001564  4EB9 000017C8            923              JSR BIRDINIT
0000156A  4EB9 00001A34            924              JSR SCOINIT
00001570                           925              ; CLEAN PIPES AND BUTTONS
00001570  303C 0002                926              MOVE.W  #PIPEAGTP,D0
00001574  4EB8 117A                927              JSR AGLCLEAN
00001578  303C 0003                928              MOVE.W  #BUTAGTP,D0
0000157C  4EB8 117A                929              JSR AGLCLEAN
00001580  4E75                     930              RTS
00001582                           931  
00001582                           932  ; ------------------------------------------------------------------------------
00001582                           933  ISCUPD
00001582                           934  ; INTRO SCREEN UPDATE
00001582                           935  ; INPUT    : NONE
00001582                           936  ; OUTPUT   : NONE
00001582                           937  ; MODIFIES : NONE
00001582                           938  ; ------------------------------------------------------------------------------
00001582                           939              
00001582  4EB9 00001972            940              JSR BACKUPD
00001588  4EB8 10DC                941              JSR AGLUPD
0000158C  1039 00002925            942              MOVE.B  (KBDEDGE),D0
00001592  C03C 0001                943              AND.B   #1,D0
00001596  6700 000A                944              BEQ     .CONT
0000159A  33FC 0002 0000294E       945              MOVE.W  #STAGAME,(STANEXT)      
000015A2                           946  .CONT
000015A2  4E75                     947              RTS
000015A4                           948  
000015A4                           949  ; ------------------------------------------------------------------------------
000015A4                           950  ISCPLOT
000015A4                           951  ; INTRO SCREEN PLOT
000015A4                           952  ; INPUT    : NONE
000015A4                           953  ; OUTPUT   : NONE
000015A4                           954  ; MODIFIES : NONE
000015A4                           955  ; ------------------------------------------------------------------------------
000015A4  4EB8 1124                956              JSR AGLPLOT
000015A8  4E75                     957              RTS
000015AA                           958  
000015AA                           959  
000015AA                           960  
000015AA                           961  
000015AA                           962  
000015AA                           963  
000015AA                           964  
000015AA                           965  
000015AA                           966  
000015AA                           967  
000015AA                           968  -------------------- end include --------------------
000015AA                           969              INCLUDE "INSTRUCTIONS.X68"      ; INSTRUCTIONS STATE MANAGEMENT
000015AA                           970  ; =============================================================================
000015AA                           971  ; INSTRUCTION SCREEN MANAGEMENT
000015AA                           972  ; =============================================================================
000015AA                           973  
000015AA                           974  ; ------------------------------------------------------------------------------
000015AA                           975  INSINIT
000015AA                           976  ; INSTRUCTIONS SCREEN INIT
000015AA                           977  ; INPUT    : NONE
000015AA                           978  ; OUTPUT   : NONE
000015AA                           979  ; MODIFIES : NONE
000015AA                           980  ; ------------------------------------------------------------------------------
000015AA  4E75                     981              RTS
000015AC                           982  
000015AC                           983  ; ------------------------------------------------------------------------------
000015AC                           984  INSUPD
000015AC                           985  ; INSTRUCTIONS SCREEN UPDATE
000015AC                           986  ; INPUT    : NONE
000015AC                           987  ; OUTPUT   : NONE
000015AC                           988  ; MODIFIES : NONE
000015AC                           989  ; ------------------------------------------------------------------------------
000015AC  4E75                     990              RTS
000015AE                           991  
000015AE                           992  ; ------------------------------------------------------------------------------
000015AE                           993  INSPLOT
000015AE                           994  ; INSTRUCTIONS SCREEN PLOT
000015AE                           995  ; INPUT    : NONE
000015AE                           996  ; OUTPUT   : NONE
000015AE                           997  ; MODIFIES : NONE
000015AE                           998  ; ------------------------------------------------------------------------------
000015AE  4E75                     999              RTS
000015B0                          1000  
000015B0                          1001  
000015B0                          1002  
000015B0                          1003  
000015B0                          1004  
000015B0                          1005  
000015B0                          1006  
000015B0                          1007  
000015B0                          1008  
000015B0                          1009  
000015B0                          1010  -------------------- end include --------------------
000015B0                          1011              INCLUDE "GAME.X68"              ; GAME STATE MANAGEMENT
000015B0                          1012  ; =============================================================================
000015B0                          1013  ; GAME MANAGEMENT
000015B0                          1014  ; =============================================================================
000015B0                          1015  
000015B0                          1016  ; -----------------------------------------------------------------------------
000015B0                          1017  GAMEINIT
000015B0                          1018  ; INITIALIZES GAME.
000015B0                          1019  ; INPUT    : NONE
000015B0                          1020  ; OUTPUT   : NONE
000015B0                          1021  ; MODIFIES : NONE
000015B0                          1022  ; ------------------------------------------------------------------------------        
000015B0  13F9 0000292E 0000292D  1023              MOVE.B  (GAMCYCCT),(SCRCYCCT)
000015BA                          1024              ; CLEAN BUTTONS
000015BA  303C 0003               1025              MOVE.W  #BUTAGTP,D0
000015BE  4EB8 117A               1026              JSR AGLCLEAN
000015C2  4E75                    1027              RTS
000015C4                          1028              
000015C4                          1029  ; -----------------------------------------------------------------------------
000015C4                          1030  GAMEUPD
000015C4                          1031  ; UPDATES GAME.
000015C4                          1032  ; INPUT     : NONE
000015C4                          1033  ; OUTPUT    : NONE
000015C4                          1034  ; MODIFIES  : NONE
000015C4                          1035  ; -----------------------------------------------------------------------------
000015C4                          1036  
000015C4  4EB9 00001972           1037              JSR     BACKUPD
000015CA  1F00                    1038              MOVE.B  D0,-(A7)
000015CC  1039 00002925           1039              MOVE.B  (KBDEDGE),D0
000015D2  0800 0001               1040              BTST    #1,D0
000015D6  6700 0014               1041              BEQ     .NOPAUSE
000015DA  33FC 0003 0000294E      1042              MOVE.W  #STAPAUSE, (STANEXT)
000015E2  13F9 0000292D 0000292E  1043              MOVE.B  (SCRCYCCT),(GAMCYCCT)
000015EC                          1044              
000015EC  4EB9 00001600           1045  .NOPAUSE    JSR     NEWPIPE
000015F2  4EB8 10DC               1046              JSR     AGLUPD
000015F6  4EB9 000017D8           1047              JSR     BIRDUPD
000015FC                          1048              
000015FC  101F                    1049              MOVE.B  (A7)+,D0
000015FE  4E75                    1050              RTS
00001600                          1051  
00001600                          1052  ; -----------------------------------------------------------------------------
00001600                          1053  NEWPIPE
00001600                          1054  ; CREATES A NEW PIPE IN CASE IT'S NECESSARY.
00001600                          1055  ; INPUT     : NONE
00001600                          1056  ; OUTPUT    : NONE
00001600                          1057  ; MODIFIES  : NONE
00001600                          1058  ; -----------------------------------------------------------------------------
00001600                          1059  
00001600  48E7 8070               1060              MOVEM.L D0/A1-A3,-(A7)
00001604                          1061              
00001604  1039 0000292D           1062              MOVE.B  (SCRCYCCT),D0
0000160A  0200 003F               1063              ANDI.B  #MASKNWPP,D0
0000160E  6600 001C               1064              BNE     .GOUPD
00001612  43F9 0000186C           1065              LEA     PIPEINIT,A1
00001618  45F9 00001884           1066              LEA     PIPEUPD,A2
0000161E  47F9 00001912           1067              LEA     PIPEPLOT,A3
00001624  303C 0002               1068              MOVE    #PIPEAGTP,D0
00001628  4EB8 10C2               1069              JSR     AGLADD
0000162C                          1070              
0000162C  4CDF 0E01               1071  .GOUPD      MOVEM.L (A7)+,D0/A1-A3
00001630  4E75                    1072              RTS
00001632                          1073  
00001632                          1074  ; -----------------------------------------------------------------------------
00001632                          1075  GAMEPLOT
00001632                          1076  ; PLOTS THE GAME.
00001632                          1077  ; INPUT     : NONE
00001632                          1078  ; OUTPUT    : NONE
00001632                          1079  ; MODIFIES  : NONE
00001632                          1080  ; -----------------------------------------------------------------------------
00001632                          1081              
00001632  4EB9 00001A88           1082              JSR     SCOPLOT
00001638  4EB8 1124               1083              JSR     AGLPLOT
0000163C  6000 01EC               1084              BRA     BIRDPLOT
00001640                          1085           
00001640                          1086  
00001640                          1087  
00001640                          1088  
00001640                          1089  
00001640                          1090  
00001640                          1091  
00001640                          1092  
00001640                          1093  
00001640                          1094  
00001640                          1095  
00001640                          1096  
00001640                          1097  
00001640                          1098  
00001640                          1099  -------------------- end include --------------------
00001640                          1100              INCLUDE "PAUSE.X68"             ; PAUSE STATE MANAGEMENT
00001640                          1101  ; =============================================================================
00001640                          1102  ; PAUSE SCREEN MANAGEMENT
00001640                          1103  ; =============================================================================
00001640                          1104  
00001640                          1105  ; ------------------------------------------------------------------------------
00001640                          1106  PAUSINIT
00001640                          1107  ; PAUSE SCREEN INIT
00001640                          1108  ; INPUT    : NONE
00001640                          1109  ; OUTPUT   : NONE
00001640                          1110  ; MODIFIES : NONE
00001640                          1111  ; ------------------------------------------------------------------------------
00001640                          1112              
00001640                          1113              ; INIT RESUME BUTTON
00001640  43F9 00001C0E           1114              LEA     BUTINIT,A1
00001646  45F9 00001C2A           1115              LEA     BUTUPD,A2
0000164C  47F9 00001C88           1116              LEA     BUTPLOT,A3
00001652  303C 0003               1117              MOVE    #BUTAGTP,D0
00001656  49F9 0000296A           1118              LEA     PAUTXTB1,A4
0000165C  323C 00FF               1119              MOVE.W  #SCRWIDTH/2-PAUBUTWD/2,D1
00001660  363C 0181               1120              MOVE.W  #SCRWIDTH/2+PAUBUTWD/2,D3
00001664  343C 00CD               1121              MOVE.W  #SCRHEIGH/2-PAUBUTHG,D2
00001668  383C 00F0               1122              MOVE.W  #SCRHEIGH/2,D4
0000166C  3A3C 0002               1123              MOVE.W  #STAGAME,D5
00001670  4EB8 10C2               1124              JSR     AGLADD
00001674                          1125              
00001674                          1126              ; INIT LEAVE BUTTON
00001674  43F9 00001C0E           1127              LEA     BUTINIT,A1
0000167A  45F9 00001C2A           1128              LEA     BUTUPD,A2
00001680  47F9 00001C88           1129              LEA     BUTPLOT,A3
00001686  303C 0003               1130              MOVE    #BUTAGTP,D0
0000168A  49F9 00002971           1131              LEA     PAUTXTB2,A4
00001690  323C 00FF               1132              MOVE.W  #SCRWIDTH/2-PAUBUTWD/2,D1
00001694  363C 0181               1133              MOVE.W  #SCRWIDTH/2+PAUBUTWD/2,D3
00001698  343C 0101               1134              MOVE.W  #SCRHEIGH/2+PAUBUTHG/2,D2
0000169C  383C 0124               1135              MOVE.W  #SCRHEIGH/2+3*PAUBUTHG/2,D4
000016A0  3A3C 0000               1136              MOVE.W  #STAINTRO,D5
000016A4  4EB8 10C2               1137              JSR     AGLADD
000016A8                          1138              
000016A8  4E75                    1139              RTS
000016AA                          1140  
000016AA                          1141  ; ------------------------------------------------------------------------------
000016AA                          1142  PAUSUPD
000016AA                          1143  ; PAUSE SCREEN UPDATE
000016AA                          1144  ; INPUT    : NONE
000016AA                          1145  ; OUTPUT   : NONE
000016AA                          1146  ; MODIFIES : NONE
000016AA                          1147  ; ------------------------------------------------------------------------------
000016AA                          1148          
000016AA  1F00                    1149              MOVE.B  D0,-(A7)
000016AC                          1150              
000016AC                          1151              ; CHECK IF KEY PRESSED TO RESUME GAME
000016AC  1039 00002925           1152              MOVE.B  (KBDEDGE),D0
000016B2  0800 0001               1153              BTST    #1,D0
000016B6  6700 000A               1154              BEQ     .CONT
000016BA  33FC 0002 0000294E      1155              MOVE.W  #STAGAME, (STANEXT)   
000016C2                          1156              
000016C2  303C 0003               1157  .CONT       MOVE.W  #BUTAGTP,D0
000016C6  4EB8 10DC               1158              JSR     AGLUPD
000016CA                          1159              
000016CA  101F                    1160              MOVE.B  (A7)+,D0     
000016CC  4E75                    1161              RTS
000016CE                          1162  
000016CE                          1163  ; ------------------------------------------------------------------------------
000016CE                          1164  PAUSPLOT
000016CE                          1165  ; PAUSE SCREEN PLOT
000016CE                          1166  ; INPUT    : NONE
000016CE                          1167  ; OUTPUT   : NONE
000016CE                          1168  ; MODIFIES : NONE
000016CE                          1169  ; ------------------------------------------------------------------------------
000016CE                          1170  
000016CE  48E7 F820               1171              MOVEM.L D0-D4/A2,-(A7)
000016D2                          1172  
000016D2                          1173              ; PLOT SCORE ITEMS (SCORE, BIRD, CLOUDS AND PIPES)
000016D2  4EB9 00001A88           1174              JSR     SCOPLOT
000016D8  303C 0001               1175              MOVE.W  #CLOUDAGT,D0
000016DC  4EB8 1154               1176              JSR     AGLPLOTT
000016E0  303C 0002               1177              MOVE.W  #PIPEAGTP,D0
000016E4  4EB8 1154               1178              JSR     AGLPLOTT
000016E8  4EB9 0000182A           1179              JSR     BIRDPLOT
000016EE                          1180              
000016EE                          1181              ; PLOT MENU BACKGROUND
000016EE  4281                    1182              CLR.L   D1                      ; SET PEN COLOR
000016F0  103C 0050               1183              MOVE.B  #80,D0  
000016F4  4E4F                    1184              TRAP    #15
000016F6  223C 00A3A3A3           1185              MOVE.L  #LGGRAY,D1              ; SET FILL COLOR
000016FC  5200                    1186              ADDQ.B  #1,D0
000016FE  4E4F                    1187              TRAP    #15
00001700  323C 00DC               1188              MOVE.W  #SCRWIDTH/2-PAUMEWID/2,D1
00001704  363C 01A4               1189              MOVE.W  #SCRWIDTH/2+PAUMEWID/2,D3
00001708  343C 00A5               1190              MOVE.W  #SCRHEIGH/2-PAUMEHEI/2,D2
0000170C  383C 013B               1191              MOVE.W  #SCRHEIGH/2+PAUMEHEI/2,D4
00001710  103C 0057               1192              MOVE.B  #87,D0
00001714  4E4F                    1193              TRAP    #15
00001716                          1194              
00001716                          1195              ; PLOT MENU TITLE
00001716  223C 00231505           1196              MOVE.L  #DARKBLUE,D1
0000171C  103C 0050               1197              MOVE.B  #80,D0
00001720  4E4F                    1198              TRAP    #15
00001722  5200                    1199              ADDQ.B  #1,D0
00001724  4E4F                    1200              TRAP    #15
00001726  323C 00FF               1201              MOVE.W  #SCRWIDTH/2-PAUBUTWD/2,D1
0000172A  363C 0181               1202              MOVE.W  #SCRWIDTH/2+PAUBUTWD/2,D3
0000172E  0442 0011               1203              SUB.W   #PAUBUTHG/2,D2
00001732  3802                    1204              MOVE.W  D2,D4
00001734  0644 0023               1205              ADD.W   #PAUBUTHG,D4
00001738  103C 0057               1206              MOVE.B  #87,D0
0000173C  4E4F                    1207              TRAP    #15
0000173E  3601                    1208              MOVE.W  D1,D3
00001740  0441 0011               1209              SUB.W   #PAUBUTHG/2,D1
00001744  0643 0011               1210              ADD.W   #PAUBUTHG/2,D3
00001748  5200                    1211              ADDQ.B  #1,D0
0000174A  4E4F                    1212              TRAP    #15
0000174C  0641 0082               1213              ADD.W   #PAUBUTWD,D1
00001750  0643 0082               1214              ADD.W   #PAUBUTWD,D3
00001754  4E4F                    1215              TRAP    #15
00001756  223C 00FEFDFB           1216              MOVE.L  #WHITE,D1
0000175C  4EB8 1354               1217              JSR     TXTINIT
00001760  4240                    1218              CLR.W   D0              ; COUNT TEXT LENGTH
00001762  43F9 00002964           1219              LEA     PAUTITLE,A1
00001768  4A19                    1220  .LOOP       TST.B   (A1)+
0000176A  6700 0008               1221              BEQ     .ENDLOOP
0000176E  0600 000C               1222              ADD.B   #TXTSIZE-2,D0
00001772  60F4                    1223              BRA     .LOOP
00001774                          1224  .ENDLOOP    
00001774  323C 0140               1225              MOVE.W  #SCRWIDTH/2,D1
00001778  E248                    1226              LSR.W   #1,D0
0000177A  9240                    1227              SUB.W   D0,D1
0000177C  0642 0011               1228              ADD.W   #PAUBUTHG/2,D2
00001780  5D42                    1229              SUB.W   #TXTSIZE/2-1,D2
00001782  43F9 00002964           1230              LEA     PAUTITLE,A1
00001788  103C 005F               1231              MOVE.B  #95,D0
0000178C  4E4F                    1232              TRAP    #15
0000178E                          1233  
0000178E                          1234              
0000178E                          1235              
0000178E                          1236              ; PLOT BUTTONS
0000178E  303C 0003               1237              MOVE.W  #BUTAGTP,D0
00001792  4EB8 1154               1238              JSR     AGLPLOTT
00001796                          1239              
00001796  4CDF 041F               1240              MOVEM.L (A7)+,D0-D4/A2
0000179A  4E75                    1241              RTS
0000179C                          1242  
0000179C                          1243  
0000179C                          1244  
0000179C                          1245  
0000179C                          1246  
0000179C                          1247  
0000179C                          1248  
0000179C                          1249  
0000179C                          1250  
0000179C                          1251  
0000179C                          1252  
0000179C                          1253  
0000179C                          1254  
0000179C                          1255  
0000179C                          1256  
0000179C                          1257  
0000179C                          1258  
0000179C                          1259  -------------------- end include --------------------
0000179C                          1260              INCLUDE "GOVER.X68"             ; GAME OVER STATE MANAGEMENT
0000179C                          1261  ; =============================================================================
0000179C                          1262  ; GAME OVER SCREEN MANAGEMENT
0000179C                          1263  ; =============================================================================
0000179C                          1264  
0000179C                          1265  ; ------------------------------------------------------------------------------
0000179C                          1266  GOVINIT
0000179C                          1267  ; GAME OVER SCREEN INIT
0000179C                          1268  ; INPUT    : NONE
0000179C                          1269  ; OUTPUT   : NONE
0000179C                          1270  ; MODIFIES : NONE
0000179C                          1271  ; ------------------------------------------------------------------------------
0000179C  6000 0342               1272              BRA     SCOSAVE
000017A0                          1273  
000017A0                          1274  ; ------------------------------------------------------------------------------
000017A0                          1275  GOVUPD
000017A0                          1276  ; GAME OVER SCREEN UPDATE
000017A0                          1277  ; INPUT    : NONE
000017A0                          1278  ; OUTPUT   : NONE
000017A0                          1279  ; MODIFIES : NONE
000017A0                          1280  ; ------------------------------------------------------------------------------
000017A0                          1281  
000017A0  3F00                    1282              MOVE.W  D0,-(A7)
000017A2                          1283  
000017A2  4EB9 00001972           1284              JSR     BACKUPD
000017A8  4EB8 10DC               1285              JSR     AGLUPD
000017AC                          1286              ; CHECK IF KEY PRESSED
000017AC  1039 00002925           1287              MOVE.B  (KBDEDGE),D0
000017B2  6700 000A               1288              BEQ     .CONT
000017B6  33FC 0000 0000294E      1289              MOVE.W  #STAINTRO,(STANEXT)   
000017BE                          1290     
000017BE  301F                    1291  .CONT       MOVE.W  (A7)+,D0
000017C0  4E75                    1292              RTS
000017C2                          1293  
000017C2                          1294  ; ------------------------------------------------------------------------------
000017C2                          1295  GOVPLOT
000017C2                          1296  ; GAME OVER SCREEN PLOT
000017C2                          1297  ; INPUT    : NONE
000017C2                          1298  ; OUTPUT   : NONE
000017C2                          1299  ; MODIFIES : NONE
000017C2                          1300  ; ------------------------------------------------------------------------------
000017C2  4EB8 1632               1301              JSR GAMEPLOT
000017C6  4E75                    1302              RTS
000017C8                          1303  
000017C8                          1304  
000017C8                          1305  
000017C8                          1306  
000017C8                          1307  
000017C8                          1308  
000017C8                          1309  
000017C8                          1310  
000017C8                          1311  
000017C8                          1312  
000017C8                          1313  
000017C8                          1314  -------------------- end include --------------------
000017C8                          1315              INCLUDE "BIRD.X68"              ; PLAYER (BIRD) MANAGEMENT
000017C8                          1316  ; =============================================================================
000017C8                          1317  ; BIRD MANAGEMENT
000017C8                          1318  ; =============================================================================
000017C8                          1319  
000017C8                          1320  ; -----------------------------------------------------------------------------
000017C8                          1321  BIRDINIT
000017C8                          1322  ; INITIALIZE BIRD.
000017C8                          1323  ; INPUT     : NONE 
000017C8                          1324  ; OUTPUT    : NONE
000017C8                          1325  ; MODIFIES  : NONE
000017C8                          1326  ; -----------------------------------------------------------------------------
000017C8  33FC 00F0 00002940      1327              MOVE.W  #SCRHEIGH/2,(BIRDPOSY)
000017D0  4279 00002942           1328              CLR.W   BIRDVELY
000017D6  4E75                    1329              RTS
000017D8                          1330              
000017D8                          1331  ; -----------------------------------------------------------------------------
000017D8                          1332  BIRDUPD
000017D8                          1333  ; UPDATES THE BIRD.
000017D8                          1334  ; INPUT    : NONE 
000017D8                          1335  ; OUTPUT   : NONE
000017D8                          1336  ; MODIFIES : NONE
000017D8                          1337  ; -----------------------------------------------------------------------------
000017D8                          1338  
000017D8  48E7 E000               1339              MOVEM.L D0-D2,-(A7)
000017DC                          1340  
000017DC                          1341              ; UPDATE VELOCITY
000017DC  1439 00002925           1342              MOVE.B  (KBDEDGE),D2        ; CHECK IF SHOULD JUMP
000017E2  0802 0000               1343              BTST    #0,D2
000017E6  6700 0014               1344              BEQ     .NOJUMP
000017EA                          1345              
000017EA  1E3C 0001               1346              MOVE.B  #SNDJUMP,D7         ; PLAY SOUND
000017EE  4E43                    1347              TRAP    #SNDPLTN
000017F0  33FC FFF6 00002942      1348              MOVE.W  #JUMPVELY,(BIRDVELY)
000017F8  6000 0008               1349              BRA     .CORDUPD
000017FC                          1350              
000017FC  5279 00002942           1351  .NOJUMP     ADDQ.W  #1,BIRDVELY          ; ACCELERATE
00001802                          1352              
00001802                          1353              ; UPDATE BIRD COORDINATES
00001802  3039 00002940           1354  .CORDUPD    MOVE.W  (BIRDPOSY),D0
00001808  D079 00002942           1355              ADD.W   (BIRDVELY),D0
0000180E                          1356              
0000180E                          1357              ; CHECK SCREEN COLLISIONS
0000180E  B07C 0195               1358              CMP.W   #SCRHEIGH-FLOHEIGH-BIRDRAD,D0
00001812  6D00 000A               1359              BLT     .NOCOL
00001816                          1360          
00001816                          1361              ; COLLISION BOT
00001816  33FC 0004 0000294E      1362  .COLBOT     MOVE.W  #STAGOVER,(STANEXT)
0000181E                          1363              
0000181E                          1364              ; STORE POSITION
0000181E  33C0 00002940           1365  .NOCOL      MOVE.W  D0,(BIRDPOSY)
00001824                          1366  
00001824  4CDF 0007               1367  .DONE       MOVEM.L (A7)+,D0-D2
00001828                          1368              
00001828  4E75                    1369              RTS
0000182A                          1370  
0000182A                          1371  ; -----------------------------------------------------------------------------
0000182A                          1372  BIRDPLOT
0000182A                          1373  ; PLOT THE BIRD.
0000182A                          1374  ; INPUT    : NONE 
0000182A                          1375  ; OUTPUT   : NONE
0000182A                          1376  ; MODIFIES : NONE
0000182A                          1377  ; -----------------------------------------------------------------------------
0000182A                          1378  
0000182A  48E7 F800               1379              MOVEM.L D0-D4,-(A7)
0000182E                          1380  
0000182E                          1381              ; SET PEN COLOR
0000182E  103C 0050               1382              MOVE.B  #80,D0
00001832  4281                    1383              CLR.L   D1
00001834  3239 00002944           1384              MOVE.W  (BIRDPCOL),D1
0000183A  4E4F                    1385              TRAP    #15
0000183C                          1386              
0000183C                          1387              ; SET FILL COLOR
0000183C  103C 0051               1388              MOVE.B  #81,D0
00001840  3239 00002946           1389              MOVE.W  (BIRDFCOL),D1
00001846  4E4F                    1390              TRAP    #15
00001848                          1391  
00001848                          1392              ; DEFINE COORDINATES
00001848  323C 0091               1393              MOVE.W  #(BIRDPOSX)-BIRDRAD,D1
0000184C  363C 00AF               1394              MOVE.W  #(BIRDPOSX)+BIRDRAD,D3
00001850  3439 00002940           1395              MOVE.W  (BIRDPOSY),D2
00001856  3802                    1396              MOVE.W  D2,D4
00001858  0442 000F               1397              SUB.W  #BIRDRAD,D2
0000185C  0644 000F               1398              ADD.W  #BIRDRAD,D4
00001860                          1399              
00001860                          1400              ; DRAW CIRCLE
00001860  103C 0058               1401              MOVE.B  #88,D0
00001864  4E4F                    1402              TRAP    #15
00001866                          1403              
00001866  4CDF 001F               1404              MOVEM.L (A7)+,D0-D4
0000186A                          1405  
0000186A  4E75                    1406              RTS
0000186C                          1407  
0000186C                          1408  
0000186C                          1409  
0000186C                          1410  
0000186C                          1411  
0000186C                          1412  
0000186C                          1413  
0000186C                          1414  
0000186C                          1415  
0000186C                          1416  
0000186C                          1417  
0000186C                          1418  
0000186C                          1419  
0000186C                          1420  -------------------- end include --------------------
0000186C                          1421              INCLUDE "PIPE.X68"              ; OBSTACLE (PIPE) MANAGEMENT
0000186C                          1422  ; =============================================================================
0000186C                          1423  ; PIPE MANAGEMENT (AGENT)
0000186C                          1424  ; PIPEPOSX (W) (A0)
0000186C                          1425  ; PIPETOPH (B) 2(A0)
0000186C                          1426  ; =============================================================================
0000186C                          1427  
0000186C                          1428  ; -----------------------------------------------------------------------------
0000186C                          1429  PIPEINIT
0000186C                          1430  ; INITIALIZE PIPE.
0000186C                          1431  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
0000186C                          1432  ; OUTPUT    : NONE
0000186C                          1433  ; MODIFIES  : NONE
0000186C                          1434  ; -----------------------------------------------------------------------------
0000186C                          1435  
0000186C  2F00                    1436              MOVE.L  D0,-(A7)
0000186E                          1437              
0000186E  30BC 0280               1438              MOVE.W  #SCRWIDTH,(A0)
00001872  4EB8 11E2               1439              JSR UTLRAND         ; RANDOM NUMBER BETWEEN 0-255
00001876  0680 00000096           1440              ADD.L   #(SCRHEIGH-PIPEGAPS-FLOHEIGH)/2,D0
0000187C  1140 0002               1441              MOVE.B  D0,2(A0)
00001880                          1442              
00001880  201F                    1443              MOVE.L  (A7)+,D0
00001882  4E75                    1444              RTS
00001884                          1445              
00001884                          1446  ; -----------------------------------------------------------------------------
00001884                          1447  PIPEUPD
00001884                          1448  ; UPDATES PIPE.
00001884                          1449  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
00001884                          1450  ; OUTPUT    : NONE
00001884                          1451  ; MODIFIES  : NONE
00001884                          1452  ; -----------------------------------------------------------------------------
00001884  48E7 C000               1453              MOVEM.L D0-D1,-(A7)
00001888                          1454              
00001888  3039 0000294C           1455              MOVE.W  (STACUR),D0
0000188E  B07C 0002               1456              CMP.W   #STAGAME,D0
00001892  6600 0078               1457              BNE     .END
00001896                          1458  
00001896                          1459              ; UPDATE POSITION
00001896  0650 FFFB               1460              ADD.W   #PIPEVELX,(A0)
0000189A                          1461  
0000189A                          1462  ; CHECK AND HANDLE COLLISIONS
0000189A                          1463              
0000189A                          1464              ; COLLISION WITH SCREEN
0000189A  3010                    1465              MOVE.W  (A0),D0
0000189C  0640 0032               1466              ADD.W   #PIPEWIDT,D0
000018A0  6A00 000A               1467              BPL     .NOKILL
000018A4  4EB8 10AC               1468              JSR AGLKILL
000018A8  6000 0062               1469              BRA     .END
000018AC                          1470              
000018AC                          1471              ; COLLISION WITH BIRD
000018AC  B07C 00E1               1472  .NOKILL     CMP.W   #BIRDPOSX+BIRDRAD+PIPEWIDT,D0
000018B0  6A00 004C               1473              BPL     .NOCOL
000018B4  B07C 0091               1474              CMP.W   #BIRDPOSX-BIRDRAD,D0
000018B8  6B00 0044               1475              BMI     .NOCOL
000018BC                          1476  
000018BC                          1477              
000018BC                          1478              ; BIRD IS IN PIPE X RANGE
000018BC  4280                    1479              CLR.L   D0
000018BE  1028 0002               1480              MOVE.B  2(A0),D0
000018C2  3239 00002940           1481              MOVE.W  (BIRDPOSY),D1
000018C8  0441 000F               1482              SUB.W   #BIRDRAD,D1
000018CC  B041                    1483              CMP.W   D1,D0
000018CE  6A00 0014               1484              BPL     .COL
000018D2  0640 0078               1485              ADD.W   #PIPEGAPS,D0
000018D6  0641 001E               1486              ADD.W   #2*BIRDRAD,D1
000018DA  B041                    1487              CMP.W   D1,D0
000018DC  6B00 0006               1488              BMI     .COL
000018E0                          1489  
000018E0  6000 001C               1490              BRA     .NOCOL
000018E4                          1491  
000018E4                          1492              ; STOP ALL SOUNDS
000018E4  103C 004C               1493  .COL        MOVE.B  #76,D0
000018E8  7403                    1494              MOVE.L  #3,D2
000018EA  4E4F                    1495              TRAP    #15
000018EC                          1496              
000018EC  1E3C 0000               1497              MOVE.B  #SNDDIE,D7  ; PLAY DIE SOUND
000018F0  4E43                    1498              TRAP    #SNDPLTN
000018F2                          1499              
000018F2  33FC 0004 0000294E      1500              MOVE.W  #STAGOVER,(STANEXT)
000018FA                          1501              
000018FA  6000 0010               1502              BRA     .END
000018FE                          1503  
000018FE                          1504              ; SCORE INCREASE
000018FE  0C50 005F               1505  .NOCOL      CMP.W   #BIRDPOSX-PIPEWIDT-BIRDRAD,(A0)
00001902  6600 0008               1506              BNE     .END
00001906  4EB9 00001A6A           1507              JSR     SCOINC
0000190C                          1508              
0000190C  4CDF 0003               1509  .END        MOVEM.L  (A7)+,D0-D1
00001910  4E75                    1510              RTS
00001912                          1511  
00001912                          1512  ; -----------------------------------------------------------------------------
00001912                          1513  PIPEPLOT
00001912                          1514  ; PLOT THE PIPE.
00001912                          1515  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
00001912                          1516  ; OUTPUT    : NONE
00001912                          1517  ; MODIFIES  : NONE
00001912                          1518  ; -----------------------------------------------------------------------------
00001912                          1519      
00001912  48E7 F800               1520              MOVEM.L D0-D4,-(A7)
00001916                          1521              
00001916                          1522              ; SET PEN AND FILL COLORS
00001916  103C 0050               1523              MOVE.B  #80,D0
0000191A  223C 000C0C0C           1524              MOVE.L  #PIPEPCOL,D1
00001920  4E4F                    1525              TRAP    #15
00001922  103C 0051               1526              MOVE.B  #81,D0
00001926  223C 00616161           1527              MOVE.L  #PIPEFCOL,D1
0000192C  4E4F                    1528              TRAP    #15
0000192E                          1529              
0000192E                          1530              ; PLOT TOP HALF
0000192E  3210                    1531              MOVE.W  (A0),D1
00001930  4242                    1532              CLR.W   D2
00001932  3601                    1533              MOVE.W  D1,D3
00001934  0643 0032               1534              ADD.W   #PIPEWIDT,D3
00001938  4244                    1535              CLR.W   D4
0000193A  1828 0002               1536              MOVE.B  2(A0),D4
0000193E  103C 0057               1537              MOVE.B  #87,D0
00001942  4E4F                    1538              TRAP    #15
00001944                          1539              ; PLOT TOP PIPE OPENING
00001944  3404                    1540              MOVE.W  D4,D2
00001946  0442 000F               1541              SUB.W   #PPOPHEIG,D2
0000194A  5B41                    1542              SUB.W   #PPOPOVER,D1
0000194C  5A43                    1543              ADD.W   #PPOPOVER,D3
0000194E  4E4F                    1544              TRAP    #15
00001950                          1545              
00001950                          1546              
00001950                          1547              ; PLOT BOTTOM HALF
00001950  5A41                    1548              ADD.W   #PPOPOVER,D1
00001952  5B43                    1549              SUB.W   #PPOPOVER,D3
00001954  3404                    1550              MOVE.W  D4,D2
00001956  0642 0078               1551              ADD.W   #PIPEGAPS,D2
0000195A  383C 01A4               1552              MOVE.W  #SCRHEIGH-FLOHEIGH,D4
0000195E  4E4F                    1553              TRAP    #15
00001960                          1554              ;PLOT BOTTOM PIPE OPNENING
00001960  5B41                    1555              SUB.W   #PPOPOVER,D1
00001962  5A43                    1556              ADD.W   #PPOPOVER,D3
00001964  3802                    1557              MOVE.W  D2,D4
00001966  0644 000F               1558              ADD.W   #PPOPHEIG,D4
0000196A  4E4F                    1559              TRAP    #15
0000196C                          1560              
0000196C  4CDF 001F               1561              MOVEM.L (A7)+,D0-D4
00001970  4E75                    1562              RTS
00001972                          1563  
00001972                          1564  
00001972                          1565  
00001972                          1566  
00001972                          1567  
00001972                          1568  
00001972                          1569  
00001972                          1570  
00001972                          1571  
00001972                          1572  
00001972                          1573  
00001972                          1574  
00001972                          1575  
00001972                          1576  -------------------- end include --------------------
00001972                          1577              INCLUDE "BACKGROUND.X68"        ; BACKGROUND MANAGEMENT
00001972                          1578  ; =============================================================================
00001972                          1579  ; BACKGROUND MANAGEMENT
00001972                          1580  ; =============================================================================
00001972                          1581  
00001972                          1582  ; -----------------------------------------------------------------------------
00001972                          1583  BACKUPD
00001972                          1584  ; UPDATES BACKGROUND
00001972                          1585  ; INPUT     : NONE
00001972                          1586  ; OUTPUT    : NONE
00001972                          1587  ; MODIFIES  : NONE
00001972                          1588  ; -----------------------------------------------------------------------------
00001972                          1589              
00001972  48E7 8070               1590              MOVEM.L D0/A1-A3,-(A7)
00001976                          1591              
00001976                          1592              ; CREATE NEW CLOUD
00001976  1039 0000292D           1593              MOVE.B  (SCRCYCCT),D0
0000197C  0200 00FF               1594              ANDI.B  #MASKNWCL,D0
00001980  6600 001C               1595              BNE     .NONEWCL
00001984  43F9 00001B26           1596              LEA     CLDINIT,A1
0000198A  45F9 00001B4A           1597              LEA     CLDUPD,A2
00001990  47F9 00001B78           1598              LEA     CLDPLOT,A3
00001996  303C 0001               1599              MOVE    #CLOUDAGT,D0
0000199A  4EB8 10C2               1600              JSR     AGLADD
0000199E                          1601              
0000199E  4CDF 0E01               1602  .NONEWCL    MOVEM.L (A7)+,D0/A1-A3
000019A2  4E75                    1603              RTS
000019A4                          1604  
000019A4                          1605  ; -----------------------------------------------------------------------------
000019A4                          1606  BACKPLOT
000019A4                          1607  ; DRAWS BACKGROUND
000019A4                          1608  ; INPUT     : NONE
000019A4                          1609  ; OUTPUT    : NONE
000019A4                          1610  ; MODIFIES  : NONE
000019A4                          1611  ; -----------------------------------------------------------------------------
000019A4                          1612  
000019A4  4EB9 000019AE           1613              JSR SKYPLOT
000019AA  6000 0030               1614              BRA FLOPLOT
000019AE                          1615              
000019AE                          1616  ; -----------------------------------------------------------------------------
000019AE                          1617  SKYPLOT
000019AE                          1618  ; DRAWS THE SKY BACKGROUND
000019AE                          1619  ; INPUT     : NONE
000019AE                          1620  ; OUTPUT    : NONE
000019AE                          1621  ; MODIFIES  : NONE
000019AE                          1622  ; -----------------------------------------------------------------------------
000019AE                          1623              
000019AE  48E7 F800               1624              MOVEM.L D0-D4,-(A7)
000019B2                          1625              ; SET PEN COLOR
000019B2  223C 00FFBF80           1626              MOVE.L  #SKYCOLOR,D1
000019B8  103C 0050               1627              MOVE.B  #80,D0
000019BC  4E4F                    1628              TRAP    #15
000019BE                          1629              
000019BE                          1630              ; SET FILL COLOR
000019BE  103C 0051               1631              MOVE.B  #81,D0
000019C2  4E4F                    1632              TRAP    #15
000019C4                          1633              
000019C4                          1634              ; SET COORDS AND DRAW
000019C4  103C 0057               1635              MOVE.B  #87,D0
000019C8  4241                    1636              CLR.W   D1
000019CA  4242                    1637              CLR.W   D2
000019CC  363C 0280               1638              MOVE.W  #SCRWIDTH,D3
000019D0  383C 01E0               1639              MOVE.W  #SCRHEIGH,D4
000019D4  4E4F                    1640              TRAP    #15
000019D6                          1641              
000019D6  4CDF 001F               1642              MOVEM.L (A7)+,D0-D4
000019DA  4E75                    1643              RTS
000019DC                          1644              
000019DC                          1645  ; -----------------------------------------------------------------------------
000019DC                          1646  FLOPLOT
000019DC                          1647  ; DRAWS THE FLOOR BACKGROUND
000019DC                          1648  ; INPUT     : NONE
000019DC                          1649  ; OUTPUT    : NONE
000019DC                          1650  ; MODIFIES  : NONE
000019DC                          1651  ; -----------------------------------------------------------------------------
000019DC                          1652  
000019DC  48E7 F800               1653              MOVEM.L D0-D4,-(A7)
000019E0                          1654              
000019E0                          1655              ; DRAW GRASS
000019E0  4281                    1656              CLR.L   D1                      ; SET PEN COLOR
000019E2  103C 0050               1657              MOVE.B  #80,D0
000019E6  4E4F                    1658              TRAP    #15
000019E8  223C 0035DE3B           1659              MOVE.L  #GRASSCLR,D1            ; SET FILL COLOR
000019EE  103C 0051               1660              MOVE.B  #81,D0                  
000019F2  4E4F                    1661              TRAP    #15
000019F4  103C 0057               1662              MOVE.B  #87,D0                  ; SET COORDS AND DRAW
000019F8  72FF                    1663              MOVE.L  #-1,D1
000019FA  343C 01A4               1664              MOVE.W  #SCRHEIGH-FLOHEIGH,D2
000019FE  363C 0280               1665              MOVE.W  #SCRWIDTH,D3
00001A02  383C 01B3               1666              MOVE.W  #SCRHEIGH-DIRTHEIG,D4
00001A06  4E4F                    1667              TRAP    #15
00001A08                          1668              
00001A08                          1669              ; DRAW DIRT
00001A08  223C 00306284           1670              MOVE.L  #DIRTCLR,D1             ; SET PEN COLOR
00001A0E  103C 0050               1671              MOVE.B  #80,D0
00001A12  4E4F                    1672              TRAP    #15
00001A14  223C 00306284           1673              MOVE.L  #DIRTCLR,D1             ; SET FILL COLOR
00001A1A  103C 0051               1674              MOVE.B  #81,D0                  
00001A1E  4E4F                    1675              TRAP    #15
00001A20  103C 0057               1676              MOVE.B  #87,D0
00001A24  4241                    1677              CLR.W   D1
00001A26  3404                    1678              MOVE.W  D4,D2
00001A28  383C 01E0               1679              MOVE.W  #SCRHEIGH,D4
00001A2C  4E4F                    1680              TRAP    #15
00001A2E                          1681              
00001A2E  4CDF 001F               1682              MOVEM.L (A7)+,D0-D4
00001A32  4E75                    1683              RTS
00001A34                          1684  
00001A34                          1685  
00001A34                          1686  
00001A34                          1687  
00001A34                          1688  -------------------- end include --------------------
00001A34                          1689              INCLUDE "SCORE.X68"             ; SCORE MANAGEMENT
00001A34                          1690  ; =============================================================================
00001A34                          1691  ; SCOREBOARD MANAGEMENT
00001A34                          1692  ; =============================================================================
00001A34                          1693  
00001A34                          1694  ; ------------------------------------------------------------------------------
00001A34                          1695  SCOINIT
00001A34                          1696  ; INITIALIZE SCOREBOARD
00001A34                          1697  ; INPUT    : NONE 
00001A34                          1698  ; OUTPUT   : NONE
00001A34                          1699  ; MODIFIES : NONE
00001A34                          1700  ; ------------------------------------------------------------------------------
00001A34                          1701  
00001A34  48E7 E0C0               1702              MOVEM.L D0-D2/A0-A1,-(A7)
00001A38  4279 00002948           1703              CLR.W   (SCORE)
00001A3E  4279 0000294A           1704              CLR.W   (HIGHSCO)
00001A44                          1705              
00001A44                          1706              ; OPEN FILE
00001A44  43F9 00002930           1707              LEA     SCOPATH,A1
00001A4A  103C 0033               1708              MOVE.B  #51,D0
00001A4E  4E4F                    1709              TRAP    #15
00001A50                          1710              
00001A50                          1711              ; READ HIGH SCORE
00001A50  43F9 0000294A           1712              LEA     HIGHSCO,A1
00001A56  7402                    1713              MOVE.L  #2,D2
00001A58  103C 0035               1714              MOVE.B  #53,D0
00001A5C  4E4F                    1715              TRAP    #15
00001A5E                          1716              
00001A5E                          1717              ; CLOSE FILE
00001A5E  103C 0038               1718              MOVE.B  #56,D0
00001A62  4E4F                    1719              TRAP    #15
00001A64                          1720              
00001A64  4CDF 0307               1721              MOVEM.L (A7)+,D0-D2/A0-A1
00001A68  4E75                    1722              RTS
00001A6A                          1723              
00001A6A                          1724  ; -----------------------------------------------------------------------------
00001A6A                          1725  SCOINC
00001A6A                          1726  ; INCREASES THE SCORE BY 1
00001A6A                          1727  ; INPUT     : NONE
00001A6A                          1728  ; OUTPUT    : SCORE = SCORE + 1
00001A6A                          1729  ; MODIFIES  : NONE (APART FROM OUTPUT)
00001A6A                          1730  ; -----------------------------------------------------------------------------
00001A6A  48E7 A100               1731              MOVEM.L D0/D2/D7,-(A7)
00001A6E                          1732  
00001A6E  5279 00002948           1733              ADDQ.W  #1,(SCORE)
00001A74                          1734              ; STOP ALL SOUNDS
00001A74  103C 004C               1735              MOVE.B  #76,D0
00001A78  7403                    1736              MOVE.L  #3,D2
00001A7A  4E4F                    1737              TRAP    #15
00001A7C                          1738              
00001A7C                          1739              ; PLAY SOUND
00001A7C  1E3C 0002               1740              MOVE.B  #SNDSCO,D7
00001A80  4E43                    1741              TRAP    #SNDPLTN
00001A82                          1742              
00001A82  4CDF 0085               1743              MOVEM.L (A7)+,D0/D2/D7
00001A86  4E75                    1744              RTS
00001A88                          1745              
00001A88                          1746  ; ------------------------------------------------------------------------------
00001A88                          1747  SCOPLOT
00001A88                          1748  ; PLOT THE SCOREBOARD
00001A88                          1749  ; INPUT    : NONE 
00001A88                          1750  ; OUTPUT   : NONE
00001A88                          1751  ; MODIFIES : NONE
00001A88                          1752  ; ------------------------------------------------------------------------------
00001A88                          1753  
00001A88  48E7 C040               1754              MOVEM.L D0-D1/A1,-(A7)
00001A8C                          1755  
00001A8C                          1756              ; SET BACKGROUND COLOR
00001A8C  103C 0051               1757              MOVE.B  #81,D0
00001A90  223C 00306284           1758              MOVE.L  #SCOFCOL,D1
00001A96  4E4F                    1759              TRAP    #15
00001A98                          1760              
00001A98                          1761              ; SET SCORE LINE POSITION
00001A98  103C 000B               1762              MOVE.B  #11,D0
00001A9C  323C 1017               1763              MOVE.W  #SCOLINE,D1
00001AA0  4E4F                    1764              TRAP    #15
00001AA2                          1765              
00001AA2                          1766              ; PLOT THE SCORE
00001AA2  7200                    1767              MOVE.L  #BLACK,D1
00001AA4  4EB8 1354               1768              JSR     TXTINIT
00001AA8  43F9 00002950           1769              LEA     SCOTXT,A1
00001AAE  4281                    1770              CLR.L   D1
00001AB0  3239 00002948           1771              MOVE.W  (SCORE),D1
00001AB6  103C 0011               1772              MOVE.B  #17,D0
00001ABA  4E4F                    1773              TRAP    #15
00001ABC                          1774              
00001ABC                          1775              ; SET HIGH SCORE LINE POSITION
00001ABC  103C 000B               1776              MOVE.B  #11,D0
00001AC0  323C 1018               1777              MOVE.W  #HSCOLINE,D1
00001AC4  4E4F                    1778              TRAP    #15
00001AC6                          1779              
00001AC6                          1780              ; PLOT THE HIGHSCORE
00001AC6  43F9 00002958           1781              LEA     HISCOTXT,A1
00001ACC  4281                    1782              CLR.L   D1
00001ACE  3239 0000294A           1783              MOVE.W  (HIGHSCO),D1
00001AD4  103C 0011               1784              MOVE.B  #17,D0
00001AD8  4E4F                    1785              TRAP    #15
00001ADA                          1786              
00001ADA  4CDF 0203               1787              MOVEM.L (A7)+,D0-D1/A1
00001ADE  4E75                    1788              RTS
00001AE0                          1789  
00001AE0                          1790  ; ------------------------------------------------------------------------------
00001AE0                          1791  SCOSAVE
00001AE0                          1792  ; SAVES THE HIGH SCORE
00001AE0                          1793  ; INPUT    : NONE 
00001AE0                          1794  ; OUTPUT   : NONE
00001AE0                          1795  ; MODIFIES : NONE
00001AE0                          1796  ; ------------------------------------------------------------------------------
00001AE0                          1797  
00001AE0  48E7 E0C0               1798              MOVEM.L A0-A1/D0-D2,-(A7)
00001AE4                          1799              ; IF ACTUAL SCORE > HIGH SCORE
00001AE4  3039 00002948           1800              MOVE.W  (SCORE),D0
00001AEA  3239 0000294A           1801              MOVE.W  (HIGHSCO),D1
00001AF0  B240                    1802              CMP.W   D0,D1
00001AF2  6C00 002C               1803              BGE     .END
00001AF6                          1804              
00001AF6                          1805              ; OPEN FILE
00001AF6  43F9 00002930           1806              LEA     SCOPATH,A1
00001AFC  103C 0033               1807              MOVE.B  #51,D0
00001B00  4E4F                    1808              TRAP    #15
00001B02                          1809              
00001B02                          1810              ; SAVE NEW HIGH SCORE
00001B02  33F9 00002948 0000294A  1811              MOVE.W  (SCORE),(HIGHSCO)
00001B0C  43F9 0000294A           1812              LEA     HIGHSCO,A1
00001B12  7402                    1813              MOVE.L  #2,D2
00001B14  103C 0036               1814              MOVE.B  #54,D0
00001B18  4E4F                    1815              TRAP    #15
00001B1A                          1816              
00001B1A                          1817              ; CLOSE FILE
00001B1A  103C 0038               1818              MOVE.B  #56,D0
00001B1E  4E4F                    1819              TRAP    #15
00001B20                          1820              
00001B20                          1821              
00001B20  4CDF 0307               1822  .END        MOVEM.L (A7)+,A0-A1/D0-D2
00001B24  4E75                    1823              RTS
00001B26                          1824  
00001B26                          1825  
00001B26                          1826  
00001B26                          1827  
00001B26                          1828  
00001B26                          1829  
00001B26                          1830  
00001B26                          1831  -------------------- end include --------------------
00001B26                          1832              INCLUDE "CLOUD.X68"             ; CLOUD MANAGEMENT
00001B26                          1833  ; =============================================================================
00001B26                          1834  ; CLOUD MANAGEMENT (AGENT)
00001B26                          1835  ; CLOUDPOSX  (W) (A0)
00001B26                          1836  ; CLOUDPOSY  (W) 2(A0)
00001B26                          1837  ; CLOUDSPEED (W) 4(A0)
00001B26                          1838  ; CLOUDTYPE  (W) 6(A0)
00001B26                          1839  ; =============================================================================
00001B26                          1840  
00001B26                          1841  ; -----------------------------------------------------------------------------
00001B26                          1842  CLDINIT
00001B26                          1843  ; INITIALIZE CLOUD.
00001B26                          1844  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
00001B26                          1845  ; OUTPUT    : NONE
00001B26                          1846  ; MODIFIES  : NONE
00001B26                          1847  ; -----------------------------------------------------------------------------
00001B26                          1848  
00001B26  2F00                    1849              MOVE.L  D0,-(A7)
00001B28                          1850  
00001B28                          1851              ; INIT POSITION
00001B28  30BC 0280               1852              MOVE.W  #SCRWIDTH,(A0)
00001B2C  4EB8 11E2               1853              JSR UTLRAND             ; RANDOM NUMBER BETWEEN 0-255
00001B30  3140 0002               1854              MOVE.W  D0,2(A0)
00001B34                          1855              ; INIT CLOUD TYPE
00001B34  C03C 0007               1856              AND.B   #7,D0
00001B38  3140 0006               1857              MOVE.W  D0,6(A0)
00001B3C                          1858              ; INIT SPEED
00001B3C  82BC FFFFFFFC           1859              OR.L    #CLDSPMSK,D1
00001B42  3141 0004               1860              MOVE.W  D1,4(A0)
00001B46                          1861              
00001B46  201F                    1862              MOVE.L (A7)+,D0
00001B48  4E75                    1863              RTS
00001B4A                          1864  
00001B4A                          1865  ; -----------------------------------------------------------------------------
00001B4A                          1866  CLDUPD
00001B4A                          1867  ; UPDATES CLOUD.
00001B4A                          1868  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
00001B4A                          1869  ; OUTPUT    : NONE
00001B4A                          1870  ; MODIFIES  : NONE
00001B4A                          1871  ; -----------------------------------------------------------------------------
00001B4A                          1872              
00001B4A  48E7 8040               1873              MOVEM.L D0/A1,-(A7)
00001B4E                          1874              
00001B4E                          1875              ; UPDATE POSITION
00001B4E  3028 0004               1876              MOVE.W  4(A0),D0
00001B52  D050                    1877              ADD.W   (A0),D0
00001B54  3080                    1878              MOVE.W  D0,(A0)
00001B56                          1879              
00001B56                          1880  ; CHECK AND HANDLE COLISION
00001B56                          1881              ; SELECT CLOUD WIDTH
00001B56  3028 0006               1882              MOVE.W  6(A0),D0
00001B5A  E558                    1883              ROL.W   #2,D0           ; TIMES 4 TIMES SINCE WE ACCESS LONG
00001B5C  43F9 00001BA0           1884              LEA     CLDTBL,A1
00001B62  2271 0000               1885              MOVE.L  (A1,D0.W),A1
00001B66  3011                    1886              MOVE.W  (A1),D0
00001B68                          1887              
00001B68  D050                    1888              ADD.W   (A0),D0
00001B6A  6E00 0006               1889              BGT     .NOKILL
00001B6E  4EB8 10AC               1890              JSR AGLKILL             ; KILL AGENT
00001B72                          1891              
00001B72  4CDF 0201               1892  .NOKILL     MOVEM.L (A7)+,D0/A1       
00001B76  4E75                    1893              RTS
00001B78                          1894  
00001B78                          1895  ; -----------------------------------------------------------------------------
00001B78                          1896  CLDPLOT
00001B78                          1897  ; PLOTS CLOUD.
00001B78                          1898  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
00001B78                          1899  ; OUTPUT    : NONE
00001B78                          1900  ; MODIFIES  : NONE
00001B78                          1901  ; -----------------------------------------------------------------------------
00001B78                          1902              
00001B78  48E7 B140               1903              MOVEM.L D0/D2-D3/D7/A1,-(A7)
00001B7C                          1904              
00001B7C                          1905              ; SELECT THE CLOUD TYPE
00001B7C  3028 0006               1906              MOVE.W  6(A0),D0
00001B80  E558                    1907              ROL.W   #2,D0           ; TIMES 4 TIMES SINCE WE ACCESS LONG
00001B82  43F9 00001BA0           1908              LEA     CLDTBL,A1
00001B88  2271 0000               1909              MOVE.L  (A1,D0.W),A1
00001B8C                          1910              
00001B8C                          1911              ; PLOT IMAGE
00001B8C  3E19                    1912              MOVE.W  (A1)+,D7        ; ASSUME CLOUDX IS RIGHT NEXT TO CLOUDXW
00001B8E  3428 0002               1913              MOVE.W  2(A0),D2
00001B92  3610                    1914              MOVE.W  (A0),D3
00001B94  4EB9 00001BC0           1915              JSR     IMGPLOT
00001B9A                          1916              
00001B9A  4CDF 028D               1917              MOVEM.L (A7)+,D0/D2-D3/D7/A1
00001B9E  4E75                    1918              RTS
00001BA0                          1919                
00001BA0= 00001CFE                1920  CLDTBL      DC.L    CLOUD0W
00001BA4= 00001E44                1921              DC.L    CLOUD1W
00001BA8= 00001F82                1922              DC.L    CLOUD2W
00001BAC= 00002208                1923              DC.L    CLOUD3W
00001BB0= 0000229E                1924              DC.L    CLOUD4W
00001BB4= 000024A4                1925              DC.L    CLOUD5W
00001BB8= 00002622                1926              DC.L    CLOUD6W
00001BBC= 00002748                1927              DC.L    CLOUD7W
00001BC0                          1928  
00001BC0                          1929  
00001BC0                          1930  
00001BC0                          1931  -------------------- end include --------------------
00001BC0                          1932              INCLUDE "IMAGE.X68"             ; IMAGE DRAWING ROUTINES
00001BC0                          1933  ; =============================================================================
00001BC0                          1934  ; IMAGE LIBRARY. IT CONTAINS ROUTINES TO DRAW IMAGES. EVERY IMAGE DATA SHOULD 
00001BC0                          1935  ; HAVE N LONG PAIRS, THE FIRST OF THE PAIR MEANS THE COLOR OF A BLOCK IN 
00001BC0                          1936  ; FORMAT $00BBGGRR AND THE SECOND IS THE AMMOUNT OF BLOCKS IN A ROW WITH 
00001BC0                          1937  ; THE SAME COLOR.
00001BC0                          1938  ; EVERY IMAGE DATA IS ENDING WITH THE FLAG $FFFFFFFF
00001BC0                          1939  ; =============================================================================
00001BC0                          1940  
00001BC0                          1941  ; -----------------------------------------------------------------------------
00001BC0                          1942  IMGPLOT
00001BC0                          1943  ; PLOTS AN IMAGE IN THE GIVEN COORDINATES
00001BC0                          1944  ; INPUT:    A1 POINTER TO IMAGE DATA
00001BC0                          1945  ;           D2.W Y START
00001BC0                          1946  ;           D3.W X START
00001BC0                          1947  ;           D7.W IMAGE WIDTH
00001BC0                          1948  ; NOTE : WON'T USE IMAGE HEIGHT TO MANAGE IMAGE END, AS WE ASSUME IMAGE DATA
00001BC0                          1949  ;        IS ENDING WITH THE FLAG $FFFFFFFF
00001BC0                          1950  ; -----------------------------------------------------------------------------
00001BC0                          1951  
00001BC0  48E7 FF40               1952              MOVEM.L A1/D0-D7,-(A7)
00001BC4                          1953              
00001BC4  33C3 00001C0C           1954              MOVE.W  D3,(.STARTX)  ; STORE STARTING X
00001BCA  3A03                    1955              MOVE.W  D3,D5   
00001BCC  DA47                    1956              ADD.W   D7,D5       ; X ENDING COORD
00001BCE                          1957              
00001BCE                          1958              
00001BCE                          1959              ; SET PEN AND FILL COLOR
00001BCE  2219                    1960              MOVE.L  (A1)+,D1
00001BD0  103C 0050               1961  .LOOP1      MOVE.B  #80,D0
00001BD4  4E4F                    1962              TRAP    #15
00001BD6  5200                    1963              ADDQ.B  #1,D0
00001BD8  4E4F                    1964              TRAP    #15
00001BDA                          1965              
00001BDA                          1966              ; DRAW BLOCK
00001BDA  2C19                    1967              MOVE.L  (A1)+,D6
00001BDC  5386                    1968              SUBQ.L  #1,D6            
00001BDE  3203                    1969  .LOOP2      MOVE.W  D3,D1       ; BLOCK START X
00001BE0  5843                    1970              ADDQ.W  #BLOCKSZ,D3 ; BLOCK END X
00001BE2  3802                    1971              MOVE.W  D2,D4       
00001BE4  5844                    1972              ADDQ.W  #BLOCKSZ,D4 ; BLOCK END Y
00001BE6  103C 0057               1973              MOVE.B  #87,D0
00001BEA  4E4F                    1974              TRAP    #15
00001BEC                          1975              
00001BEC  BA43                    1976              CMP.W   D3,D5
00001BEE  6C00 000A               1977              BGE     .SAMEROW
00001BF2                          1978              ; MOVE TO NEXT ROW
00001BF2  3639 00001C0C           1979              MOVE.W  (.STARTX),D3
00001BF8  5842                    1980              ADDQ.W  #BLOCKSZ,D2
00001BFA  51CE FFE2               1981  .SAMEROW    DBRA    D6,.LOOP2
00001BFE                          1982              
00001BFE  2219                    1983              MOVE.L  (A1)+,D1
00001C00  B27C FFFF               1984              CMP.W   #.ENDFLAG,D1
00001C04  66CA                    1985              BNE     .LOOP1
00001C06                          1986              
00001C06                          1987              
00001C06  4CDF 02FF               1988              MOVEM.L (A7)+,A1/D0-D7
00001C0A  4E75                    1989              RTS
00001C0C                          1990         
00001C0C  =FFFFFFFF               1991  .ENDFLAG    EQU     $FFFFFFFF
00001C0C                          1992  
00001C0C                          1993  .STARTX     DS.W    1
00001C0E                          1994  
00001C0E                          1995  
00001C0E                          1996  
00001C0E                          1997  
00001C0E                          1998  
00001C0E                          1999  
00001C0E                          2000  
00001C0E                          2001  -------------------- end include --------------------
00001C0E                          2002              INCLUDE "BUTTON.X68"            ; BUTTONS MANAGEMENT
00001C0E                          2003  ; =============================================================================
00001C0E                          2004  ; BUTTON MANAGEMENT (AGENT)
00001C0E                          2005  ; BUTTON LEFT POS X (W)         (A0)
00001C0E                          2006  ; BUTTON TOP POS Y (W)          2(A0)
00001C0E                          2007  ; BUTTON RIGHT POS X (W)        4(A0)
00001C0E                          2008  ; BUTTON BOTTOM POS Y (W)       6(A0)
00001C0E                          2009  ; BUTTON POINTER TO TEXT (L)    10(A0)
00001C0E                          2010  ; BUTTON NEXT STATE (W)         14(A0)
00001C0E                          2011  ; BUTTON STATE (BOOL HOVER)     16(A0)
00001C0E                          2012  ; =============================================================================
00001C0E                          2013  
00001C0E                          2014  ; ------------------------------------------------------------------------------
00001C0E                          2015  BUTINIT
00001C0E                          2016  ; INITS A BUTTON
00001C0E                          2017  ; INPUT    : A0 POINTER TO INSTANCE VARIABLES
00001C0E                          2018  ;            A4 POINTER TO ZERO-TERMINATED STRING
00001C0E                          2019  ;            D1.W LEFT POS X
00001C0E                          2020  ;            D2.W TOP POS Y
00001C0E                          2021  ;            D3.W RIGHT POS X
00001C0E                          2022  ;            D4.W BOT POS Y
00001C0E                          2023  ;            D5.W STATE TO CHANGE WHEN PRESSED
00001C0E                          2024  ; OUTPUT   : NONE
00001C0E                          2025  ; MODIFIES : NONE
00001C0E                          2026  ; ------------------------------------------------------------------------------
00001C0E                          2027              
00001C0E  3081                    2028              MOVE.W  D1,(A0)
00001C10  3142 0002               2029              MOVE.W  D2,2(A0)
00001C14  3143 0004               2030              MOVE.W  D3,4(A0)
00001C18  3144 0006               2031              MOVE.W  D4,6(A0)
00001C1C  214C 000A               2032              MOVE.L  A4,10(A0)
00001C20  3145 000E               2033              MOVE.W  D5,14(A0)
00001C24  4228 0010               2034              CLR.B   16(A0)
00001C28                          2035              
00001C28  4E75                    2036              RTS
00001C2A                          2037  
00001C2A                          2038  ; ------------------------------------------------------------------------------
00001C2A                          2039  BUTUPD
00001C2A                          2040  ; UPDATES BUTTON STATUS
00001C2A                          2041  ; INPUT    : A0 POINTER TO INSTANCE VARIABLES
00001C2A                          2042  ; OUTPUT   : NONE
00001C2A                          2043  ; MODIFIES : NONE
00001C2A                          2044  ; ------------------------------------------------------------------------------
00001C2A                          2045  
00001C2A  48E7 C000               2046              MOVEM.L D0-D1,-(A7)
00001C2E                          2047              
00001C2E                          2048              ; CHECK IF HOVER
00001C2E  2239 00002926           2049              MOVE.L  (MOUPOS),D1
00001C34  3001                    2050              MOVE.W  D1,D0           ; X MOUSE POS
00001C36  C2BC FFFF0000           2051              AND.L   #$FFFF0000,D1
00001C3C  E199                    2052              ROL.L   #8,D1           
00001C3E  E199                    2053              ROL.L   #8,D1           ; Y MOUSE POS
00001C40  B050                    2054              CMP.W   (A0),D0
00001C42  6D00 003A               2055              BLT     .NOHOVER
00001C46  B068 0004               2056              CMP.W   4(A0),D0
00001C4A  6E00 0032               2057              BGT     .NOHOVER
00001C4E  B268 0002               2058              CMP.W   2(A0),D1
00001C52  6D00 002A               2059              BLT     .NOHOVER
00001C56  B268 0006               2060              CMP.W   6(A0),D1
00001C5A  6E00 0022               2061              BGT     .NOHOVER
00001C5E                          2062              ; SET STATE TO HOVER
00001C5E  117C 0001 0010          2063              MOVE.B  #1,16(A0)
00001C64                          2064              
00001C64                          2065              ; CHANGE STATE IN CASE MOUSE IS PRESSED
00001C64  1039 0000292A           2066              MOVE.B  MOUVAL,D0
00001C6A  C03C 0007               2067              AND.B   #7,D0           ; LEFT, RIGHT OR MID MOUSE BUTTON WORKS
00001C6E  6700 0012               2068              BEQ     .END
00001C72  33E8 000E 0000294E      2069              MOVE.W  14(A0),(STANEXT)
00001C7A  6000 0006               2070              BRA     .END
00001C7E                          2071              
00001C7E                          2072              
00001C7E                          2073              ; SET STATE TO NOT HOVER
00001C7E  4228 0010               2074  .NOHOVER    CLR.B   16(A0)
00001C82                          2075  
00001C82  4CDF 0003               2076  .END        MOVEM.L (A7)+,D0-D1
00001C86  4E75                    2077              RTS
00001C88                          2078  
00001C88                          2079  ; ------------------------------------------------------------------------------
00001C88                          2080  BUTPLOT
00001C88                          2081  ; PLOTS THE BUTTON
00001C88                          2082  ; INPUT    : A0 POINTER TO INSTANCE VARIABLES
00001C88                          2083  ; OUTPUT   : NONE
00001C88                          2084  ; MODIFIES : NONE
00001C88                          2085  ; ------------------------------------------------------------------------------
00001C88                          2086              
00001C88  48E7 FCC0               2087              MOVEM.L A0-A1/D0-D5,-(A7)
00001C8C                          2088              
00001C8C                          2089              ; SET COLORS
00001C8C  223C 0018732C           2090              MOVE.L  #BUTCOLOR,D1    ; SET PEN COLOR
00001C92  103C 0050               2091              MOVE.B  #80,D0
00001C96  4E4F                    2092              TRAP    #15
00001C98  1028 0010               2093              MOVE.B  16(A0),D0       ; SET FILL COLOR
00001C9C  6700 0008               2094              BEQ     .NOHOVER
00001CA0  223C 0035DE3B           2095              MOVE.L  #BUTHVCLR,D1
00001CA6  103C 0051               2096  .NOHOVER    MOVE.B  #81,D0
00001CAA  4E4F                    2097              TRAP    #15
00001CAC                          2098              ; SET COORDS
00001CAC  103C 0057               2099              MOVE.B  #87,D0
00001CB0  3210                    2100              MOVE.W  (A0),D1
00001CB2  3428 0002               2101              MOVE.W  2(A0),D2
00001CB6  3628 0004               2102              MOVE.W  4(A0),D3
00001CBA  3828 0006               2103              MOVE.W  6(A0),D4
00001CBE  4E4F                    2104              TRAP    #15
00001CC0                          2105              
00001CC0                          2106              ; DRAW BUTTON TEXT
00001CC0  2A01                    2107              MOVE.L  D1,D5
00001CC2  7200                    2108              MOVE.L  #BLACK,D1
00001CC4  4EB8 1354               2109              JSR     TXTINIT
00001CC8  4240                    2110              CLR.W   D0              ; COUNT TEXT LENGTH
00001CCA  2268 000A               2111              MOVE.L  10(A0),A1
00001CCE  4A19                    2112  .LOOP       TST.B   (A1)+
00001CD0  6700 0008               2113              BEQ     .ENDLOOP
00001CD4  0600 000C               2114              ADD.B   #TXTSIZE-2,D0
00001CD8  60F4                    2115              BRA     .LOOP
00001CDA  2205                    2116  .ENDLOOP    MOVE.L  D5,D1
00001CDC  9641                    2117              SUB.W   D1,D3           ; BUTTON WIDTH
00001CDE  9640                    2118              SUB.W   D0,D3           
00001CE0  E24B                    2119              LSR.W   #1,D3           ; LEFT TEXT MARGIN
00001CE2  D243                    2120              ADD.W   D3,D1           ; X TEXT POSITION
00001CE4  9842                    2121              SUB.W   D2,D4           ; BUTTON HEIGHT
00001CE6  0444 000C               2122              SUB.W   #TXTSIZE-2,D4     
00001CEA  E24C                    2123              LSR.W   #1,D4           ; TOP TEXT MARGIN
00001CEC  D444                    2124              ADD.W   D4,D2           ; Y TEXT POSITION
00001CEE  2268 000A               2125              MOVEA.L 10(A0),A1
00001CF2  103C 005F               2126              MOVE.B  #95,D0
00001CF6  4E4F                    2127              TRAP    #15
00001CF8                          2128              
00001CF8                          2129              
00001CF8  4CDF 033F               2130              MOVEM.L (A7)+,A0-A1/D0-D5
00001CFC  4E75                    2131              RTS
00001CFE                          2132  
00001CFE                          2133  
00001CFE                          2134  
00001CFE                          2135  
00001CFE                          2136  
00001CFE                          2137  
00001CFE                          2138  
00001CFE                          2139  
00001CFE                          2140  
00001CFE                          2141  
00001CFE                          2142  
00001CFE                          2143  
00001CFE                          2144  
00001CFE                          2145  
00001CFE                          2146  
00001CFE                          2147  
00001CFE                          2148  
00001CFE                          2149  
00001CFE                          2150  -------------------- end include --------------------
00001CFE                          2151              
00001CFE                          2152  ; --- DATA INCLUDES -----------------------------------------------------------
00001CFE                          2153  
00001CFE                          2154              INCLUDE "DATA/CLOUDSDATA.X68"    ; CLOUD IMAGES DATA
00001CFE                          2155  ; =============================================================================
00001CFE                          2156  ; THIS FILE HAS BEEN GENERATED BY CLOUDSCONVERTER.JAVA FROM CLOUD IMAGES.
00001CFE                          2157  ; TO IMPROVE PERFORMANCE, EACH BLOCK ACTS LIKE A PIXEL, BUT IT'S ACTUALLY A 
00001CFE                          2158  ; 4x4 SQUARE. IMAGES ARE ADDAPTED TO IMAGE.X68 DRAWING.
00001CFE                          2159  ; =============================================================================
00001CFE                          2160  
00001CFE                          2161  
00001CFE                          2162  ; -----------------------------------------------------------------------------
00001CFE                          2163  ; EVERY CLOUD DATA STORES:
00001CFE                          2164  ; ONE WORD TO STORE THE CLOUD WIDTH IN BLOCKS.
00001CFE                          2165  ; TWO LONGS PAIRS STORING A COLOR AND THE AMMOUNT OF BLOCKS WITH THE SAME COLOR
00001CFE                          2166  ; IN A ROW.
00001CFE                          2167  ; EVERY IMAGE ENDS WITH A FLAG $FFFFFFFF
00001CFE                          2168  ; -----------------------------------------------------------------------------
00001CFE                          2169  
00001CFE= 0070                    2170  CLOUD0W     DC.W    112
00001D00                          2171  CLOUD0
00001D00= 00FFBF80 0000002C       2172              DC.L    $00FFBF80,44
00001D08= 00FEFDFB 00000008       2173              DC.L    $00FEFDFB,8
00001D10= 00DCDCDC 00000001       2174              DC.L    $00DCDCDC,1
00001D18= 00FFBF80 00000012       2175              DC.L    $00FFBF80,18
00001D20= 00FEFDFB 0000000B       2176              DC.L    $00FEFDFB,11
00001D28= 00FFBF80 00000010       2177              DC.L    $00FFBF80,16
00001D30= 00FEFDFB 0000000D       2178              DC.L    $00FEFDFB,13
00001D38= 00FFBF80 00000007       2179              DC.L    $00FFBF80,7
00001D40= 00DCDCDC 00000001       2180              DC.L    $00DCDCDC,1
00001D48= 00FEFDFB 00000005       2181              DC.L    $00FEFDFB,5
00001D50= 00FFBF80 00000001       2182              DC.L    $00FFBF80,1
00001D58= 00DCDCDC 00000001       2183              DC.L    $00DCDCDC,1
00001D60= 00FEFDFB 0000000D       2184              DC.L    $00FEFDFB,13
00001D68= 00DCDCDC 00000001       2185              DC.L    $00DCDCDC,1
00001D70= 00FFBF80 00000005       2186              DC.L    $00FFBF80,5
00001D78= 00FEFDFB 00000016       2187              DC.L    $00FEFDFB,22
00001D80= 00DCDCDC 00000001       2188              DC.L    $00DCDCDC,1
00001D88= 00FFBF80 00000005       2189              DC.L    $00FFBF80,5
00001D90= 00FEFDFB 00000002       2190              DC.L    $00FEFDFB,2
00001D98= 00DCDCDC 00000001       2191              DC.L    $00DCDCDC,1
00001DA0= 00FEFDFB 00000013       2192              DC.L    $00FEFDFB,19
00001DA8= 00DCDCDC 00000001       2193              DC.L    $00DCDCDC,1
00001DB0= 00FFBF80 00000004       2194              DC.L    $00FFBF80,4
00001DB8= 00FEFDFB 00000017       2195              DC.L    $00FEFDFB,23
00001DC0= 00FFBF80 00000002       2196              DC.L    $00FFBF80,2
00001DC8= 00DCDCDC 00000001       2197              DC.L    $00DCDCDC,1
00001DD0= 00FEFDFB 00000016       2198              DC.L    $00FEFDFB,22
00001DD8= 00DCDCDC 00000001       2199              DC.L    $00DCDCDC,1
00001DE0= 00FEFDFB 00000002       2200              DC.L    $00FEFDFB,2
00001DE8= 00FFBF80 00000002       2201              DC.L    $00FFBF80,2
00001DF0= 00DCDCDC 00000001       2202              DC.L    $00DCDCDC,1
00001DF8= 00FEFDFB 00000001       2203              DC.L    $00FEFDFB,1
00001E00= 00DCDCDC 00000001       2204              DC.L    $00DCDCDC,1
00001E08= 00FEFDFB 00000008       2205              DC.L    $00FEFDFB,8
00001E10= 00DCDCDC 00000002       2206              DC.L    $00DCDCDC,2
00001E18= 00FEFDFB 00000009       2207              DC.L    $00FEFDFB,9
00001E20= 00DCDCDC 00000004       2208              DC.L    $00DCDCDC,4
00001E28= 00FFBF80 00000003       2209              DC.L    $00FFBF80,3
00001E30= 00DCDCDC 00000018       2210              DC.L    $00DCDCDC,24
00001E38= 00FFBF80 0000001E       2211              DC.L    $00FFBF80,30
00001E40= FFFFFFFF                2212              DC.L    $FFFFFFFF
00001E44                          2213  
00001E44                          2214  
00001E44= 0060                    2215  CLOUD1W     DC.W    96
00001E46                          2216  CLOUD1
00001E46= 00FFBF80 00000020       2217              DC.L    $00FFBF80,32
00001E4E= 00DCDCDC 00000001       2218              DC.L    $00DCDCDC,1
00001E56= 00FEFDFB 00000006       2219              DC.L    $00FEFDFB,6
00001E5E= 00FFBF80 0000000F       2220              DC.L    $00FFBF80,15
00001E66= 00DCDCDC 00000001       2221              DC.L    $00DCDCDC,1
00001E6E= 00FEFDFB 00000009       2222              DC.L    $00FEFDFB,9
00001E76= 00FFBF80 0000000E       2223              DC.L    $00FFBF80,14
00001E7E= 00FEFDFB 00000007       2224              DC.L    $00FEFDFB,7
00001E86= 00DCDCDC 00000002       2225              DC.L    $00DCDCDC,2
00001E8E= 00FEFDFB 00000001       2226              DC.L    $00FEFDFB,1
00001E96= 00DCDCDC 00000001       2227              DC.L    $00DCDCDC,1
00001E9E= 00FFBF80 0000000C       2228              DC.L    $00FFBF80,12
00001EA6= 00DCDCDC 00000001       2229              DC.L    $00DCDCDC,1
00001EAE= 00FEFDFB 00000009       2230              DC.L    $00FEFDFB,9
00001EB6= 00DCDCDC 00000001       2231              DC.L    $00DCDCDC,1
00001EBE= 00FEFDFB 00000001       2232              DC.L    $00FEFDFB,1
00001EC6= 00DCDCDC 00000001       2233              DC.L    $00DCDCDC,1
00001ECE= 00FEFDFB 00000001       2234              DC.L    $00FEFDFB,1
00001ED6= 00FFBF80 0000000A       2235              DC.L    $00FFBF80,10
00001EDE= 00DCDCDC 00000001       2236              DC.L    $00DCDCDC,1
00001EE6= 00FEFDFB 0000000E       2237              DC.L    $00FEFDFB,14
00001EEE= 00FFBF80 00000006       2238              DC.L    $00FFBF80,6
00001EF6= 00FEFDFB 00000012       2239              DC.L    $00FEFDFB,18
00001EFE= 00DCDCDC 00000001       2240              DC.L    $00DCDCDC,1
00001F06= 00FFBF80 00000004       2241              DC.L    $00FFBF80,4
00001F0E= 00DCDCDC 00000001       2242              DC.L    $00DCDCDC,1
00001F16= 00FEFDFB 0000000E       2243              DC.L    $00FEFDFB,14
00001F1E= 00DCDCDC 00000002       2244              DC.L    $00DCDCDC,2
00001F26= 00FEFDFB 00000004       2245              DC.L    $00FEFDFB,4
00001F2E= 00DCDCDC 00000001       2246              DC.L    $00DCDCDC,1
00001F36= 00FFBF80 00000002       2247              DC.L    $00FFBF80,2
00001F3E= 00DCDCDC 00000002       2248              DC.L    $00DCDCDC,2
00001F46= 00FEFDFB 00000001       2249              DC.L    $00FEFDFB,1
00001F4E= 00DCDCDC 00000003       2250              DC.L    $00DCDCDC,3
00001F56= 00FEFDFB 00000008       2251              DC.L    $00FEFDFB,8
00001F5E= 00DCDCDC 00000005       2252              DC.L    $00DCDCDC,5
00001F66= 00FEFDFB 00000001       2253              DC.L    $00FEFDFB,1
00001F6E= 00DCDCDC 00000002       2254              DC.L    $00DCDCDC,2
00001F76= 00FFBF80 00000019       2255              DC.L    $00FFBF80,25
00001F7E= FFFFFFFF                2256              DC.L    $FFFFFFFF
00001F82                          2257  
00001F82                          2258  
00001F82= 00C6                    2259  CLOUD2W     DC.W    198
00001F84                          2260  CLOUD2
00001F84= 00FFBF80 00000014       2261              DC.L    $00FFBF80,20
00001F8C= 00DCDCDC 00000004       2262              DC.L    $00DCDCDC,4
00001F94= 00FFBF80 0000002B       2263              DC.L    $00FFBF80,43
00001F9C= 00DCDCDC 00000001       2264              DC.L    $00DCDCDC,1
00001FA4= 00FEFDFB 00000008       2265              DC.L    $00FEFDFB,8
00001FAC= 00FFBF80 00000028       2266              DC.L    $00FFBF80,40
00001FB4= 00FEFDFB 0000000B       2267              DC.L    $00FEFDFB,11
00001FBC= 00FFBF80 00000026       2268              DC.L    $00FFBF80,38
00001FC4= 00FEFDFB 0000000C       2269              DC.L    $00FEFDFB,12
00001FCC= 00FFBF80 00000026       2270              DC.L    $00FFBF80,38
00001FD4= 00FEFDFB 0000000C       2271              DC.L    $00FEFDFB,12
00001FDC= 00FFBF80 00000026       2272              DC.L    $00FFBF80,38
00001FE4= 00FEFDFB 0000000C       2273              DC.L    $00FEFDFB,12
00001FEC= 00FFBF80 00000021       2274              DC.L    $00FFBF80,33
00001FF4= 00DCDCDC 00000001       2275              DC.L    $00DCDCDC,1
00001FFC= 00FEFDFB 00000003       2276              DC.L    $00FEFDFB,3
00002004= 00DCDCDC 00000001       2277              DC.L    $00DCDCDC,1
0000200C= 00FEFDFB 0000000B       2278              DC.L    $00FEFDFB,11
00002014= 00DCDCDC 00000002       2279              DC.L    $00DCDCDC,2
0000201C= 00FEFDFB 00000003       2280              DC.L    $00FEFDFB,3
00002024= 00FFBF80 0000001C       2281              DC.L    $00FFBF80,28
0000202C= 00DCDCDC 00000001       2282              DC.L    $00DCDCDC,1
00002034= 00FEFDFB 00000005       2283              DC.L    $00FEFDFB,5
0000203C= 00DCDCDC 00000001       2284              DC.L    $00DCDCDC,1
00002044= 00FEFDFB 0000000F       2285              DC.L    $00FEFDFB,15
0000204C= 00DCDCDC 00000001       2286              DC.L    $00DCDCDC,1
00002054= 00FFBF80 00000001       2287              DC.L    $00FFBF80,1
0000205C= 00FEFDFB 00000001       2288              DC.L    $00FEFDFB,1
00002064= 00DCDCDC 00000001       2289              DC.L    $00DCDCDC,1
0000206C= 00FFBF80 00000006       2290              DC.L    $00FFBF80,6
00002074= 00DCDCDC 00000003       2291              DC.L    $00DCDCDC,3
0000207C= 00FFBF80 0000000F       2292              DC.L    $00FFBF80,15
00002084= 00FEFDFB 0000001C       2293              DC.L    $00FEFDFB,28
0000208C= 00FFBF80 00000003       2294              DC.L    $00FFBF80,3
00002094= 00FEFDFB 00000004       2295              DC.L    $00FEFDFB,4
0000209C= 00FFBF80 0000000F       2296              DC.L    $00FFBF80,15
000020A4= 00DCDCDC 00000001       2297              DC.L    $00DCDCDC,1
000020AC= 00FEFDFB 0000000C       2298              DC.L    $00FEFDFB,12
000020B4= 00DCDCDC 00000002       2299              DC.L    $00DCDCDC,2
000020BC= 00FEFDFB 0000000D       2300              DC.L    $00FEFDFB,13
000020C4= 00FFBF80 00000002       2301              DC.L    $00FFBF80,2
000020CC= 00DCDCDC 00000001       2302              DC.L    $00DCDCDC,1
000020D4= 00FEFDFB 00000004       2303              DC.L    $00FEFDFB,4
000020DC= 00FFBF80 00000007       2304              DC.L    $00FFBF80,7
000020E4= 00DCDCDC 00000003       2305              DC.L    $00DCDCDC,3
000020EC= 00FFBF80 00000004       2306              DC.L    $00FFBF80,4
000020F4= 00DCDCDC 00000002       2307              DC.L    $00DCDCDC,2
000020FC= 00FEFDFB 0000001A       2308              DC.L    $00FEFDFB,26
00002104= 00DCDCDC 00000002       2309              DC.L    $00DCDCDC,2
0000210C= 00FFBF80 00000002       2310              DC.L    $00FFBF80,2
00002114= 00FEFDFB 00000004       2311              DC.L    $00FEFDFB,4
0000211C= 00FFBF80 00000003       2312              DC.L    $00FFBF80,3
00002124= 00DCDCDC 00000001       2313              DC.L    $00DCDCDC,1
0000212C= 00FFBF80 00000003       2314              DC.L    $00FFBF80,3
00002134= 00FEFDFB 00000003       2315              DC.L    $00FEFDFB,3
0000213C= 00DCDCDC 00000001       2316              DC.L    $00DCDCDC,1
00002144= 00FFBF80 00000003       2317              DC.L    $00FFBF80,3
0000214C= 00DCDCDC 00000003       2318              DC.L    $00DCDCDC,3
00002154= 00FEFDFB 00000015       2319              DC.L    $00FEFDFB,21
0000215C= 00DCDCDC 00000006       2320              DC.L    $00DCDCDC,6
00002164= 00FFBF80 00000002       2321              DC.L    $00FFBF80,2
0000216C= 00FEFDFB 00000004       2322              DC.L    $00FEFDFB,4
00002174= 00FFBF80 00000002       2323              DC.L    $00FFBF80,2
0000217C= 00FEFDFB 00000002       2324              DC.L    $00FEFDFB,2
00002184= 00DCDCDC 00000001       2325              DC.L    $00DCDCDC,1
0000218C= 00FFBF80 00000001       2326              DC.L    $00FFBF80,1
00002194= 00DCDCDC 00000001       2327              DC.L    $00DCDCDC,1
0000219C= 00FEFDFB 00000004       2328              DC.L    $00FEFDFB,4
000021A4= 00FFBF80 00000004       2329              DC.L    $00FFBF80,4
000021AC= 00DCDCDC 00000008       2330              DC.L    $00DCDCDC,8
000021B4= 00FEFDFB 00000008       2331              DC.L    $00FEFDFB,8
000021BC= 00DCDCDC 0000000C       2332              DC.L    $00DCDCDC,12
000021C4= 00FFBF80 00000003       2333              DC.L    $00FFBF80,3
000021CC= 00DCDCDC 00000003       2334              DC.L    $00DCDCDC,3
000021D4= 00FFBF80 00000008       2335              DC.L    $00FFBF80,8
000021DC= 00DCDCDC 00000001       2336              DC.L    $00DCDCDC,1
000021E4= 00FEFDFB 00000002       2337              DC.L    $00FEFDFB,2
000021EC= 00FFBF80 00000005       2338              DC.L    $00FFBF80,5
000021F4= 00DCDCDC 0000001B       2339              DC.L    $00DCDCDC,27
000021FC= 00FFBF80 00000040       2340              DC.L    $00FFBF80,64
00002204= FFFFFFFF                2341              DC.L    $FFFFFFFF
00002208                          2342  
00002208                          2343  
00002208= 0031                    2344  CLOUD3W     DC.W    49
0000220A                          2345  CLOUD3
0000220A= 00FFBF80 00000011       2346              DC.L    $00FFBF80,17
00002212= 00DCDCDC 00000001       2347              DC.L    $00DCDCDC,1
0000221A= 00FEFDFB 00000003       2348              DC.L    $00FEFDFB,3
00002222= 00FFBF80 00000009       2349              DC.L    $00FFBF80,9
0000222A= 00FEFDFB 00000004       2350              DC.L    $00FEFDFB,4
00002232= 00DCDCDC 00000001       2351              DC.L    $00DCDCDC,1
0000223A= 00FFBF80 00000006       2352              DC.L    $00FFBF80,6
00002242= 00FEFDFB 00000001       2353              DC.L    $00FEFDFB,1
0000224A= 00DCDCDC 00000001       2354              DC.L    $00DCDCDC,1
00002252= 00FEFDFB 00000006       2355              DC.L    $00FEFDFB,6
0000225A= 00DCDCDC 00000001       2356              DC.L    $00DCDCDC,1
00002262= 00FFBF80 00000003       2357              DC.L    $00FFBF80,3
0000226A= 00FEFDFB 0000000A       2358              DC.L    $00FEFDFB,10
00002272= 00FFBF80 00000003       2359              DC.L    $00FFBF80,3
0000227A= 00DCDCDC 00000001       2360              DC.L    $00DCDCDC,1
00002282= 00FEFDFB 00000008       2361              DC.L    $00FEFDFB,8
0000228A= 00DCDCDC 00000001       2362              DC.L    $00DCDCDC,1
00002292= 00FFBF80 0000001C       2363              DC.L    $00FFBF80,28
0000229A= FFFFFFFF                2364              DC.L    $FFFFFFFF
0000229E                          2365  
0000229E                          2366  
0000229E= 00AF                    2367  CLOUD4W     DC.W    175
000022A0                          2368  CLOUD4
000022A0= 00FFBF80 0000003B       2369              DC.L    $00FFBF80,59
000022A8= 00DCDCDC 00000001       2370              DC.L    $00DCDCDC,1
000022B0= 00FEFDFB 00000006       2371              DC.L    $00FEFDFB,6
000022B8= 00FFBF80 00000024       2372              DC.L    $00FFBF80,36
000022C0= 00FEFDFB 00000009       2373              DC.L    $00FEFDFB,9
000022C8= 00DCDCDC 00000001       2374              DC.L    $00DCDCDC,1
000022D0= 00FFBF80 00000021       2375              DC.L    $00FFBF80,33
000022D8= 00FEFDFB 0000000C       2376              DC.L    $00FEFDFB,12
000022E0= 00FFBF80 0000001F       2377              DC.L    $00FFBF80,31
000022E8= 00DCDCDC 00000001       2378              DC.L    $00DCDCDC,1
000022F0= 00FEFDFB 00000005       2379              DC.L    $00FEFDFB,5
000022F8= 00DCDCDC 00000001       2380              DC.L    $00DCDCDC,1
00002300= 00FEFDFB 00000006       2381              DC.L    $00FEFDFB,6
00002308= 00DCDCDC 00000001       2382              DC.L    $00DCDCDC,1
00002310= 00FFBF80 0000001E       2383              DC.L    $00FFBF80,30
00002318= 00FEFDFB 0000000E       2384              DC.L    $00FEFDFB,14
00002320= 00FFBF80 0000001E       2385              DC.L    $00FFBF80,30
00002328= 00DCDCDC 00000001       2386              DC.L    $00DCDCDC,1
00002330= 00FEFDFB 0000000D       2387              DC.L    $00FEFDFB,13
00002338= 00FFBF80 00000019       2388              DC.L    $00FFBF80,25
00002340= 00FEFDFB 00000004       2389              DC.L    $00FEFDFB,4
00002348= 00DCDCDC 00000003       2390              DC.L    $00DCDCDC,3
00002350= 00FEFDFB 0000000B       2391              DC.L    $00FEFDFB,11
00002358= 00DCDCDC 00000001       2392              DC.L    $00DCDCDC,1
00002360= 00FEFDFB 00000002       2393              DC.L    $00FEFDFB,2
00002368= 00FFBF80 00000016       2394              DC.L    $00FFBF80,22
00002370= 00FEFDFB 00000017       2395              DC.L    $00FEFDFB,23
00002378= 00FFBF80 0000000A       2396              DC.L    $00FFBF80,10
00002380= 00DCDCDC 00000002       2397              DC.L    $00DCDCDC,2
00002388= 00FFBF80 00000008       2398              DC.L    $00FFBF80,8
00002390= 00FEFDFB 00000018       2399              DC.L    $00FEFDFB,24
00002398= 00DCDCDC 00000001       2400              DC.L    $00DCDCDC,1
000023A0= 00FFBF80 00000008       2401              DC.L    $00FFBF80,8
000023A8= 00FEFDFB 00000005       2402              DC.L    $00FEFDFB,5
000023B0= 00FFBF80 00000006       2403              DC.L    $00FFBF80,6
000023B8= 00FEFDFB 00000010       2404              DC.L    $00FEFDFB,16
000023C0= 00DCDCDC 00000001       2405              DC.L    $00DCDCDC,1
000023C8= 00FEFDFB 00000006       2406              DC.L    $00FEFDFB,6
000023D0= 00DCDCDC 00000002       2407              DC.L    $00DCDCDC,2
000023D8= 00FFBF80 00000008       2408              DC.L    $00FFBF80,8
000023E0= 00FEFDFB 00000005       2409              DC.L    $00FEFDFB,5
000023E8= 00FFBF80 00000003       2410              DC.L    $00FFBF80,3
000023F0= 00DCDCDC 00000005       2411              DC.L    $00DCDCDC,5
000023F8= 00FEFDFB 0000000D       2412              DC.L    $00FEFDFB,13
00002400= 00DCDCDC 00000001       2413              DC.L    $00DCDCDC,1
00002408= 00FEFDFB 00000006       2414              DC.L    $00FEFDFB,6
00002410= 00DCDCDC 00000007       2415              DC.L    $00DCDCDC,7
00002418= 00FFBF80 00000004       2416              DC.L    $00FFBF80,4
00002420= 00DCDCDC 00000001       2417              DC.L    $00DCDCDC,1
00002428= 00FEFDFB 00000003       2418              DC.L    $00FEFDFB,3
00002430= 00DCDCDC 00000001       2419              DC.L    $00DCDCDC,1
00002438= 00FFBF80 00000002       2420              DC.L    $00FFBF80,2
00002440= 00DCDCDC 00000009       2421              DC.L    $00DCDCDC,9
00002448= 00FEFDFB 0000000A       2422              DC.L    $00FEFDFB,10
00002450= 00DCDCDC 00000002       2423              DC.L    $00DCDCDC,2
00002458= 00FEFDFB 00000003       2424              DC.L    $00FEFDFB,3
00002460= 00DCDCDC 0000000A       2425              DC.L    $00DCDCDC,10
00002468= 00FFBF80 00000003       2426              DC.L    $00FFBF80,3
00002470= 00DCDCDC 00000002       2427              DC.L    $00DCDCDC,2
00002478= 00FEFDFB 00000001       2428              DC.L    $00FEFDFB,1
00002480= 00DCDCDC 00000002       2429              DC.L    $00DCDCDC,2
00002488= 00FFBF80 00000002       2430              DC.L    $00FFBF80,2
00002490= 00DCDCDC 00000022       2431              DC.L    $00DCDCDC,34
00002498= 00FFBF80 00000035       2432              DC.L    $00FFBF80,53
000024A0= FFFFFFFF                2433              DC.L    $FFFFFFFF
000024A4                          2434  
000024A4                          2435  
000024A4= 0089                    2436  CLOUD5W     DC.W    137
000024A6                          2437  CLOUD5
000024A6= 00FFBF80 0000002F       2438              DC.L    $00FFBF80,47
000024AE= 00FEFDFB 00000008       2439              DC.L    $00FEFDFB,8
000024B6= 00DCDCDC 00000001       2440              DC.L    $00DCDCDC,1
000024BE= 00FFBF80 00000019       2441              DC.L    $00FFBF80,25
000024C6= 00FEFDFB 0000000A       2442              DC.L    $00FEFDFB,10
000024CE= 00DCDCDC 00000001       2443              DC.L    $00DCDCDC,1
000024D6= 00FFBF80 00000018       2444              DC.L    $00FFBF80,24
000024DE= 00FEFDFB 0000000B       2445              DC.L    $00FEFDFB,11
000024E6= 00FFBF80 00000017       2446              DC.L    $00FFBF80,23
000024EE= 00FEFDFB 00000009       2447              DC.L    $00FEFDFB,9
000024F6= 00DCDCDC 00000001       2448              DC.L    $00DCDCDC,1
000024FE= 00FEFDFB 00000002       2449              DC.L    $00FEFDFB,2
00002506= 00FFBF80 00000001       2450              DC.L    $00FFBF80,1
0000250E= 00FEFDFB 00000003       2451              DC.L    $00FEFDFB,3
00002516= 00FFBF80 00000010       2452              DC.L    $00FFBF80,16
0000251E= 00DCDCDC 00000001       2453              DC.L    $00DCDCDC,1
00002526= 00FEFDFB 0000000E       2454              DC.L    $00FEFDFB,14
0000252E= 00DCDCDC 00000001       2455              DC.L    $00DCDCDC,1
00002536= 00FEFDFB 00000004       2456              DC.L    $00FEFDFB,4
0000253E= 00DCDCDC 00000001       2457              DC.L    $00DCDCDC,1
00002546= 00FFBF80 0000000E       2458              DC.L    $00FFBF80,14
0000254E= 00FEFDFB 00000004       2459              DC.L    $00FEFDFB,4
00002556= 00DCDCDC 00000001       2460              DC.L    $00DCDCDC,1
0000255E= 00FEFDFB 00000009       2461              DC.L    $00FEFDFB,9
00002566= 00DCDCDC 00000001       2462              DC.L    $00DCDCDC,1
0000256E= 00FEFDFB 00000006       2463              DC.L    $00FEFDFB,6
00002576= 00FFBF80 0000000D       2464              DC.L    $00FFBF80,13
0000257E= 00FEFDFB 00000016       2465              DC.L    $00FEFDFB,22
00002586= 00DCDCDC 00000001       2466              DC.L    $00DCDCDC,1
0000258E= 00FEFDFB 00000001       2467              DC.L    $00FEFDFB,1
00002596= 00FFBF80 0000000B       2468              DC.L    $00FFBF80,11
0000259E= 00DCDCDC 00000001       2469              DC.L    $00DCDCDC,1
000025A6= 00FEFDFB 00000002       2470              DC.L    $00FEFDFB,2
000025AE= 00DCDCDC 00000001       2471              DC.L    $00DCDCDC,1
000025B6= 00FEFDFB 00000015       2472              DC.L    $00FEFDFB,21
000025BE= 00DCDCDC 00000001       2473              DC.L    $00DCDCDC,1
000025C6= 00FFBF80 00000006       2474              DC.L    $00FFBF80,6
000025CE= 00DCDCDC 00000001       2475              DC.L    $00DCDCDC,1
000025D6= 00FEFDFB 00000004       2476              DC.L    $00FEFDFB,4
000025DE= 00DCDCDC 00000003       2477              DC.L    $00DCDCDC,3
000025E6= 00FEFDFB 0000000F       2478              DC.L    $00FEFDFB,15
000025EE= 00DCDCDC 00000001       2479              DC.L    $00DCDCDC,1
000025F6= 00FEFDFB 00000004       2480              DC.L    $00FEFDFB,4
000025FE= 00DCDCDC 00000001       2481              DC.L    $00DCDCDC,1
00002606= 00FFBF80 00000004       2482              DC.L    $00FFBF80,4
0000260E= 00DCDCDC 00000020       2483              DC.L    $00DCDCDC,32
00002616= 00FFBF80 00000025       2484              DC.L    $00FFBF80,37
0000261E= FFFFFFFF                2485              DC.L    $FFFFFFFF
00002622                          2486  
00002622                          2487  
00002622= 005D                    2488  CLOUD6W     DC.W    93
00002624                          2489  CLOUD6
00002624= 00FFBF80 0000001E       2490              DC.L    $00FFBF80,30
0000262C= 00DCDCDC 00000001       2491              DC.L    $00DCDCDC,1
00002634= 00FEFDFB 00000004       2492              DC.L    $00FEFDFB,4
0000263C= 00DCDCDC 00000001       2493              DC.L    $00DCDCDC,1
00002644= 00FFBF80 00000011       2494              DC.L    $00FFBF80,17
0000264C= 00FEFDFB 00000007       2495              DC.L    $00FEFDFB,7
00002654= 00DCDCDC 00000001       2496              DC.L    $00DCDCDC,1
0000265C= 00FFBF80 00000002       2497              DC.L    $00FFBF80,2
00002664= 00DCDCDC 00000002       2498              DC.L    $00DCDCDC,2
0000266C= 00FFBF80 0000000C       2499              DC.L    $00FFBF80,12
00002674= 00FEFDFB 00000007       2500              DC.L    $00FEFDFB,7
0000267C= 00DCDCDC 00000002       2501              DC.L    $00DCDCDC,2
00002684= 00FEFDFB 00000005       2502              DC.L    $00FEFDFB,5
0000268C= 00FFBF80 00000009       2503              DC.L    $00FFBF80,9
00002694= 00FEFDFB 00000007       2504              DC.L    $00FEFDFB,7
0000269C= 00DCDCDC 00000001       2505              DC.L    $00DCDCDC,1
000026A4= 00FEFDFB 00000007       2506              DC.L    $00FEFDFB,7
000026AC= 00FFBF80 00000009       2507              DC.L    $00FFBF80,9
000026B4= 00FEFDFB 00000009       2508              DC.L    $00FEFDFB,9
000026BC= 00DCDCDC 00000001       2509              DC.L    $00DCDCDC,1
000026C4= 00FEFDFB 00000005       2510              DC.L    $00FEFDFB,5
000026CC= 00FFBF80 00000008       2511              DC.L    $00FFBF80,8
000026D4= 00FEFDFB 00000010       2512              DC.L    $00FEFDFB,16
000026DC= 00FFBF80 00000007       2513              DC.L    $00FFBF80,7
000026E4= 00DCDCDC 00000001       2514              DC.L    $00DCDCDC,1
000026EC= 00FEFDFB 00000010       2515              DC.L    $00FEFDFB,16
000026F4= 00DCDCDC 00000003       2516              DC.L    $00DCDCDC,3
000026FC= 00FFBF80 00000003       2517              DC.L    $00FFBF80,3
00002704= 00DCDCDC 00000004       2518              DC.L    $00DCDCDC,4
0000270C= 00FEFDFB 0000000B       2519              DC.L    $00FEFDFB,11
00002714= 00DCDCDC 00000006       2520              DC.L    $00DCDCDC,6
0000271C= 00FFBF80 00000003       2521              DC.L    $00FFBF80,3
00002724= 00DCDCDC 00000007       2522              DC.L    $00DCDCDC,7
0000272C= 00FEFDFB 00000006       2523              DC.L    $00FEFDFB,6
00002734= 00DCDCDC 00000007       2524              DC.L    $00DCDCDC,7
0000273C= 00FFBF80 0000001B       2525              DC.L    $00FFBF80,27
00002744= FFFFFFFF                2526              DC.L    $FFFFFFFF
00002748                          2527  
00002748                          2528  
00002748= 0077                    2529  CLOUD7W     DC.W    119
0000274A                          2530  CLOUD7
0000274A= 00FFBF80 00000028       2531              DC.L    $00FFBF80,40
00002752= 00DCDCDC 00000002       2532              DC.L    $00DCDCDC,2
0000275A= 00FEFDFB 00000004       2533              DC.L    $00FEFDFB,4
00002762= 00DCDCDC 00000001       2534              DC.L    $00DCDCDC,1
0000276A= 00FFBF80 00000016       2535              DC.L    $00FFBF80,22
00002772= 00FEFDFB 00000006       2536              DC.L    $00FEFDFB,6
0000277A= 00DCDCDC 00000001       2537              DC.L    $00DCDCDC,1
00002782= 00FEFDFB 00000002       2538              DC.L    $00FEFDFB,2
0000278A= 00FFBF80 00000003       2539              DC.L    $00FFBF80,3
00002792= 00FEFDFB 00000004       2540              DC.L    $00FEFDFB,4
0000279A= 00FFBF80 0000000A       2541              DC.L    $00FFBF80,10
000027A2= 00FEFDFB 00000002       2542              DC.L    $00FEFDFB,2
000027AA= 00FFBF80 00000002       2543              DC.L    $00FFBF80,2
000027B2= 00FEFDFB 00000009       2544              DC.L    $00FEFDFB,9
000027BA= 00DCDCDC 00000002       2545              DC.L    $00DCDCDC,2
000027C2= 00FEFDFB 00000006       2546              DC.L    $00FEFDFB,6
000027CA= 00DCDCDC 00000001       2547              DC.L    $00DCDCDC,1
000027D2= 00FFBF80 00000007       2548              DC.L    $00FFBF80,7
000027DA= 00FEFDFB 00000004       2549              DC.L    $00FEFDFB,4
000027E2= 00DCDCDC 00000001       2550              DC.L    $00DCDCDC,1
000027EA= 00FEFDFB 00000012       2551              DC.L    $00FEFDFB,18
000027F2= 00FFBF80 00000006       2552              DC.L    $00FFBF80,6
000027FA= 00DCDCDC 00000001       2553              DC.L    $00DCDCDC,1
00002802= 00FEFDFB 00000004       2554              DC.L    $00FEFDFB,4
0000280A= 00DCDCDC 00000001       2555              DC.L    $00DCDCDC,1
00002812= 00FEFDFB 00000008       2556              DC.L    $00FEFDFB,8
0000281A= 00DCDCDC 00000002       2557              DC.L    $00DCDCDC,2
00002822= 00FEFDFB 00000008       2558              DC.L    $00FEFDFB,8
0000282A= 00FFBF80 00000006       2559              DC.L    $00FFBF80,6
00002832= 00FEFDFB 00000011       2560              DC.L    $00FEFDFB,17
0000283A= 00DCDCDC 00000001       2561              DC.L    $00DCDCDC,1
00002842= 00FEFDFB 00000006       2562              DC.L    $00FEFDFB,6
0000284A= 00DCDCDC 00000001       2563              DC.L    $00DCDCDC,1
00002852= 00FFBF80 00000004       2564              DC.L    $00FFBF80,4
0000285A= 00DCDCDC 00000001       2565              DC.L    $00DCDCDC,1
00002862= 00FEFDFB 00000011       2566              DC.L    $00FEFDFB,17
0000286A= 00DCDCDC 00000001       2567              DC.L    $00DCDCDC,1
00002872= 00FEFDFB 00000005       2568              DC.L    $00FEFDFB,5
0000287A= 00DCDCDC 00000002       2569              DC.L    $00DCDCDC,2
00002882= 00FFBF80 00000003       2570              DC.L    $00FFBF80,3
0000288A= 00DCDCDC 00000004       2571              DC.L    $00DCDCDC,4
00002892= 00FEFDFB 0000000C       2572              DC.L    $00FEFDFB,12
0000289A= 00DCDCDC 00000004       2573              DC.L    $00DCDCDC,4
000028A2= 00FEFDFB 00000004       2574              DC.L    $00FEFDFB,4
000028AA= 00DCDCDC 00000004       2575              DC.L    $00DCDCDC,4
000028B2= 00FFBF80 00000002       2576              DC.L    $00FFBF80,2
000028BA= 00DCDCDC 00000007       2577              DC.L    $00DCDCDC,7
000028C2= 00FEFDFB 00000006       2578              DC.L    $00FEFDFB,6
000028CA= 00DCDCDC 0000000F       2579              DC.L    $00DCDCDC,15
000028D2= 00FFBF80 00000003       2580              DC.L    $00FFBF80,3
000028DA= 00DCDCDC 00000019       2581              DC.L    $00DCDCDC,25
000028E2= 00FFBF80 00000021       2582              DC.L    $00FFBF80,33
000028EA= FFFFFFFF                2583              DC.L    $FFFFFFFF
000028EE                          2584  
000028EE                          2585  
000028EE                          2586  
000028EE                          2587  -------------------- end include --------------------
000028EE                          2588              
000028EE                          2589  
000028EE                          2590  START
000028EE                          2591  
000028EE                          2592  ; --- INITIALIZATION ----------------------------------------------------------
000028EE                          2593  
000028EE  007C 0700               2594              ORI.W   #$0700,SR
000028F2  4EB8 1300               2595              JSR     SYSINIT
000028F6  4EB8 119A               2596              JSR     UTLINIT
000028FA  4EB8 14BC               2597              JSR     STAINIT
000028FE                          2598              
000028FE                          2599  .LOOP
000028FE                          2600  
000028FE                          2601  ; --- UPDATE ------------------------------------------------------------------
000028FE                          2602  
000028FE                          2603              ; READ INPUT DEVICES
000028FE                          2604  
000028FE  4E41                    2605              TRAP    #KBDUPDTN
00002900  4E42                    2606              TRAP    #MOUUPDTN
00002902                          2607  
00002902  4EB8 14CC               2608              JSR     STAUPD
00002906                          2609              
00002906                          2610  ; --- SYNC --------------------------------------------------------------------
00002906                          2611  
00002906  4A39 0000292C           2612  .WINT       TST.B   (SCRINTCT)
0000290C  67F8                    2613              BEQ     .WINT
0000290E  4239 0000292C           2614              CLR.B   (SCRINTCT)
00002914                          2615              
00002914                          2616  ; --- PLOT --------------------------------------------------------------------
00002914                          2617  
00002914  4EB8 19A4               2618              JSR     BACKPLOT
00002918  4EB8 1532               2619              JSR     STAPLOT
0000291C                          2620              
0000291C  4E40                    2621              TRAP    #SCRUPDTN
0000291E                          2622              
0000291E  60DE                    2623              BRA     .LOOP
00002920                          2624              
00002920  FFFF FFFF               2625              SIMHALT
00002924                          2626              
00002924                          2627  ; --- VARIABLES ---------------------------------------------------------------
00002924                          2628              
00002924                          2629              INCLUDE "SYSVARS.X68"       ; SYSTEM VARIABLES
00002924                          2630  ; =============================================================================
00002924                          2631  ; SYSTEM VARIABLES
00002924                          2632  ; =============================================================================
00002924                          2633  
00002924                          2634  ; --- KEYBOARD RELATED VARIABLES ----------------------------------------------
00002924                          2635  
00002924                          2636  KBDVAL      DS.B    1                       ; KEY STATE
00002925                          2637  KBDEDGE     DS.B    1                       ; KEY EDGE
00002926                          2638  
00002926                          2639  ; --- MOUSE RELATED VARIABLES -------------------------------------------------
00002926                          2640  
00002926                          2641  MOUPOS      DS.L    1                       ; MOUSE POSITION (16 BITS Y, 16 BITS X)
0000292A                          2642  MOUVAL      DS.B    1                       ; MOUSE VALUE (0,CTRL,ALT,SHIFT,DOUBLE,MID,RIGHT,LEFT)
0000292C                          2643              DS.W    0
0000292C                          2644  
0000292C                          2645  ; --- TIMED INTERRUPT RELATED VARIABLES ---------------------------------------
0000292C                          2646  
0000292C                          2647  SCRINTCT    DS.B    1                       ; INTERRUPT COUNTER
0000292D                          2648  SCRCYCCT    DS.B    1                       ; SCREEN CYCLE COUNTER
0000292E= 00                      2649  GAMCYCCT    DC.B    0                       ; GAME CYCLE COUNTER
00002930                          2650              DS.W    0
00002930                          2651              
00002930                          2652  ; --- FILE PATHS --------------------------------------------------------------
00002930                          2653  
00002930= 44 41 54 41 2F 53 ...   2654  SCOPATH     DC.B     'DATA/SCORES.dat',0
00002940                          2655              DS.W     0
00002940                          2656  
00002940                          2657  
00002940                          2658  
00002940                          2659  
00002940                          2660  
00002940                          2661  
00002940                          2662  -------------------- end include --------------------
00002940                          2663              INCLUDE "VARS.X68"          ; GAME VARIABLES
00002940                          2664  ; =============================================================================
00002940                          2665  ; GAME VARIABLES
00002940                          2666  ; =============================================================================
00002940                          2667  
00002940                          2668  ; --- BIRD RELATED VARIABLES --------------------------------------------------
00002940                          2669  
00002940= 00F0                    2670  BIRDPOSY    DC.W    SCRHEIGH/2         ; BIRD POSITION Y
00002942= 0000                    2671  BIRDVELY    DC.W    0                   ; BIRD SPEED Y
00002944= BBBB                    2672  BIRDPCOL    DC.W    DKYELLOW            ; BIRD PEN COLOR
00002946= FFFF                    2673  BIRDFCOL    DC.W    LGYELLOW            ; BIRD FILL COLOR
00002948                          2674  
00002948                          2675  ; --- SCOREBOARD RELATED VARIABLES --------------------------------------------
00002948                          2676  
00002948                          2677  SCORE       DS.W    1                   ; ACTUAL GAME SCORE
0000294A                          2678  HIGHSCO     DS.W    1                   ; HIGH SCORE
0000294C                          2679  
0000294C                          2680  ;  --- STATE RELATED VARIABLES ------------------------------------------------
0000294C                          2681  
0000294C                          2682  STACUR      DS.W    1                   ; CURRENT STATE
0000294E                          2683  STANEXT     DS.W    1                   ; NEXT STATE
00002950                          2684  
00002950                          2685  
00002950                          2686  
00002950                          2687  
00002950                          2688  
00002950                          2689  
00002950                          2690  
00002950                          2691  -------------------- end include --------------------
00002950                          2692              INCLUDE "DATA/STRDATA.X68"  ; STRING DATA STORED ON VARIABLES
00002950                          2693  ; =============================================================================
00002950                          2694  ; TEXT DATA
00002950                          2695  ; =============================================================================
00002950                          2696  
00002950                          2697  ; --- SCORE TEXT --------------------------------------------------------------
00002950                          2698  
00002950= 53 43 4F 52 45 3A ...   2699  SCOTXT      DC.B    'SCORE: ',0             ; SCORE TEXT
00002958= 48 49 47 48 53 43 ...   2700  HISCOTXT    DC.B    'HIGHSCORE: ',0         ; HIGH SCORE TEXT
00002964                          2701  
00002964                          2702  ; --- PAUSE MENU TEXT ---------------------------------------------------------
00002964                          2703  
00002964= 50 41 55 53 45 00       2704  PAUTITLE    DC.B    'PAUSE',0               ; PAUSE MENU TITLE
0000296A= 52 45 53 55 4D 45 00    2705  PAUTXTB1    DC.B    'RESUME',0              ; PAUSE MENU FIRST BUTTON TEXT
00002971= 4C 45 41 56 45 00       2706  PAUTXTB2    DC.B    'LEAVE',0               ; PAUSE MENU SECOND BUTTON TEXT
00002977                          2707      
00002977                          2708  
00002977                          2709  
00002977                          2710  
00002977                          2711  
00002977                          2712  
00002977                          2713  
00002977                          2714  
00002977                          2715  -------------------- end include --------------------
00002977                          2716              INCLUDE "LIB/UTLVARS.X68"   ; UTIL CODE VARIABLES
00002977                          2717  ; =============================================================================
00002977                          2718  ; UTILITY VARIABLES
00002977                          2719  ; =============================================================================
00002977                          2720  
00002977                          2721  UTLRNDIX    DS.B    1                       ; NEXT INDEX TO RANDOM NUMBER
00002978                          2722              DS.W    0
00002978                          2723  -------------------- end include --------------------
00002978                          2724              INCLUDE "LIB/DMMVARS.X68"   ; DYNAMIC MEMORY VARIABLES
00002978                          2725  ; =============================================================================
00002978                          2726  ; DYNAMIC MEMORY MANAGEMENT VARIABLES (SYSTEM VARIABLES)
00002978                          2727  ; =============================================================================
00002978                          2728  
00002980                          2729              ORG     (*+DMMBSIZE-1)&-DMMBSIZE ; ALIGN TO DMMBSIZE
00002980                          2730  DMMDATA     DS.B    DMMBSIZE*DMMBNUM        ; DYNAMIC MEMORY ALLOCATION SPACE
00003600                          2731              DS.W    0                       ; JUST IN CASE (SIZE IS POW OF TWO)
00003600                          2732  -------------------- end include --------------------
00003600                          2733  
00003600                          2734              END    START

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
AGLADD              10C2
AGLADD:END          10D8
AGLCLEAN            117A
AGLCLEAN:END        1194
AGLCLEAN:LOOP       117E
AGLKILL             10AC
AGLPLOT             1124
AGLPLOT:END         114E
AGLPLOT:LOOP1       112A
AGLPLOT:LOOP2       1130
AGLPLOT:NEXTTP      1148
AGLPLOTT            1154
AGLPLOTT:END        1174
AGLPLOTT:LOOP       115C
AGLUPD              10DC
AGLUPD:END          10FA
AGLUPD:LOOP         10E4
AGLUPDT             1100
AGLUPDT:END         111E
AGLUPDT:LOOP        1108
BACKPLOT            19A4
BACKUPD             1972
BACKUPD:NONEWCL     199E
BIRDFCOL            2946
BIRDINIT            17C8
BIRDPCOL            2944
BIRDPLOT            182A
BIRDPOSX            A0
BIRDPOSY            2940
BIRDRAD             F
BIRDUPD             17D8
BIRDUPD:COLBOT      1816
BIRDUPD:CORDUPD     1802
BIRDUPD:DONE        1824
BIRDUPD:NOCOL       181E
BIRDUPD:NOJUMP      17FC
BIRDVELY            2942
BLACK               0
BLOCKSZ             4
BUTAGTP             3
BUTCOLOR            18732C
BUTHVCLR            35DE3B
BUTINIT             1C0E
BUTPLOT             1C88
BUTPLOT:ENDLOOP     1CDA
BUTPLOT:LOOP        1CCE
BUTPLOT:NOHOVER     1CA6
BUTUPD              1C2A
BUTUPD:END          1C82
BUTUPD:NOHOVER      1C7E
CLDINIT             1B26
CLDPLOT             1B78
CLDSPMSK            FFFFFFFC
CLDTBL              1BA0
CLDUPD              1B4A
CLDUPD:NOKILL       1B72
CLOUD0              1D00
CLOUD0W             1CFE
CLOUD1              1E46
CLOUD1W             1E44
CLOUD2              1F84
CLOUD2W             1F82
CLOUD3              220A
CLOUD3W             2208
CLOUD4              22A0
CLOUD4W             229E
CLOUD5              24A6
CLOUD5W             24A4
CLOUD6              2624
CLOUD6W             2622
CLOUD7              274A
CLOUD7W             2748
CLOUDAGT            1
DARKBLUE            231505
DARKGRAY            C0C0C
DIRTCLR             306284
DIRTHEIG            2D
DKYELLOW            BBBB
DMMALLOC            1092
DMMALLOC:END        10AA
DMMBNUM             32
DMMBSIZE            40
DMMDATA             2980
DMMFCOM             106C
DMMFFND             107A
DMMFIRST            1022
DMMFLOOP            1060
DMMFRCOM            1034
DMMFREE             10AC
DMMFRFND            1042
DMMFRLOP            1028
DMMFRSTO            105A
DMMINIT             1000
DMMINIT:LOOP        100E
DMMNEXT             1044
DMMNEXTO            107C
DMMSYSID            0
FLOHEIGH            3C
FLOPLOT             19DC
GAMCYCCT            292E
GAMEINIT            15B0
GAMEPLOT            1632
GAMEUPD             15C4
GAMEUPD:NOPAUSE     15EC
GOVINIT             179C
GOVPLOT             17C2
GOVUPD              17A0
GOVUPD:CONT         17BE
GRASSCLR            35DE3B
HIGHSCO             294A
HISCOTXT            2958
HSCOLINE            1018
IMGPLOT             1BC0
IMGPLOT:ENDFLAG     FFFFFFFF
IMGPLOT:LOOP1       1BD0
IMGPLOT:LOOP2       1BDE
IMGPLOT:SAMEROW     1BFA
IMGPLOT:STARTX      1C0C
INSINIT             15AA
INSPLOT             15AE
INSUPD              15AC
ISCINIT             1564
ISCPLOT             15A4
ISCUPD              1582
ISCUPD:CONT         15A2
JUMPVELY            FFFFFFF6
KBDEDGE             2925
KBDINIT             1442
KBDPAUSE            1B
KBDSPACE            20
KBDUPD              1450
KBDUPD:LOOP         1486
KBDUPD:PACK         1482
KBDUPDTN            1
KBDVAL              2924
LGBROWN             306284
LGGRAY              A3A3A3
LGGREEN             35DE3B
LGYELLOW            FFFF
MASKNWCL            FF
MASKNWPP            3F
MOUINIT             1490
MOUPOS              2926
MOUUPD              149E
MOUUPDTN            2
MOUVAL              292A
NEWPIPE             1600
NEWPIPE:GOUPD       162C
NORMGRAY            616161
NRMGREEN            18732C
PAUBUTHG            23
PAUBUTWD            82
PAUMEHEI            96
PAUMEWID            C8
PAUSINIT            1640
PAUSPLOT            16CE
PAUSPLOT:ENDLOOP    1774
PAUSPLOT:LOOP       1768
PAUSUPD             16AA
PAUSUPD:CONT        16C2
PAUTITLE            2964
PAUTITLN            F
PAUTXTB1            296A
PAUTXTB2            2971
PIPEAGTP            2
PIPEFCOL            616161
PIPEGAPS            78
PIPEINIT            186C
PIPEPCOL            C0C0C
PIPEPLOT            1912
PIPEUPD             1884
PIPEUPD:COL         18E4
PIPEUPD:END         190C
PIPEUPD:NOCOL       18FE
PIPEUPD:NOKILL      18AC
PIPEVELX            FFFFFFFB
PIPEWIDT            32
PPOPHEIG            F
PPOPOVER            5
SCOFCOL             306284
SCOINC              1A6A
SCOINIT             1A34
SCOLINE             1017
SCOPATH             2930
SCOPLOT             1A88
SCORE               2948
SCOSAVE             1AE0
SCOSAVE:END         1B20
SCOTXT              2950
SCRCYCCT            292D
SCRFPS              3C
SCRHEIGH            1E0
SCRINIT             13D6
SCRINTCT            292C
SCRINTN             1
SCRPLOT             141A
SCRTIM              1434
SCRUPDTN            0
SCRWIDTH            280
SKYBLUE             FFBF80
SKYCOLOR            FFBF80
SKYPLOT             19AE
SNDDIE              0
SNDINIT             136A
SNDINIT:DONE        1388
SNDINIT:LOOP        1376
SNDINIT:SNDDIE      138E
SNDINIT:SNDJUMP     139A
SNDINIT:SNDLIST     13B4
SNDINIT:SNDSCO      13A7
SNDJUMP             1
SNDPLAY             13C4
SNDPLTN             3
SNDSCO              2
STACUR              294C
STAEMPTY            1562
STAGAME             2
STAGOVER            4
STAINIT             14BC
STAINSTR            1
STAINTRO            0
STANEXT             294E
STANONE             FFFFFFFF
STAPAUSE            3
STAPLOT             1532
STAPLOT:PLTTBL      154E
START               28EE
START:LOOP          28FE
START:WINT          2906
STAUPD              14CC
STAUPD:DOUPD        14F2
STAUPD:INITBL       150A
STAUPD:UPDTBL       151E
SYSINIT             1300
TXTCOLOR            0
TXTFONT             4
TXTINIT             1354
TXTSIZE             E
TXTSTYLE            1
UTLCHRWD            8
UTLINIT             119A
UTLPRINT            11B0
UTLPRINT:ENDLOOP    11C2
UTLPRINT:LOOP       11B8
UTLRAND             11E2
UTLRAND:RANDVEC     1200
UTLRNDIX            2977
WHITE               FEFDFB
