0000279A Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 30/12/2023 3:03:38

00000000                             1  ; =============================================================================
00000000                             2  ; TITLE       :
00000000                             3  ; DESCRIPTION :
00000000                             4  ; AUTHOR      :
00000000                             5  ; HISTORY     :
00000000                             6  ; =============================================================================
00000000                             7  
00001000                             8              ORG     $1000
00001000                             9              
00001000                            10  ; --- CODE INCLUDES -----------------------------------------------------------
00001000                            11  
00001000                            12              INCLUDE "SYSCONST.X68"      ; SYSTEM CONSTANTS
00001000                            13  ; =============================================================================
00001000                            14  ; SYSTEM CONSTANTS
00001000                            15  ; =============================================================================
00001000                            16  
00001000                            17  ; --- SCREEN RELATED CONSTANTS ------------------------------------------------
00001000                            18  
00001000  =0000003C                 19  SCRFPS      EQU     60                  ; SCREEN FRAMES PER SECOND
00001000  =00000280                 20  SCRWIDTH    EQU     640                 ; SCREEN WIDTH
00001000  =000001E0                 21  SCRHEIGH    EQU     480                 ; SCREEN HEIGHT
00001000                            22  
00001000                            23  ; --- TEXT OUTPUT RELATED CONSTANTS -------------------------------------------
00001000                            24  
00001000  =00000000                 25  TXTCOLOR    EQU     $0                  ; TEXT OUTPUT COLOR
00001000  =00000001                 26  TXTSTYLE    EQU     %0001               ; TEXT STYLE (STRIKEOUT,UNDERLINE,ITALIC,BOLD)
00001000  =0000000E                 27  TXTSIZE     EQU     14                  ; TEXT SIZE
00001000  =00000004                 28  TXTFONT     EQU     4                   ; TEXT FONT (CURRENT 'LUCIDA CONSOLE')
00001000                            29  
00001000                            30  ; --- KEYCODES ----------------------------------------------------------------
00001000                            31  
00001000  =00000020                 32  KBDSPACE    EQU     ' '
00001000  =0000001B                 33  KBDPAUSE    EQU     27
00001000                            34  
00001000                            35  ; --- SOUND IDENTIFIERS -------------------------------------------------------
00001000                            36  
00001000  =00000000                 37  SNDDIE      EQU     0
00001000  =00000001                 38  SNDJUMP     EQU     1
00001000  =00000002                 39  SNDSCO      EQU     2
00001000                            40  
00001000                            41  ; --- TRAP NUMBERS ------------------------------------------------------------
00001000                            42  
00001000  =00000000                 43  SCRUPDTN    EQU     0                   ; SCREEN UPDATE TRAP NUMBER
00001000  =00000001                 44  KBDUPDTN    EQU     1                   ; KEYBOARD UPDATE TRAP NUMBER
00001000  =00000002                 45  MOUUPDTN    EQU     2                   ; MOUSE UPDATE TRAP NUMBER
00001000  =00000003                 46  SNDPLTN     EQU     3                   ; SOUND PLAY TRAP NUMBER
00001000                            47  
00001000                            48  ; --- INTERRUPTION NUMBERS ----------------------------------------------------
00001000                            49  
00001000  =00000001                 50  SCRINTN     EQU     1                   ; SCREEN INTERRUPT TRAP NUMBER    
00001000                            51  
00001000                            52  
00001000                            53  
00001000                            54  
00001000                            55  
00001000                            56  
00001000                            57  
00001000                            58  
00001000                            59  
00001000                            60  
00001000                            61  
00001000                            62  
00001000                            63  -------------------- end include --------------------
00001000                            64              INCLUDE "CONST.X68"         ; GAME CONSTANTS
00001000                            65  ; =============================================================================
00001000                            66  ; GAME CONSTANTS
00001000                            67  ; =============================================================================
00001000                            68  
00001000                            69  ; --- COLORS CONSTANTS 00BBGGRR -----------------------------------------------
00001000                            70  
00001000  =0000BBBB                 71  DKYELLOW    EQU     $0000BBBB           ; DARK YELLOW COLOR
00001000  =0000FFFF                 72  LGYELLOW    EQU     $0000FFFF           ; LIGHT YELLOW COLOR
00001000  =000C0C0C                 73  DARKGRAY    EQU     $000C0C0C           ; DARK GRAY COLOR
00001000  =00616161                 74  NORMGRAY    EQU     $00616161           ; NORMAL (NOT DARK OR LIGHT) GRAY COLOR 
00001000  =00FFBF80                 75  SKYBLUE     EQU     $00FFBF80           ; SKY BLUE COLOR
00001000  =0018732C                 76  NRMGREEN    EQU     $0018732C           ; NORMAL (NOT DARK OR LIGHT) GREEN COLOR
00001000  =0035DE3B                 77  LGGREEN     EQU     $0035DE3B           ; LIGHT GREEN COLOR
00001000  =00306284                 78  LGBROWN     EQU     $00306284           ; LIGHT BROWN COLOR
00001000  =00FEFDFB                 79  WHITE       EQU     $00FEFDFB           ; WHITE COLOR
00001000                            80  
00001000                            81  ; --- BIRD RELATED CONSTANTS --------------------------------------------------
00001000                            82  
00001000  =FFFFFFF6                 83  JUMPVELY    EQU     -10                 ; VELOCITY BIRD GETS WHEN JUMPING
00001000  =000000A0                 84  BIRDPOSX    EQU     SCRWIDTH/4          ; BIRD POSITION X
00001000  =0000000F                 85  BIRDRAD     EQU     15                  ; BIRD RADIUS
00001000                            86  
00001000                            87  ; --- PIPE RELATED CONSTANTS --------------------------------------------------
00001000                            88  
00001000  =000C0C0C                 89  PIPEPCOL    EQU     DARKGRAY            ; PIPE PEN COLOR
00001000  =00616161                 90  PIPEFCOL    EQU     NORMGRAY            ; PIPE FILL COLOR
00001000  =FFFFFFFB                 91  PIPEVELX    EQU     -5                  ; PIPE X SPEED
00001000  =00000032                 92  PIPEWIDT    EQU     50                  ; PIPE WIDTH
00001000  =00000078                 93  PIPEGAPS    EQU     120                 ; PIPE GAP SIZE
00001000  =00000002                 94  PIPEAGTP    EQU     2                   ; PIPE AGENT TYPE CODE
00001000  =0000003F                 95  MASKNWPP    EQU     %00111111           ; NEW PIPE MASK 
00001000  =00000005                 96  PPOPOVER    EQU     5                   ; PIPE OPENING OVERFLOW
00001000  =0000000F                 97  PPOPHEIG    EQU     15                  ; PIPE OPENING HEIGHT
00001000                            98  
00001000                            99  ; --- BACKGROUND RELATED CONSTANTS --------------------------------------------
00001000                           100  
00001000  =00FFBF80                101  SKYCOLOR    EQU     SKYBLUE             ; SKY BACKGROUND COLOR
00001000  =0035DE3B                102  GRASSCLR    EQU     LGGREEN             ; GRASS COLOR
00001000  =00306284                103  DIRTCLR     EQU     LGBROWN             ; DIRT COLOR
00001000  =0000003C                104  FLOHEIGH    EQU     60                  ; FLOOR HEIGHT
00001000  =0000002D                105  DIRTHEIG    EQU     45                  ; DIRT PART HEIGHT
00001000                           106  
00001000                           107  ; --- CLOUD (BACKGROUND) RELATED CONSTANTS ------------------------------------
00001000                           108  
00001000  =FFFFFFFC                109  CLDSPMSK    EQU     $FFFFFFFC           ; MASK TO INIT CLOUD SPEED
00001000  =0000007F                110  MASKNWCL    EQU     %01111111           ; MASK TO SPAWN NEW CLOUD
00001000  =00000001                111  CLOUDAGT    EQU     1                   ; CLOUD AGENT TYPE CODE
00001000                           112  
00001000                           113  ; --- SCOREBOARD RELATED CONSTANTS --------------------------------------------
00001000                           114  
00001000  =00306284                115  SCOFCOL     EQU     DIRTCLR             ; TEXT BACKGROUND COLOR
00001000  =00001017                116  SCOLINE     EQU     $1017               ; SCORE TEXT COORDINATE 
00001000  =00001018                117  HSCOLINE    EQU     $1018               ; HIGHSCORE TEXT COORDINATE
00001000                           118  
00001000                           119  ; --- STATE RELATED CONSTANTS -------------------------------------------------
00001000                           120  
00001000  =FFFFFFFF                121  STANONE     EQU     -1                  ; NON-EXISTENT STATE NUMBER
00001000  =00000000                122  STAINTRO    EQU     0                   ; INTRO SCREEN STATE NUMBER
00001000  =00000001                123  STAINSTR    EQU     1                   ; INSTRUCTION STATE NUMBER
00001000  =00000002                124  STAGAME     EQU     2                   ; GAME SCREEN STATE NUMBER
00001000  =00000003                125  STAPAUSE    EQU     3                   ; PAUSE SCREEN STATE NUMBER
00001000  =00000004                126  STAGOVER    EQU     4                   ; GAME OVER SCREEN STATE NUMBER
00001000                           127  
00001000                           128  ; --- IMAGE DRAWING CONSTANTS -------------------------------------------------
00001000                           129  
00001000  =00000004                130  BLOCKSZ     EQU     4                   ; BLOCK
00001000                           131  
00001000                           132  ; --- BUTTON RELATED CONSTANTS ------------------------------------------------
00001000                           133  
00001000  =0018732C                134  BUTCOLOR    EQU     NRMGREEN            ; BUTTON COLOR
00001000  =0035DE3B                135  BUTHVCLR    EQU     LGGREEN             ; BUTTON COLOR WHILE BEING HOVER
00001000  =00000003                136  BUTAGTP     EQU     3                   ; BUTTON AGENT TYPE CODE
00001000                           137  
00001000                           138  -------------------- end include --------------------
00001000                           139              INCLUDE "LIB/DMMCONST.X68"  ; DYNAMIC MEMORY CONSTANTS
00001000                           140  ; =============================================================================
00001000                           141  ; DYNAMIC MEMORY MANAGEMENT CONSTANTS (SYSTEM CONSTANTS)
00001000                           142  ; =============================================================================
00001000                           143  
00001000  =00000040                144  DMMBSIZE    EQU     64                      ; BLOCK SIZE (BYTES). POWER OF TWO
00001000  =00000032                145  DMMBNUM     EQU     50                      ; NUMBER OF BLOCKS
00001000  =00000000                146  DMMSYSID    EQU     0                       ; SYSTEM OWNER ID (MUST BE 0)
00001000  =00000000                147  -------------------- end include --------------------
00001000                           148              INCLUDE "LIB/UTLCONST.X68"  ; UTIL CONSTANTS 
00001000                           149  ; ==============================================================================
00001000                           150  ; UTIL CONSTANTS
00001000                           151  ; ==============================================================================
00001000                           152  
00001000  =00000008                153  UTLCHRWD    EQU     8                       ; CHARACTER WIDTH IN PIXELS
00001000  =00000008                154  -------------------- end include --------------------
00001000                           155              INCLUDE "LIB/DMMCODE.X68"   ; DYNAMIC MEMORY CODE
00001000                           156  ; =============================================================================
00001000                           157  ; DYNAMIC MEMORY MANAGEMENT (SYSTEM CODE)
00001000                           158  ; DYNAMIC MEMORY IS A SET OF DMMBNUM SLOTS OF DMMBSIZE BYTES EACH ONE.
00001000                           159  ; DMMBSIZE MUST BE POWER OF TWO. A SLOT HAS:
00001000                           160  ; - HEADER - 1 WORD. SPECIFIES THE OWNER (0 MEANS OWNED BY SYSTEM)
00001000                           161  ; - DATA   - DMMBSIZE - 2 BYTES. MAY CONTAIN VARS AND ANY KIND OF DATA RELATED
00001000                           162  ;            THE THE OWNER. IF OWNER==0, DATA IS MEANINGLESS.
00001000                           163  ; =============================================================================
00001000                           164  
00001000                           165  ; -----------------------------------------------------------------------------
00001000                           166  DMMINIT
00001000                           167  ; INITIALIZES THE DYNAMIC MEMORY TO ALL OWNED BY SYSTEM.
00001000                           168  ; INPUT    - NONE
00001000                           169  ; OUTPUT   - NONE
00001000                           170  ; MODIFIES - NONE
00001000                           171  ; -----------------------------------------------------------------------------
00001000  48E7 8080                172              MOVEM.L D0/A0,-(A7)
00001004  41F9 00002800            173              LEA     DMMDATA,A0
0000100A  303C 0031                174              MOVE.W  #DMMBNUM-1,D0
0000100E  30BC 0000                175  .LOOP       MOVE.W  #DMMSYSID,(A0)
00001012  D1FC 00000040            176              ADD.L   #DMMBSIZE,A0
00001018  51C8 FFF4                177              DBRA.W  D0,.LOOP
0000101C  4CDF 0101                178              MOVEM.L (A7)+,D0/A0
00001020  4E75                     179              RTS
00001022                           180  
00001022                           181  ; -----------------------------------------------------------------------------
00001022                           182  DMMFIRST
00001022                           183  ; SEARCHES THE FIRST MEMORY SLOT NOT OWNED BY SYSTEM AND OUTPUTS A POINTER
00001022                           184  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
00001022                           185  ; INPUT    - NONE
00001022                           186  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
00001022                           187  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001022                           188  ; -----------------------------------------------------------------------------
00001022  41F9 00002800            189              LEA     DMMDATA,A0
00001028  4A58                     190  DMMFRLOP    TST.W   (A0)+
0000102A  6600 0016                191              BNE     DMMFRFND
0000102E  D1FC 0000003E            192              ADD.L   #DMMBSIZE-2,A0
00001034  B1FC 0000347F            193  DMMFRCOM    CMP.L   #DMMDATA+DMMBSIZE*DMMBNUM-1,A0
0000103A  6DEC                     194              BLT     DMMFRLOP
0000103C  207C 00000000            195              MOVE.L  #0,A0
00001042  4E75                     196  DMMFRFND    RTS
00001044                           197  
00001044                           198  ; -----------------------------------------------------------------------------
00001044                           199  DMMNEXT
00001044                           200  ; SEARCHES THE NEXT MEMORY SLOT NOT OWNED BY SYSTEM AND OUTPUTS A POINTER
00001044                           201  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
00001044                           202  ; INPUT    - A0   : POINTER WITHIN THE CURRENT SLOT
00001044                           203  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
00001044                           204  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001044                           205  ; -----------------------------------------------------------------------------
00001044  2F00                     206              MOVE.L  D0,-(A7)
00001046  2008                     207              MOVE.L  A0,D0
00001048  C0BC FFFFFFC0            208              AND.L   #-DMMBSIZE,D0           ; TAKE ADVANTAGE OF ALIGNMENT
0000104E  0680 00000040            209              ADD.L   #DMMBSIZE,D0
00001054  2040                     210              MOVE.L  D0,A0
00001056  201F                     211              MOVE.L  (A7)+,D0
00001058  60DA                     212              BRA     DMMFRCOM
0000105A                           213  
0000105A                           214  ; -----------------------------------------------------------------------------
0000105A                           215  DMMFRSTO
0000105A                           216  ; SEARCHES THE FIRST MEMORY SLOT WITH THE SPECIFIED ID AND OUTPUTS A POINTER
0000105A                           217  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
0000105A                           218  ; INPUT    - D0.W : ID TO SEARCH
0000105A                           219  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
0000105A                           220  ; MODIFIES - NONE (ASIDE OF OUTPUT)
0000105A                           221  ; -----------------------------------------------------------------------------
0000105A  41F9 00002800            222              LEA     DMMDATA,A0
00001060  B058                     223  DMMFLOOP    CMP.W   (A0)+,D0
00001062  6700 0016                224              BEQ     DMMFFND
00001066  D1FC 0000003E            225              ADD.L   #DMMBSIZE-2,A0
0000106C  B1FC 0000347F            226  DMMFCOM     CMP.L   #DMMDATA+DMMBSIZE*DMMBNUM-1,A0
00001072  6DEC                     227              BLT     DMMFLOOP
00001074  207C 00000000            228              MOVE.L  #0,A0
0000107A  4E75                     229  DMMFFND     RTS
0000107C                           230  
0000107C                           231  ; -----------------------------------------------------------------------------
0000107C                           232  DMMNEXTO
0000107C                           233  ; SEARCHES THE NEXT MEMORY SLOT WITH THE SPECIFIED ID AND OUTPUTS A POINTER
0000107C                           234  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
0000107C                           235  ; INPUT    - D0.W : ID TO SEARCH
0000107C                           236  ;            A0   : POINTER WITHIN THE CURRENT SLOT
0000107C                           237  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
0000107C                           238  ; MODIFIES - NONE (ASIDE OF OUTPUT)
0000107C                           239  ; -----------------------------------------------------------------------------
0000107C  2F00                     240              MOVE.L  D0,-(A7)
0000107E  2008                     241              MOVE.L  A0,D0
00001080  C0BC FFFFFFC0            242              AND.L   #-DMMBSIZE,D0           ; TAKE ADVANTAGE OF ALIGNMENT
00001086  0680 00000040            243              ADD.L   #DMMBSIZE,D0
0000108C  2040                     244              MOVE.L  D0,A0
0000108E  201F                     245              MOVE.L  (A7)+,D0
00001090  60DA                     246              BRA     DMMFCOM
00001092                           247  
00001092                           248  ; -----------------------------------------------------------------------------
00001092                           249  DMMALLOC
00001092                           250  ; SEARCHES THE FIRST FREE (SYS OWNED) SLOT, ASSIGNS TO THE SPECIFIED OWNER
00001092                           251  ; AND RETURNS A POINTER TO THE CORRESPONDING DATA (SLOT ADDRESS + 2)
00001092                           252  ; INPUT    - D0.W : ID TO ASSIGN
00001092                           253  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FREE SPACE
00001092                           254  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001092                           255  ; -----------------------------------------------------------------------------
00001092  3F00                     256              MOVE.W  D0,-(A7)
00001094  4240                     257              CLR.W   D0
00001096  4EB8 105A                258              JSR     DMMFRSTO
0000109A  301F                     259              MOVE.W  (A7)+,D0
0000109C  B1FC 00000000            260              CMP.L   #0,A0
000010A2  6700 0006                261              BEQ     .END
000010A6  3140 FFFE                262              MOVE.W  D0,-2(A0)
000010AA  4E75                     263  .END        RTS
000010AC                           264  
000010AC                           265  ; -----------------------------------------------------------------------------
000010AC                           266  DMMFREE
000010AC                           267  ; FREES THE SLOT TO WHICH THE PROVIDED POINTER BELONGS BY SETTING ITS OWNED TO
000010AC                           268  ; SYSTEM (0)
000010AC                           269  ; INPUT    - A0   : POINTER BELONGING TO THE SLOT TO FREE
000010AC                           270  ; OUTPUT   - NONE
000010AC                           271  ; MODIFIES - NONE
000010AC                           272  ; -----------------------------------------------------------------------------
000010AC  48E7 8080                273              MOVEM.L D0/A0,-(A7)
000010B0  2008                     274              MOVE.L  A0,D0
000010B2  C0BC FFFFFFC0            275              AND.L   #-DMMBSIZE,D0           ; TAKE ADVANTAGE OF ALIGNMENT
000010B8  2040                     276              MOVE.L  D0,A0
000010BA  4250                     277              CLR.W   (A0)
000010BC  4CDF 0101                278              MOVEM.L (A7)+,D0/A0
000010C0  4E75                     279              RTS
000010C2                           280  
000010C2                           281  -------------------- end include --------------------
000010C2                           282              INCLUDE "LIB/AGLCODE.X68"   ; AGENTS CODE "OBJECTS"
000010C2                           283  ; =============================================================================
000010C2                           284  ; AGENT MANAGEMENT
000010C2                           285  ; EACH AGENT HAS A DATA BLOCK FROM DMM AS FOLLOWS:
000010C2                           286  ; +0 - LONG : UPDATE SUBROUTINE POINTER
000010C2                           287  ; +4 - LONG : PLOT SUBROUTINE POINTER
000010C2                           288  ; +8:END    : DATA (AGENT SPECIFIC)
000010C2                           289  ; =============================================================================
000010C2                           290  
000010C2                           291  ; -----------------------------------------------------------------------------
000010C2                           292  AGLADD
000010C2                           293  ; CREATES A NEW AGENT
000010C2                           294  ; INPUT    - A1 - POINTER TO AGENT INIT FUNCTION
000010C2                           295  ;            A2 - POINTER TO AGENT UPDATE FUNCTION
000010C2                           296  ;            A3 - POINTER TO AGENT PLOT FUNCTION
000010C2                           297  ;            A4 - POINTER TO INITIALIZATION PARAMETER ADREES 1
000010C2                           298  ;            A5 - POINTER TO INITIALIZATION PARAMETER ADREES 2
000010C2                           299  ;            A6 - POINTER TO INITIALIZATION PARAMETER ADREES 3
000010C2                           300  ;            D0 - AGENT TYPE (USED AS OWNER BY DMM)
000010C2                           301  ;            D1 - AGENT INITIALIZATION PARAMETER DATA 1
000010C2                           302  ;            D2 - AGENT INITIALIZATION PARAMETER DATA 2
000010C2                           303  ;            D3 - AGENT INITIALIZATION PARAMETER DATA 3
000010C2                           304  ;            D4 - AGENT INITIALIZATION PARAMETER DATA 4
000010C2                           305  ;            D5 - AGENT INITIALIZATION PARAMETER DATA 5
000010C2                           306  ;            D6 - AGENT INITIALIZATION PARAMETER DATA 6
000010C2                           307  ;            D7 - AGENT INITIALIZATION PARAMETER DARA 7
000010C2                           308  ; OUTPUT   - NONE
000010C2                           309  ; MODIFIES - NONE
000010C2                           310  ; -----------------------------------------------------------------------------
000010C2  2F08                     311              MOVE.L  A0,-(A7)
000010C4  4EB8 1092                312              JSR     DMMALLOC
000010C8  B1FC 00000000            313              CMP.L   #0,A0
000010CE  6700 0008                314              BEQ     .END
000010D2  20CA                     315              MOVE.L  A2,(A0)+
000010D4  20CB                     316              MOVE.L  A3,(A0)+
000010D6  4E91                     317              JSR     (A1)
000010D8  205F                     318  .END        MOVE.L  (A7)+,A0
000010DA  4E75                     319              RTS
000010DC                           320  
000010DC                           321  ; -----------------------------------------------------------------------------
000010DC                           322  AGLUPD
000010DC                           323  ; UPDATES THE AGENT LIST. PRIOR TO CALLING THE UPDATE FUNCTIONS, A0 IS SET
000010DC                           324  ; TO THE DATA BLOCK OF THE CORRESPONDING SLOT.
000010DC                           325  ; INPUT    - NONE
000010DC                           326  ; OUTPUT   - NONE
000010DC                           327  ; MODIFIES - NONE
000010DC                           328  ; -----------------------------------------------------------------------------
000010DC  48E7 00C0                329              MOVEM.L A0-A1,-(A7)
000010E0  4EB8 1022                330              JSR     DMMFIRST
000010E4  B1FC 00000000            331  .LOOP       CMP.L   #0,A0
000010EA  6700 000E                332              BEQ     .END
000010EE  2250                     333              MOVE.L  (A0),A1
000010F0  5088                     334              ADD.L   #8,A0
000010F2  4E91                     335              JSR     (A1)
000010F4  4EB8 1044                336              JSR     DMMNEXT
000010F8  60EA                     337              BRA     .LOOP
000010FA  4CDF 0300                338  .END        MOVEM.L (A7)+,A0-A1
000010FE  4E75                     339              RTS
00001100                           340  
00001100                           341  ; -----------------------------------------------------------------------------
00001100                           342  AGLPLOT
00001100                           343  ; PLOTS THE AGENT LIST. PRIOR TO CALLING THE UPDATE FUNCTIONS, A0 IS SET
00001100                           344  ; TO THE DATA BLOCK OF THE CORRESPONDING SLOT.
00001100                           345  ; INPUT    - NONE
00001100                           346  ; OUTPUT   - NONE
00001100                           347  ; MODIFIES - NONE
00001100                           348  ; -----------------------------------------------------------------------------
00001100  48E7 00C0                349              MOVEM.L A0-A1,-(A7)
00001104  4EB8 1022                350              JSR     DMMFIRST
00001108  B1FC 00000000            351  .LOOP       CMP.L   #0,A0
0000110E  6700 0010                352              BEQ     .END
00001112  2268 0004                353              MOVE.L  4(A0),A1
00001116  5088                     354              ADD.L   #8,A0
00001118  4E91                     355              JSR     (A1)
0000111A  4EB8 1044                356              JSR     DMMNEXT
0000111E  60E8                     357              BRA     .LOOP
00001120  4CDF 0300                358  .END        MOVEM.L (A7)+,A0-A1
00001124  4E75                     359              RTS
00001126                           360  
00001126                           361  ; -----------------------------------------------------------------------------
00001126                           362  AGLCLEAN
00001126                           363  ; KILLS EVERY AGENT ON AGENLIST OF THE SPECIFIED TYPE
00001126                           364  ; INPUT     - D0.W - AGENT TYPE (USED AS OWNER BY DMM)
00001126                           365  ; OUTPUT    - KILLS EVERY AGENT ON AGENTLIST
00001126                           366  ; MODIFIES  - NONE
00001126                           367  ; -----------------------------------------------------------------------------
00001126  48E7 00C0                368              MOVEM.L A0-A1,-(A7)
0000112A                           369              
0000112A  4EB8 105A                370  .LOOP       JSR     DMMFRSTO
0000112E  B1FC 00000000            371              CMP.L   #0,A0
00001134  6700 000A                372              BEQ     .END
00001138  4EB9 000010AC            373              JSR     AGLKILL
0000113E  60EA                     374              BRA     .LOOP
00001140                           375              
00001140  4CDF 0300                376  .END        MOVEM.L (A7)+,A0-A1
00001144  4E75                     377              RTS
00001146                           378  
00001146                           379              
00001146                           380  
00001146                           381  
00001146                           382  ; -----------------------------------------------------------------------------
00001146  =000010AC                383  AGLKILL     EQU     DMMFREE
00001146                           384  ; KILLS THE AGENT BY RELEASING ITS MEMORY
00001146                           385  ; INPUT    - A0 POINTER WITHIN THE AGENT MEMORY
00001146                           386  ; OUTPUT   - NONE
00001146                           387  ; MODIFIES - NONE
00001146                           388  ; NOTE     - IT IS JUST A WRAPPER FOR DMMFREE
00001146                           389  ; -----------------------------------------------------------------------------
00001146                           390  
00001146                           391  
00001146                           392  
00001146                           393  
00001146                           394  -------------------- end include --------------------
00001146                           395              INCLUDE "LIB/UTLCODE.X68"   ; UTIL SUBRUTINES
00001146                           396  ; =============================================================================
00001146                           397  ; UTILITY CODE
00001146                           398  ; =============================================================================
00001146                           399  
00001146                           400  ; -----------------------------------------------------------------------------
00001146                           401  UTLINIT
00001146                           402  ; INITIALIZES UTILITY CODE
00001146                           403  ; INPUT    - NONE
00001146                           404  ; OUTPUT   - NONE
00001146                           405  ; MODIFIES - NONE
00001146                           406  ; -----------------------------------------------------------------------------
00001146  48E7 C000                407              MOVEM.L D0-D1,-(A7)
0000114A  103C 0008                408              MOVE.B  #8,D0
0000114E  4E4F                     409              TRAP    #15
00001150  13C1 000027FC            410              MOVE.B  D1,(UTLRNDIX)
00001156  4CDF 0003                411              MOVEM.L (A7)+,D0-D1
0000115A  4E75                     412              RTS
0000115C                           413              
0000115C                           414  ; -----------------------------------------------------------------------------
0000115C                           415  UTLPRINT
0000115C                           416  ; PRINT SCREEN CENTERED TEXT
0000115C                           417  ; INPUT    : A0 POINTER TO ZERO-TERMINATED STRING
0000115C                           418  ;            D0.B SCREEN ROW TO PRINT TEXT
0000115C                           419  ; OUTPUT   : D0.B NEXT ROW
0000115C                           420  ; MODIFIES : NONE (ASIDE OF OUTPUT)
0000115C                           421  ; -----------------------------------------------------------------------------
0000115C  48E7 C0C0                422              MOVEM.L D0-D1/A0-A1,-(A7)
00001160  4201                     423              CLR.B   D1
00001162  2248                     424              MOVE.L  A0,A1
00001164  4A18                     425  .LOOP       TST.B   (A0)+
00001166  6700 0006                426              BEQ     .ENDLOOP
0000116A  5201                     427              ADDQ.B  #1,D1
0000116C  60F6                     428              BRA     .LOOP
0000116E  E209                     429  .ENDLOOP    LSR.B   #1,D1
00001170  0401 0028                430              SUB.B   #(SCRWIDTH/UTLCHRWD)/2,D1
00001174  4401                     431              NEG.B   D1
00001176  E141                     432              ASL.W   #8,D1
00001178  8240                     433              OR.W    D0,D1
0000117A  103C 000B                434              MOVE.B  #11,D0
0000117E  4E4F                     435              TRAP    #15
00001180  103C 000D                436              MOVE.B  #13,D0
00001184  4E4F                     437              TRAP    #15
00001186  4CDF 0303                438              MOVEM.L (A7)+,D0-D1/A0-A1
0000118A  5200                     439              ADDQ.B  #1,D0
0000118C  4E75                     440              RTS
0000118E                           441  
0000118E                           442  ; -----------------------------------------------------------------------------
0000118E                           443  UTLRAND
0000118E                           444  ; PROVIDES A PSEUDO-RANDOM BYTE
0000118E                           445  ; INPUT    - NONE
0000118E                           446  ; OUTPUT   - D0.L RANDOM VALUE (ONLY BYTE)
0000118E                           447  ; MODIFIES - NONE (ASIDE OF OUTPUT)
0000118E                           448  ; -----------------------------------------------------------------------------
0000118E  2F08                     449              MOVE.L  A0,-(A7)
00001190  41F9 000011AC            450              LEA     .RANDVEC,A0
00001196  4280                     451              CLR.L   D0
00001198  1039 000027FC            452              MOVE.B  (UTLRNDIX),D0
0000119E  1030 0800                453              MOVE.B  (A0,D0.L),D0
000011A2  5239 000027FC            454              ADDQ.B  #1,(UTLRNDIX)
000011A8  205F                     455              MOVE.L  (A7)+,A0
000011AA  4E75                     456              RTS
000011AC                           457  
000011AC                           458  
000011AC= A2 EE 9A 0C F5 24 ...    459  .RANDVEC    DC.B    162, 238, 154, 12 , 245, 36 , 32 , 103
000011B4= 2A A3 51 26 E0 AC ...    460              DC.B    42 , 163, 81 , 38 , 224, 172, 19 , 69
000011BC= 75 51 CA FD 33 EB ...    461              DC.B    117, 81 , 202, 253, 51 , 235, 108, 154
000011C4= 60 CC E7 B8 9A EB ...    462              DC.B    96 , 204, 231, 184, 154, 235, 34 , 203
000011CC= 1D 76 B5 95 B0 89 ...    463              DC.B    29 , 118, 181, 149, 176, 137, 62 , 108
000011D4= 39 15 48 C9 6E CA ...    464              DC.B    57 , 21 , 72 , 201, 110, 202, 159, 41
000011DC= 43 E7 E2 7C 37 25 ...    465              DC.B    67 , 231, 226, 124, 55 , 37 , 84 , 62
000011E4= E9 94 CE E9 E4 52 ...    466              DC.B    233, 148, 206, 233, 228, 82 , 243, 78
000011EC= 37 6D 9A 84 A2 28 ...    467              DC.B    55 , 109, 154, 132, 162, 40 , 30 , 39
000011F4= 19 E2 C6 77 80 D4 ...    468              DC.B    25 , 226, 198, 119, 128, 212, 232, 225
000011FC= 0A 5A 32 67 33 C2 ...    469              DC.B    10 , 90 , 50 , 103, 51 , 194, 222, 40
00001204= 59 80 DC 0E 57 FC ...    470              DC.B    89 , 128, 220, 14 , 87 , 252, 243, 252
0000120C= 8A AB BC F7 07 4D ...    471              DC.B    138, 171, 188, 247, 7  , 77 , 29 , 234
00001214= EF D5 77 6E 1E BB ...    472              DC.B    239, 213, 119, 110, 30 , 187, 131, 23
0000121C= D6 E0 2A 8F BD 28 ...    473              DC.B    214, 224, 42 , 143, 189, 40 , 212, 130
00001224= 13 4F 66 EC 0A 64 ...    474              DC.B    19 , 79 , 102, 236, 10 , 100, 122, 188
0000122C= 56 52 9A 16 9B 90 ...    475              DC.B    86 , 82 , 154, 22 , 155, 144, 7  , 199
00001234= 06 8A A4 F7 01 DA ...    476              DC.B    6  , 138, 164, 247, 1  , 218, 166, 82
0000123C= F2 E7 77 28 B1 76 ...    477              DC.B    242, 231, 119, 40 , 177, 118, 220, 102
00001244= A4 42 E3 81 B1 67 ...    478              DC.B    164, 66 , 227, 129, 177, 103, 165, 108
0000124C= BF CE FA 16 BF 38 ...    479              DC.B    191, 206, 250, 22 , 191, 56 , 30 , 161
00001254= D1 8B 50 0C 5F 49 ...    480              DC.B    209, 139, 80 , 12 , 95 , 73 , 168, 56
0000125C= DE 4C 14 A2 40 DC ...    481              DC.B    222, 76 , 20 , 162, 64 , 220, 93 , 12
00001264= B6 9B 0A 38 5D AB ...    482              DC.B    182, 155, 10 , 56 , 93 , 171, 89 , 6
0000126C= E2 1B DD 75 15 82 ...    483              DC.B    226, 27 , 221, 117, 21 , 130, 101, 18
00001274= 8A 26 51 30 9F 47 ...    484              DC.B    138, 38 , 81 , 48 , 159, 71 , 57 , 21
0000127C= 1E 8A BB 71 C6 6E ...    485              DC.B    30 , 138, 187, 113, 198, 110, 185, 152
00001284= 9F 47 E5 34 94 27 ...    486              DC.B    159, 71 , 229, 52 , 148, 39 , 77 , 6
0000128C= 7D 06 D6 BA 30 0F ...    487              DC.B    125, 6  , 214, 186, 48 , 15 , 212, 22
00001294= EC 7F 7E 03 CF 2D ...    488              DC.B    236, 127, 126, 3  , 207, 45 , 193, 2
0000129C= 94 5B 23 F2 8B CD ...    489              DC.B    148, 91 , 35 , 242, 139, 205, 248, 237
000012A4= 74 33 EC B9 0F D5 ...    490              DC.B    116, 51 , 236, 185, 15 , 213, 221, 6
000012AC                           491  
000012AC                           492  -------------------- end include --------------------
000012AC                           493              INCLUDE "SYSTEM.X68"        ; SYSTEM CODE
000012AC                           494  ; =============================================================================
000012AC                           495  ; SYSTEM
000012AC                           496  ; =============================================================================
000012AC                           497  
000012AC                           498  ; -----------------------------------------------------------------------------
000012AC                           499  SYSINIT
000012AC                           500  ; INITIALIZE SYSTEM
000012AC                           501  ; INPUT     : NONE
000012AC                           502  ; OUTPUT    : NONE
000012AC                           503  ; MODIFIES  : NONE
000012AC                           504  ; -----------------------------------------------------------------------------
000012AC                           505  
000012AC                           506              ; INSTALL TRAPS AND INTERRUPTIONS
000012AC  21FC 000013C6 0080       507              MOVE.L  #SCRPLOT,($80+SCRUPDTN*4)
000012B4  21FC 000013FC 0084       508              MOVE.L  #KBDUPD,($80+KBDUPDTN*4)
000012BC  21FC 0000144A 0088       509              MOVE.L  #MOUUPD,($80+MOUUPDTN*4)
000012C4  21FC 00001370 008C       510              MOVE.L  #SNDPLAY,($80+SNDPLTN*4)
000012CC  21FC 000013E0 0064       511              MOVE.L  #SCRTIM,($60+SCRINTN*4)
000012D4                           512              
000012D4  4EB9 000012FE            513              JSR     TXTINIT
000012DA  4EB9 000013EE            514              JSR     KBDINIT
000012E0  4EB9 0000143C            515              JSR     MOUINIT
000012E6  4EB9 00001316            516              JSR     SNDINIT
000012EC  4EB9 00001382            517              JSR     SCRINIT
000012F2  4EB8 1000                518              JSR     DMMINIT
000012F6                           519              
000012F6                           520              ; SET USER MODE AND ALLOW INTERRUPTIONS
000012F6  40E7                     521              MOVE.W  SR,-(A7)
000012F8  0257 D8FF                522              ANDI.W  #$D8FF,(A7)
000012FC  4E73                     523              RTE
000012FE                           524              
000012FE                           525  ; -----------------------------------------------------------------------------
000012FE                           526  TXTINIT
000012FE                           527  ; INITIALIZES THE TEXT OUTPUT
000012FE                           528  ; INPUT     : NONE
000012FE                           529  ; OUTPUT    : NONE
000012FE                           530  ; MODIFIES  : NONE
000012FE                           531  ; -----------------------------------------------------------------------------
000012FE                           532  
000012FE  48E7 E000                533              MOVEM.L D0-D2,-(A7)
00001302                           534              
00001302  7200                     535              MOVE.L  #TXTCOLOR,D1
00001304  243C 040E0001            536              MOVE.L  #TXTFONT<<24|TXTSIZE<<16|TXTSTYLE,D2
0000130A  103C 0015                537              MOVE.B  #21,D0
0000130E  4E4F                     538              TRAP    #15
00001310                           539              
00001310  4CDF 0007                540              MOVEM.L (A7)+,D0-D2
00001314  4E75                     541              RTS     
00001316                           542         
00001316                           543  ; -----------------------------------------------------------------------------
00001316                           544  SNDINIT
00001316                           545  ; INITIALIZES SOUND SYSTEM
00001316                           546  ; INPUT     : NONE
00001316                           547  ; OUTPUT    : NONE
00001316                           548  ; MODIFIES  : NONE
00001316                           549  ; -----------------------------------------------------------------------------
00001316                           550  
00001316  48E7 C0C0                551              MOVEM.L D0-D1/A0-A1,-(A7)
0000131A                           552              
0000131A  4201                     553              CLR.B   D1
0000131C  41F9 00001360            554              LEA     .SNDLIST,A0
00001322  2018                     555  .LOOP       MOVE.L  (A0)+,D0
00001324  6700 000E                556              BEQ     .DONE
00001328  2240                     557              MOVE.L  D0,A1
0000132A  103C 0047                558              MOVE.B  #71,D0
0000132E  4E4F                     559              TRAP    #15
00001330  5201                     560              ADDQ.B  #1,D1
00001332  60EE                     561              BRA     .LOOP
00001334                           562              
00001334  4CDF 0303                563  .DONE       MOVEM.L (A7)+,D0-D1/A0-A1
00001338  4E75                     564              RTS
0000133A                           565              
0000133A= 53 4E 44 2F 44 49 ...    566  .SNDDIE     DC.B    'SND/DIE.wav',0
00001346= 53 4E 44 2F 4A 55 ...    567  .SNDJUMP    DC.B    'SND/JUMP.wav',0
00001353= 53 4E 44 2F 53 43 ...    568  .SNDSCO     DC.B    'SND/SCO.wav',0
00001360                           569              DS.W    0                       ; WORD ALIGN
00001360= 0000133A 00001346 ...    570  .SNDLIST    DC.L    .SNDDIE,.SNDJUMP,.SNDSCO,0
00001370                           571              
00001370                           572  ; ------------------------------------------------------------------------------
00001370                           573  SNDPLAY
00001370                           574  ; PLAY SOUND
00001370                           575  ; INPUT    : D7 SOUND ID
00001370                           576  ; OUTPUT   : NONE
00001370                           577  ; MODIFIES : NONE
00001370                           578  ; ------------------------------------------------------------------------------
00001370                           579  
00001370  48A7 C000                580              MOVEM.W D0-D1,-(A7)
00001374                           581              
00001374  103C 0048                582              MOVE.B  #72,D0
00001378  1207                     583              MOVE.B  D7,D1
0000137A  4E4F                     584              TRAP    #15
0000137C                           585              
0000137C  4C9F 0003                586              MOVEM.W (A7)+,D0-D1
00001380  4E73                     587              RTE
00001382                           588  
00001382                           589  ; -----------------------------------------------------------------------------
00001382                           590  SCRINIT
00001382                           591  ; INIT SCREEN. SET SCREEN RESOLUTION, SET WINDOWED MODE, CLEAR SCREEN,
00001382                           592  ; ENABLE DOUBLE BUFFER, ENABLE TIMED INTERRUPT.
00001382                           593  ; INPUT     : NONE
00001382                           594  ; OUTPUT    : NONE
00001382                           595  ; MODIFIES  : NONE
00001382                           596  ; -----------------------------------------------------------------------------
00001382                           597  
00001382  48E7 C000                598              MOVEM.L D0-D1,-(A7)
00001386                           599              
00001386                           600              ; SET SCREEN RESOLUTION
00001386  103C 0021                601              MOVE.B  #33,D0
0000138A  223C 028001E0            602              MOVE.L  #SCRWIDTH<<16|SCRHEIGH,D1
00001390  4E4F                     603              TRAP    #15
00001392                           604              
00001392                           605              ; SET WINDOWED MODE
00001392  7201                     606              MOVE.L  #1,D1
00001394  4E4F                     607              TRAP    #15
00001396                           608              
00001396                           609              ; CLEAR SCREEN
00001396  103C 000B                610              MOVE.B  #11,D0
0000139A  323C FF00                611              MOVE.W  #$FF00,D1
0000139E  4E4F                     612              TRAP    #15
000013A0                           613              
000013A0                           614              ; ENABLE DOUBLE BUFFER
000013A0  103C 005C                615              MOVE.B  #92,D0
000013A4  123C 0011                616              MOVE.B  #17,D1
000013A8  4E4F                     617              TRAP    #15
000013AA                           618              
000013AA                           619              ; ENABLE TIMED INTERRUPT
000013AA  103C 0020                620              MOVE.B  #32,D0
000013AE  123C 0006                621              MOVE.B  #6,D1
000013B2  143C 0081                622              MOVE.B  #$80|SCRINTN,D2
000013B6  7610                     623              MOVE.L  #1000/SCRFPS,D3
000013B8  4E4F                     624              TRAP    #15
000013BA                           625              
000013BA                           626              ; CLEAR INTERRUPT COUNTER
000013BA  4279 000027D8            627              CLR.W   (SCRINTCT)
000013C0                           628              
000013C0  4CDF 0003                629              MOVEM.L (A7)+,D0-D1
000013C4  4E75                     630              RTS
000013C6                           631              
000013C6                           632  ; -----------------------------------------------------------------------------
000013C6                           633  SCRPLOT
000013C6                           634  ; UPDATES DOUBLE BUFFER
000013C6                           635  ; INPUT    : NONE
000013C6                           636  ; OUTPUT   : NONE
000013C6                           637  ; MODIFIES : NONE
000013C6                           638  ; -----------------------------------------------------------------------------
000013C6                           639  
000013C6  48A7 C000                640              MOVEM.W D0-D1,-(A7)
000013CA                           641              
000013CA                           642              ; SWITCH BUFFERS
000013CA  103C 005E                643              MOVE.B  #94,D0
000013CE  4E4F                     644              TRAP    #15
000013D0                           645              
000013D0                           646              ; CLEAN HIDDEN BUFFER
000013D0  103C 000B                647              MOVE.B  #11,D0
000013D4  323C FF00                648              MOVE.W  #$FF00,D1
000013D8  4E4F                     649              TRAP    #15
000013DA  4C9F 0003                650              MOVEM.W (A7)+,D0-D1
000013DE  4E73                     651              RTE
000013E0                           652  
000013E0                           653  ; -----------------------------------------------------------------------------
000013E0                           654  SCRTIM
000013E0                           655  ; TIMED INTERRUPT SERVICE ROUTINE, COUNTS TIME FALLING
000013E0                           656  ; INPUT     : NONE
000013E0                           657  ; OUTPUT    : NONE
000013E0                           658  ; MODIFIES  : NONE
000013E0                           659  ; -----------------------------------------------------------------------------
000013E0                           660  
000013E0  5239 000027D8            661              ADDQ.B  #1,(SCRINTCT)
000013E6  5239 000027D9            662              ADDQ.B  #1,(SCRCYCCT)
000013EC  4E73                     663              RTE
000013EE                           664              
000013EE                           665  ; -----------------------------------------------------------------------------
000013EE                           666  KBDINIT
000013EE                           667  ; INIT KEYBOARD
000013EE                           668  ; INPUT     : NONE
000013EE                           669  ; OUTPUT    : NONE
000013EE                           670  ; MODIFIES  : NONE
000013EE                           671  ; -----------------------------------------------------------------------------
000013EE                           672  
000013EE  4239 000027D0            673              CLR.B   (KBDVAL)
000013F4  4239 000027D1            674              CLR.B   (KBDEDGE)
000013FA  4E75                     675              RTS
000013FC                           676              
000013FC                           677  ; -----------------------------------------------------------------------------
000013FC                           678  KBDUPD
000013FC                           679  ; UPDATE KEYBOARD INFO
000013FC                           680  ; 0 -> SPACE
000013FC                           681  ; INPUT     : NONE
000013FC                           682  ; OUTPUT    : NONE
000013FC                           683  ; MODIFIES  : NONE
000013FC                           684  ; -----------------------------------------------------------------------------
000013FC                           685  
000013FC  48E7 F000                686              MOVEM.L D0-D3,-(A7)
00001400                           687              
00001400                           688              ; READ KEYBOARD
00001400  103C 0013                689              MOVE.B  #19,D0
00001404  223C 00001B20            690              MOVE.L  #KBDPAUSE<<8|KBDSPACE,D1
0000140A  4E4F                     691              TRAP    #15
0000140C                           692              
0000140C                           693              ; CONVERT TO DESIRED FORMAT
0000140C  4EB9 0000142E            694              JSR     .PACK
00001412                           695  
00001412                           696              ; COMPUTE KBDEDGE
00001412  1039 000027D0            697              MOVE.B  (KBDVAL),D0
00001418  4600                     698              NOT.B   D0
0000141A  C042                     699              AND.W   D2,D0
0000141C  13C0 000027D1            700              MOVE.B  D0,(KBDEDGE)
00001422                           701              
00001422                           702              ; STORE KBDVAL
00001422  13C2 000027D0            703              MOVE.B  D2,(KBDVAL)
00001428                           704              
00001428  4CDF 000F                705              MOVEM.L (A7)+,D0-D3
0000142C  4E73                     706              RTE
0000142E                           707  
0000142E  363C 0003                708  .PACK       MOVE.W  #3,D3
00001432  E189                     709  .LOOP       LSL.L   #8,D1
00001434  E312                     710              ROXL.B  #1,D2
00001436  51CB FFFA                711              DBRA.W  D3,.LOOP
0000143A  4E75                     712              RTS
0000143C                           713  
0000143C                           714  ; -----------------------------------------------------------------------------
0000143C                           715  MOUINIT
0000143C                           716  ; INPUT     : NONE
0000143C                           717  ; OUTPUT    : NONE
0000143C                           718  ; MODIFIES  : NONE
0000143C                           719  ; -----------------------------------------------------------------------------
0000143C                           720  
0000143C  42B9 000027D2            721              CLR.L   MOUPOS
00001442  4239 000027D6            722              CLR.B   MOUVAL
00001448  4E75                     723              RTS
0000144A                           724              
0000144A                           725  ; -----------------------------------------------------------------------------
0000144A                           726  MOUUPD
0000144A                           727  ; INPUT     : NONE
0000144A                           728  ; OUTPUT    : NONE
0000144A                           729  ; MODIFIES  : NONE
0000144A                           730  ; -----------------------------------------------------------------------------
0000144A                           731  
0000144A  48E7 C000                732              MOVEM.L D0-D1,-(A7)
0000144E                           733              
0000144E  103C 003D                734              MOVE.B  #61,D0
00001452  4201                     735              CLR.B   D1
00001454  4E4F                     736              TRAP    #15
00001456  13C0 000027D6            737              MOVE.B  D0,(MOUVAL)
0000145C  23C1 000027D2            738              MOVE.L  D1,(MOUPOS)
00001462                           739              
00001462  4CDF 0003                740              MOVEM.L (A7)+,D0-D1
00001466  4E73                     741              RTE
00001468                           742  
00001468                           743  
00001468                           744  
00001468                           745  
00001468                           746  
00001468                           747  
00001468                           748  
00001468                           749  
00001468                           750  
00001468                           751  
00001468                           752  
00001468                           753  
00001468                           754  -------------------- end include --------------------
00001468                           755              INCLUDE "STATES.X68"        ; STATES MANAGEMENT
00001468                           756  ; =============================================================================
00001468                           757  ; GAME STATE MANAGEMENT
00001468                           758  ; =============================================================================
00001468                           759  
00001468                           760  ; -----------------------------------------------------------------------------
00001468                           761  STAINIT
00001468                           762  ; INITALIZES THE STATE MANAGER
00001468                           763  ; INPUT    - NONE
00001468                           764  ; OUTPUT   - NONE
00001468                           765  ; MODIFIES - NONE
00001468                           766  ; -----------------------------------------------------------------------------
00001468  33FC FFFF 000027F8       767              MOVE.W  #STANONE,(STACUR)
00001470  4279 000027FA            768              CLR.W   (STANEXT)
00001476  4E75                     769              RTS
00001478                           770  
00001478                           771  ; -----------------------------------------------------------------------------
00001478                           772  STAUPD
00001478                           773  ; PERFORMS STATE UPDATE AND INIT IF NECESSARY
00001478                           774  ; INPUT    - NONE
00001478                           775  ; OUTPUT   - NONE
00001478                           776  ; MODIFIES - NONE
00001478                           777  ; -----------------------------------------------------------------------------
00001478  48E7 8080                778              MOVEM.L D0/A0,-(A7)
0000147C  4280                     779              CLR.L   D0
0000147E  3039 000027FA            780              MOVE.W  (STANEXT),D0
00001484  B079 000027F8            781              CMP.W   (STACUR),D0
0000148A  6700 0012                782              BEQ     .DOUPD
0000148E  33C0 000027F8            783              MOVE.W  D0,(STACUR)             ; IF STATE CHANGED, DO INIT
00001494  E588                     784              LSL.L   #2,D0
00001496  2040                     785              MOVE.L  D0,A0
00001498  2068 14B6                786              MOVE.L  .INITBL(A0),A0
0000149C  4E90                     787              JSR     (A0)
0000149E  4280                     788  .DOUPD      CLR.L   D0                      ; IN ANY CASE, DO UPDATE
000014A0  3039 000027F8            789              MOVE.W  (STACUR),D0
000014A6  E588                     790              LSL.L   #2,D0
000014A8  2040                     791              MOVE.L  D0,A0
000014AA  2068 14CA                792              MOVE.L  .UPDTBL(A0),A0
000014AE  4E90                     793              JSR     (A0)
000014B0  4CDF 0101                794              MOVEM.L (A7)+,D0/A0
000014B4  4E75                     795              RTS
000014B6= 00001510 0000154E ...    796  .INITBL     DC.L    ISCINIT,INSINIT,GAMEINIT,PAUSINIT,GOVINIT
000014CA= 00001526 00001550 ...    797  .UPDTBL     DC.L    ISCUPD,INSUPD,GAMEUPD,PAUSUPD,GOVUPD
000014DE                           798  
000014DE                           799  ; -----------------------------------------------------------------------------
000014DE                           800  STAPLOT
000014DE                           801  ; PERFORMS STATE PLOT
000014DE                           802  ; INPUT    - NONE
000014DE                           803  ; OUTPUT   - NONE
000014DE                           804  ; MODIFIES - NONE
000014DE                           805  ; -----------------------------------------------------------------------------
000014DE  48E7 8080                806              MOVEM.L D0/A0,-(A7)
000014E2  4280                     807              CLR.L   D0
000014E4  3039 000027F8            808              MOVE.W  (STACUR),D0
000014EA  E588                     809              LSL.L   #2,D0
000014EC  2040                     810              MOVE.L  D0,A0
000014EE  2068 14FA                811              MOVE.L  .PLTTBL(A0),A0
000014F2  4E90                     812              JSR     (A0)
000014F4  4CDF 0101                813              MOVEM.L (A7)+,D0/A0
000014F8  4E75                     814              RTS
000014FA= 00001548 00001552 ...    815  .PLTTBL     DC.L    ISCPLOT,INSPLOT,GAMEPLOT,PAUSPLOT,GOVPLOT
0000150E                           816  
0000150E                           817  ; -----------------------------------------------------------------------------
0000150E                           818  STAEMPTY
0000150E                           819  ; EMPTY SUBROUTINE FOR CASES WITH NOTHING TO DO
0000150E                           820  ; INPUT    - NONE
0000150E                           821  ; OUTPUT   - NONE
0000150E                           822  ; MODIFIES - NONE
0000150E                           823  ; NOTE     - JUST A PLACEHOLDER. NOTHING TO DO.
0000150E                           824  ; -----------------------------------------------------------------------------
0000150E  4E75                     825              RTS
00001510                           826  
00001510                           827  
00001510                           828  
00001510                           829  
00001510                           830  
00001510                           831  
00001510                           832  
00001510                           833  
00001510                           834  -------------------- end include --------------------
00001510                           835              INCLUDE "INTRO.X68"         ; INTRO STATE MANAGEMENT
00001510                           836  ; =============================================================================
00001510                           837  ; INTRO SCREEN MANAGEMENT
00001510                           838  ; =============================================================================
00001510                           839  
00001510                           840  ; ------------------------------------------------------------------------------
00001510                           841  ISCINIT
00001510                           842  ; INTRO SCREEN INIT
00001510                           843  ; INPUT    : NONE
00001510                           844  ; OUTPUT   : NONE
00001510                           845  ; MODIFIES : NONE
00001510                           846  ; ------------------------------------------------------------------------------
00001510                           847              ; INIT GAME VARIABLES
00001510  4EB9 00001668            848              JSR BIRDINIT
00001516  4EB9 000018D4            849              JSR SCOINIT
0000151C                           850              ; CLEAN PIPES
0000151C  303C 0002                851              MOVE.W  #PIPEAGTP,D0
00001520  4EB8 1126                852              JSR AGLCLEAN
00001524  4E75                     853              RTS
00001526                           854  
00001526                           855  ; ------------------------------------------------------------------------------
00001526                           856  ISCUPD
00001526                           857  ; INTRO SCREEN UPDATE
00001526                           858  ; INPUT    : NONE
00001526                           859  ; OUTPUT   : NONE
00001526                           860  ; MODIFIES : NONE
00001526                           861  ; ------------------------------------------------------------------------------
00001526                           862              
00001526  4EB9 00001812            863              JSR BACKUPD
0000152C  4EB8 10DC                864              JSR AGLUPD
00001530  1039 000027D1            865              MOVE.B  (KBDEDGE),D0
00001536  C03C 0001                866              AND.B   #1,D0
0000153A  6700 000A                867              BEQ     .CONT
0000153E  33FC 0002 000027FA       868              MOVE.W  #STAGAME,(STANEXT)      
00001546                           869  .CONT
00001546  4E75                     870              RTS
00001548                           871  
00001548                           872  ; ------------------------------------------------------------------------------
00001548                           873  ISCPLOT
00001548                           874  ; INTRO SCREEN PLOT
00001548                           875  ; INPUT    : NONE
00001548                           876  ; OUTPUT   : NONE
00001548                           877  ; MODIFIES : NONE
00001548                           878  ; ------------------------------------------------------------------------------
00001548  4EB8 1100                879              JSR AGLPLOT
0000154C  4E75                     880              RTS
0000154E                           881  
0000154E                           882  
0000154E                           883  
0000154E                           884  
0000154E                           885  
0000154E                           886  
0000154E                           887  
0000154E                           888  
0000154E                           889  
0000154E                           890  -------------------- end include --------------------
0000154E                           891              INCLUDE "INSTRUCTIONS.X68"  ; INSTRUCTIONS STATE MANAGEMENT
0000154E                           892  ; =============================================================================
0000154E                           893  ; INSTRUCTION SCREEN MANAGEMENT
0000154E                           894  ; =============================================================================
0000154E                           895  
0000154E                           896  ; ------------------------------------------------------------------------------
0000154E                           897  INSINIT
0000154E                           898  ; INSTRUCTIONS SCREEN INIT
0000154E                           899  ; INPUT    : NONE
0000154E                           900  ; OUTPUT   : NONE
0000154E                           901  ; MODIFIES : NONE
0000154E                           902  ; ------------------------------------------------------------------------------
0000154E  4E75                     903              RTS
00001550                           904  
00001550                           905  ; ------------------------------------------------------------------------------
00001550                           906  INSUPD
00001550                           907  ; INSTRUCTIONS SCREEN UPDATE
00001550                           908  ; INPUT    : NONE
00001550                           909  ; OUTPUT   : NONE
00001550                           910  ; MODIFIES : NONE
00001550                           911  ; ------------------------------------------------------------------------------
00001550  4E75                     912              RTS
00001552                           913  
00001552                           914  ; ------------------------------------------------------------------------------
00001552                           915  INSPLOT
00001552                           916  ; INSTRUCTIONS SCREEN PLOT
00001552                           917  ; INPUT    : NONE
00001552                           918  ; OUTPUT   : NONE
00001552                           919  ; MODIFIES : NONE
00001552                           920  ; ------------------------------------------------------------------------------
00001552  4E75                     921              RTS
00001554                           922  
00001554                           923  
00001554                           924  
00001554                           925  
00001554                           926  
00001554                           927  
00001554                           928  
00001554                           929  
00001554                           930  
00001554                           931  
00001554                           932  -------------------- end include --------------------
00001554                           933              INCLUDE "GAME.X68"          ; GAME STATE MANAGEMENT
00001554                           934  ; =============================================================================
00001554                           935  ; GAME MANAGEMENT
00001554                           936  ; =============================================================================
00001554                           937  
00001554                           938  ; -----------------------------------------------------------------------------
00001554                           939  GAMEINIT
00001554                           940  ; INITIALIZES GAME.
00001554                           941  ; INPUT    : NONE
00001554                           942  ; OUTPUT   : NONE
00001554                           943  ; MODIFIES : NONE
00001554                           944  ; ------------------------------------------------------------------------------        
00001554  13F9 000027DA 000027D9   945              MOVE.B  (GAMCYCCT),(SCRCYCCT)
0000155E  4E75                     946              RTS
00001560                           947              
00001560                           948  ; -----------------------------------------------------------------------------
00001560                           949  GAMEUPD
00001560                           950  ; UPDATES GAME.
00001560                           951  ; INPUT     : NONE
00001560                           952  ; OUTPUT    : NONE
00001560                           953  ; MODIFIES  : NONE
00001560                           954  ; -----------------------------------------------------------------------------
00001560                           955  
00001560  4EB9 00001812            956              JSR     BACKUPD
00001566  1F00                     957              MOVE.B  D0,-(A7)
00001568  1039 000027D1            958              MOVE.B  (KBDEDGE),D0
0000156E  0800 0001                959              BTST    #1,D0
00001572  6700 0014                960              BEQ     .NOPAUSE
00001576  33FC 0003 000027FA       961              MOVE.W  #STAPAUSE, (STANEXT)
0000157E  13F9 000027D9 000027DA   962              MOVE.B  (SCRCYCCT),(GAMCYCCT)
00001588                           963              
00001588  4EB9 0000159C            964  .NOPAUSE    JSR     NEWPIPE
0000158E  4EB8 10DC                965              JSR     AGLUPD
00001592  4EB9 00001678            966              JSR     BIRDUPD
00001598                           967              
00001598  101F                     968              MOVE.B  (A7)+,D0
0000159A  4E75                     969              RTS
0000159C                           970  
0000159C                           971  ; -----------------------------------------------------------------------------
0000159C                           972  NEWPIPE
0000159C                           973  ; CREATES A NEW PIPE IN CASE IT'S NECESSARY.
0000159C                           974  ; INPUT     : NONE
0000159C                           975  ; OUTPUT    : NONE
0000159C                           976  ; MODIFIES  : NONE
0000159C                           977  ; -----------------------------------------------------------------------------
0000159C                           978  
0000159C  48E7 8070                979              MOVEM.L D0/A1-A3,-(A7)
000015A0                           980              
000015A0  1039 000027D9            981              MOVE.B  (SCRCYCCT),D0
000015A6  0200 003F                982              ANDI.B  #MASKNWPP,D0
000015AA  6600 001C                983              BNE     .GOUPD
000015AE  43F9 0000170C            984              LEA     PIPEINIT,A1
000015B4  45F9 00001724            985              LEA     PIPEUPD,A2
000015BA  47F9 000017B2            986              LEA     PIPEPLOT,A3
000015C0  303C 0002                987              MOVE    #PIPEAGTP,D0
000015C4  4EB8 10C2                988              JSR     AGLADD
000015C8                           989              
000015C8  4CDF 0E01                990  .GOUPD      MOVEM.L (A7)+,D0/A1-A3
000015CC  4E75                     991              RTS
000015CE                           992  
000015CE                           993  ; -----------------------------------------------------------------------------
000015CE                           994  GAMEPLOT
000015CE                           995  ; PLOTS THE GAME.
000015CE                           996  ; INPUT     : NONE
000015CE                           997  ; OUTPUT    : NONE
000015CE                           998  ; MODIFIES  : NONE
000015CE                           999  ; -----------------------------------------------------------------------------
000015CE                          1000              
000015CE  4EB9 00001928           1001              JSR     SCOPLOT
000015D4  4EB8 1100               1002              JSR     AGLPLOT
000015D8  6000 00F0               1003              BRA     BIRDPLOT
000015DC                          1004           
000015DC                          1005  
000015DC                          1006  
000015DC                          1007  
000015DC                          1008  
000015DC                          1009  
000015DC                          1010  
000015DC                          1011  
000015DC                          1012  
000015DC                          1013  
000015DC                          1014  
000015DC                          1015  
000015DC                          1016  
000015DC                          1017  -------------------- end include --------------------
000015DC                          1018              INCLUDE "PAUSE.X68"         ; PAUSE STATE MANAGEMENT
000015DC                          1019  ; =============================================================================
000015DC                          1020  ; PAUSE SCREEN MANAGEMENT
000015DC                          1021  ; =============================================================================
000015DC                          1022  
000015DC                          1023  ; ------------------------------------------------------------------------------
000015DC                          1024  PAUSINIT
000015DC                          1025  ; PAUSE SCREEN INIT
000015DC                          1026  ; INPUT    : NONE
000015DC                          1027  ; OUTPUT   : NONE
000015DC                          1028  ; MODIFIES : NONE
000015DC                          1029  ; ------------------------------------------------------------------------------
000015DC                          1030              
000015DC                          1031              ; INIT BUTTON (THIS IS A TEST)
000015DC  43F9 00001ABC           1032              LEA     BUTINIT,A1
000015E2  45F9 00001AD8           1033              LEA     BUTUPD,A2
000015E8  47F9 00001B36           1034              LEA     BUTPLOT,A3
000015EE  303C 0003               1035              MOVE    #BUTAGTP,D0
000015F2  49F9 00001612           1036              LEA     .TXTTMP,A4
000015F8  323C 00C8               1037              MOVE.W  #200,D1
000015FC  363C 012C               1038              MOVE.W  #300,D3
00001600  343C 0064               1039              MOVE.W  #100,D2
00001604  383C 00C8               1040              MOVE.W  #200,D4
00001608  3A3C 0002               1041              MOVE.W  #STAGAME,D5
0000160C  4EB8 10C2               1042              JSR     AGLADD
00001610                          1043              
00001610  4E75                    1044              RTS
00001612                          1045              
00001612= 52 45 53 55 4D 45 00    1046  .TXTTMP    DC.B    'RESUME',0
0000161A                          1047              DS.W    0
0000161A                          1048  
0000161A                          1049  ; ------------------------------------------------------------------------------
0000161A                          1050  PAUSUPD
0000161A                          1051  ; PAUSE SCREEN UPDATE
0000161A                          1052  ; INPUT    : NONE
0000161A                          1053  ; OUTPUT   : NONE
0000161A                          1054  ; MODIFIES : NONE
0000161A                          1055  ; ------------------------------------------------------------------------------
0000161A                          1056          
0000161A  1F00                    1057              MOVE.B  D0,-(A7)
0000161C                          1058              
0000161C                          1059              ; CHECK IF KEY PRESSED TO RESUME GAME
0000161C  1039 000027D1           1060              MOVE.B  (KBDEDGE),D0
00001622  0800 0001               1061              BTST    #1,D0
00001626  6700 000A               1062              BEQ     .CONT
0000162A  33FC 0002 000027FA      1063              MOVE.W  #STAGAME, (STANEXT)   
00001632                          1064              
00001632  4EB8 10DC               1065  .CONT       JSR     AGLUPD
00001636                          1066              
00001636  101F                    1067              MOVE.B  (A7)+,D0     
00001638  4E75                    1068              RTS
0000163A                          1069  
0000163A                          1070  ; ------------------------------------------------------------------------------
0000163A                          1071  PAUSPLOT
0000163A                          1072  ; PAUSE SCREEN PLOT
0000163A                          1073  ; INPUT    : NONE
0000163A                          1074  ; OUTPUT   : NONE
0000163A                          1075  ; MODIFIES : NONE
0000163A                          1076  ; ------------------------------------------------------------------------------
0000163A  6092                    1077              BRA     GAMEPLOT
0000163C                          1078  
0000163C                          1079  
0000163C                          1080  
0000163C                          1081  
0000163C                          1082  
0000163C                          1083  
0000163C                          1084  
0000163C                          1085  
0000163C                          1086  
0000163C                          1087  
0000163C                          1088  
0000163C                          1089  
0000163C                          1090  
0000163C                          1091  -------------------- end include --------------------
0000163C                          1092              INCLUDE "GOVER.X68"         ; GAME OVER STATE MANAGEMENT
0000163C                          1093  ; =============================================================================
0000163C                          1094  ; GAME OVER SCREEN MANAGEMENT
0000163C                          1095  ; =============================================================================
0000163C                          1096  
0000163C                          1097  ; ------------------------------------------------------------------------------
0000163C                          1098  GOVINIT
0000163C                          1099  ; GAME OVER SCREEN INIT
0000163C                          1100  ; INPUT    : NONE
0000163C                          1101  ; OUTPUT   : NONE
0000163C                          1102  ; MODIFIES : NONE
0000163C                          1103  ; ------------------------------------------------------------------------------
0000163C  6000 0350               1104              BRA     SCOSAVE
00001640                          1105  
00001640                          1106  ; ------------------------------------------------------------------------------
00001640                          1107  GOVUPD
00001640                          1108  ; GAME OVER SCREEN UPDATE
00001640                          1109  ; INPUT    : NONE
00001640                          1110  ; OUTPUT   : NONE
00001640                          1111  ; MODIFIES : NONE
00001640                          1112  ; ------------------------------------------------------------------------------
00001640                          1113  
00001640  3F00                    1114              MOVE.W  D0,-(A7)
00001642                          1115  
00001642  4EB9 00001812           1116              JSR     BACKUPD
00001648  4EB8 10DC               1117              JSR     AGLUPD
0000164C                          1118              ; CHECK IF KEY PRESSED
0000164C  1039 000027D1           1119              MOVE.B  (KBDEDGE),D0
00001652  6700 000A               1120              BEQ     .CONT
00001656  33FC 0000 000027FA      1121              MOVE.W  #STAINTRO,(STANEXT)   
0000165E                          1122     
0000165E  301F                    1123  .CONT       MOVE.W  (A7)+,D0
00001660  4E75                    1124              RTS
00001662                          1125  
00001662                          1126  ; ------------------------------------------------------------------------------
00001662                          1127  GOVPLOT
00001662                          1128  ; GAME OVER SCREEN PLOT
00001662                          1129  ; INPUT    : NONE
00001662                          1130  ; OUTPUT   : NONE
00001662                          1131  ; MODIFIES : NONE
00001662                          1132  ; ------------------------------------------------------------------------------
00001662  4EB8 15CE               1133              JSR GAMEPLOT
00001666  4E75                    1134              RTS
00001668                          1135  
00001668                          1136  
00001668                          1137  
00001668                          1138  
00001668                          1139  
00001668                          1140  
00001668                          1141  
00001668                          1142  
00001668                          1143  
00001668                          1144  
00001668                          1145  
00001668                          1146  -------------------- end include --------------------
00001668                          1147              INCLUDE "BIRD.X68"          ; PLAYER (BIRD) MANAGEMENT
00001668                          1148  ; =============================================================================
00001668                          1149  ; BIRD MANAGEMENT
00001668                          1150  ; =============================================================================
00001668                          1151  
00001668                          1152  ; -----------------------------------------------------------------------------
00001668                          1153  BIRDINIT
00001668                          1154  ; INITIALIZE BIRD.
00001668                          1155  ; INPUT     : NONE 
00001668                          1156  ; OUTPUT    : NONE
00001668                          1157  ; MODIFIES  : NONE
00001668                          1158  ; -----------------------------------------------------------------------------
00001668  33FC 00F0 000027EC      1159              MOVE.W  #SCRHEIGH/2,(BIRDPOSY)
00001670  4279 000027EE           1160              CLR.W   BIRDVELY
00001676  4E75                    1161              RTS
00001678                          1162              
00001678                          1163  ; -----------------------------------------------------------------------------
00001678                          1164  BIRDUPD
00001678                          1165  ; UPDATES THE BIRD.
00001678                          1166  ; INPUT    : NONE 
00001678                          1167  ; OUTPUT   : NONE
00001678                          1168  ; MODIFIES : NONE
00001678                          1169  ; -----------------------------------------------------------------------------
00001678                          1170  
00001678  48E7 E000               1171              MOVEM.L D0-D2,-(A7)
0000167C                          1172  
0000167C                          1173              ; UPDATE VELOCITY
0000167C  1439 000027D1           1174              MOVE.B  (KBDEDGE),D2        ; CHECK IF SHOULD JUMP
00001682  0802 0000               1175              BTST    #0,D2
00001686  6700 0014               1176              BEQ     .NOJUMP
0000168A                          1177              
0000168A  1E3C 0001               1178              MOVE.B  #SNDJUMP,D7         ; PLAY SOUND
0000168E  4E43                    1179              TRAP    #SNDPLTN
00001690  33FC FFF6 000027EE      1180              MOVE.W  #JUMPVELY,(BIRDVELY)
00001698  6000 0008               1181              BRA     .CORDUPD
0000169C                          1182              
0000169C  5279 000027EE           1183  .NOJUMP     ADDQ.W  #1,BIRDVELY          ; ACCELERATE
000016A2                          1184              
000016A2                          1185              ; UPDATE BIRD COORDINATES
000016A2  3039 000027EC           1186  .CORDUPD    MOVE.W  (BIRDPOSY),D0
000016A8  D079 000027EE           1187              ADD.W   (BIRDVELY),D0
000016AE                          1188              
000016AE                          1189              ; CHECK SCREEN COLLISIONS
000016AE  B07C 0195               1190              CMP.W   #SCRHEIGH-FLOHEIGH-BIRDRAD,D0
000016B2  6D00 000A               1191              BLT     .NOCOL
000016B6                          1192          
000016B6                          1193              ; COLLISION BOT
000016B6  33FC 0004 000027FA      1194  .COLBOT     MOVE.W  #STAGOVER,(STANEXT)
000016BE                          1195              
000016BE                          1196              ; STORE POSITION
000016BE  33C0 000027EC           1197  .NOCOL      MOVE.W  D0,(BIRDPOSY)
000016C4                          1198  
000016C4  4CDF 0007               1199  .DONE       MOVEM.L (A7)+,D0-D2
000016C8                          1200              
000016C8  4E75                    1201              RTS
000016CA                          1202  
000016CA                          1203  ; -----------------------------------------------------------------------------
000016CA                          1204  BIRDPLOT
000016CA                          1205  ; PLOT THE BIRD.
000016CA                          1206  ; INPUT    : NONE 
000016CA                          1207  ; OUTPUT   : NONE
000016CA                          1208  ; MODIFIES : NONE
000016CA                          1209  ; -----------------------------------------------------------------------------
000016CA                          1210  
000016CA  48E7 F800               1211              MOVEM.L D0-D4,-(A7)
000016CE                          1212  
000016CE                          1213              ; SET PEN COLOR
000016CE  103C 0050               1214              MOVE.B  #80,D0
000016D2  4281                    1215              CLR.L   D1
000016D4  3239 000027F0           1216              MOVE.W  (BIRDPCOL),D1
000016DA  4E4F                    1217              TRAP    #15
000016DC                          1218              
000016DC                          1219              ; SET FILL COLOR
000016DC  103C 0051               1220              MOVE.B  #81,D0
000016E0  3239 000027F2           1221              MOVE.W  (BIRDFCOL),D1
000016E6  4E4F                    1222              TRAP    #15
000016E8                          1223  
000016E8                          1224              ; DEFINE COORDINATES
000016E8  323C 0091               1225              MOVE.W  #(BIRDPOSX)-BIRDRAD,D1
000016EC  363C 00AF               1226              MOVE.W  #(BIRDPOSX)+BIRDRAD,D3
000016F0  3439 000027EC           1227              MOVE.W  (BIRDPOSY),D2
000016F6  3802                    1228              MOVE.W  D2,D4
000016F8  0442 000F               1229              SUB.W  #BIRDRAD,D2
000016FC  0644 000F               1230              ADD.W  #BIRDRAD,D4
00001700                          1231              
00001700                          1232              ; DRAW CIRCLE
00001700  103C 0058               1233              MOVE.B  #88,D0
00001704  4E4F                    1234              TRAP    #15
00001706                          1235              
00001706  4CDF 001F               1236              MOVEM.L (A7)+,D0-D4
0000170A                          1237  
0000170A  4E75                    1238              RTS
0000170C                          1239  
0000170C                          1240  
0000170C                          1241  
0000170C                          1242  
0000170C                          1243  
0000170C                          1244  
0000170C                          1245  
0000170C                          1246  
0000170C                          1247  
0000170C                          1248  
0000170C                          1249  
0000170C                          1250  
0000170C                          1251  
0000170C                          1252  -------------------- end include --------------------
0000170C                          1253              INCLUDE "PIPE.X68"          ; OBSTACLE (PIPE) MANAGEMENT
0000170C                          1254  ; =============================================================================
0000170C                          1255  ; PIPE MANAGEMENT (AGENT)
0000170C                          1256  ; PIPEPOSX (W) (A0)
0000170C                          1257  ; PIPETOPH (B) 2(A0)
0000170C                          1258  ; =============================================================================
0000170C                          1259  
0000170C                          1260  ; -----------------------------------------------------------------------------
0000170C                          1261  PIPEINIT
0000170C                          1262  ; INITIALIZE PIPE.
0000170C                          1263  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
0000170C                          1264  ; OUTPUT    : NONE
0000170C                          1265  ; MODIFIES  : NONE
0000170C                          1266  ; -----------------------------------------------------------------------------
0000170C                          1267  
0000170C  2F00                    1268              MOVE.L  D0,-(A7)
0000170E                          1269              
0000170E  30BC 0280               1270              MOVE.W  #SCRWIDTH,(A0)
00001712  4EB8 118E               1271              JSR UTLRAND         ; RANDOM NUMBER BETWEEN 0-255
00001716  0680 00000096           1272              ADD.L   #(SCRHEIGH-PIPEGAPS-FLOHEIGH)/2,D0
0000171C  1140 0002               1273              MOVE.B  D0,2(A0)
00001720                          1274              
00001720  201F                    1275              MOVE.L  (A7)+,D0
00001722  4E75                    1276              RTS
00001724                          1277              
00001724                          1278  ; -----------------------------------------------------------------------------
00001724                          1279  PIPEUPD
00001724                          1280  ; UPDATES PIPE.
00001724                          1281  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
00001724                          1282  ; OUTPUT    : NONE
00001724                          1283  ; MODIFIES  : NONE
00001724                          1284  ; -----------------------------------------------------------------------------
00001724  48E7 C000               1285              MOVEM.L D0-D1,-(A7)
00001728                          1286              
00001728  3039 000027F8           1287              MOVE.W  (STACUR),D0
0000172E  B07C 0002               1288              CMP.W   #STAGAME,D0
00001732  6600 0078               1289              BNE     .END
00001736                          1290  
00001736                          1291              ; UPDATE POSITION
00001736  0650 FFFB               1292              ADD.W   #PIPEVELX,(A0)
0000173A                          1293  
0000173A                          1294  ; CHECK AND HANDLE COLLISIONS
0000173A                          1295              
0000173A                          1296              ; COLLISION WITH SCREEN
0000173A  3010                    1297              MOVE.W  (A0),D0
0000173C  0640 0032               1298              ADD.W   #PIPEWIDT,D0
00001740  6A00 000A               1299              BPL     .NOKILL
00001744  4EB8 10AC               1300              JSR AGLKILL
00001748  6000 0062               1301              BRA     .END
0000174C                          1302              
0000174C                          1303              ; COLLISION WITH BIRD
0000174C  B07C 00E1               1304  .NOKILL     CMP.W   #BIRDPOSX+BIRDRAD+PIPEWIDT,D0
00001750  6A00 004C               1305              BPL     .NOCOL
00001754  B07C 0091               1306              CMP.W   #BIRDPOSX-BIRDRAD,D0
00001758  6B00 0044               1307              BMI     .NOCOL
0000175C                          1308  
0000175C                          1309              
0000175C                          1310              ; BIRD IS IN PIPE X RANGE
0000175C  4280                    1311              CLR.L   D0
0000175E  1028 0002               1312              MOVE.B  2(A0),D0
00001762  3239 000027EC           1313              MOVE.W  (BIRDPOSY),D1
00001768  0441 000F               1314              SUB.W   #BIRDRAD,D1
0000176C  B041                    1315              CMP.W   D1,D0
0000176E  6A00 0014               1316              BPL     .COL
00001772  0640 0078               1317              ADD.W   #PIPEGAPS,D0
00001776  0641 001E               1318              ADD.W   #2*BIRDRAD,D1
0000177A  B041                    1319              CMP.W   D1,D0
0000177C  6B00 0006               1320              BMI     .COL
00001780                          1321  
00001780  6000 001C               1322              BRA     .NOCOL
00001784                          1323  
00001784                          1324              ; STOP ALL SOUNDS
00001784  103C 004C               1325  .COL        MOVE.B  #76,D0
00001788  7403                    1326              MOVE.L  #3,D2
0000178A  4E4F                    1327              TRAP    #15
0000178C                          1328              
0000178C  1E3C 0000               1329              MOVE.B  #SNDDIE,D7  ; PLAY DIE SOUND
00001790  4E43                    1330              TRAP    #SNDPLTN
00001792                          1331              
00001792  33FC 0004 000027FA      1332              MOVE.W  #STAGOVER,(STANEXT)
0000179A                          1333              
0000179A  6000 0010               1334              BRA     .END
0000179E                          1335  
0000179E                          1336              ; SCORE INCREASE
0000179E  0C50 005F               1337  .NOCOL      CMP.W   #BIRDPOSX-PIPEWIDT-BIRDRAD,(A0)
000017A2  6600 0008               1338              BNE     .END
000017A6  4EB9 0000190A           1339              JSR     SCOINC
000017AC                          1340              
000017AC  4CDF 0003               1341  .END        MOVEM.L  (A7)+,D0-D1
000017B0  4E75                    1342              RTS
000017B2                          1343  
000017B2                          1344  ; -----------------------------------------------------------------------------
000017B2                          1345  PIPEPLOT
000017B2                          1346  ; PLOT THE PIPE.
000017B2                          1347  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
000017B2                          1348  ; OUTPUT    : NONE
000017B2                          1349  ; MODIFIES  : NONE
000017B2                          1350  ; -----------------------------------------------------------------------------
000017B2                          1351      
000017B2  48E7 F800               1352              MOVEM.L D0-D4,-(A7)
000017B6                          1353              
000017B6                          1354              ; SET PEN AND FILL COLORS
000017B6  103C 0050               1355              MOVE.B  #80,D0
000017BA  223C 000C0C0C           1356              MOVE.L  #PIPEPCOL,D1
000017C0  4E4F                    1357              TRAP    #15
000017C2  103C 0051               1358              MOVE.B  #81,D0
000017C6  223C 00616161           1359              MOVE.L  #PIPEFCOL,D1
000017CC  4E4F                    1360              TRAP    #15
000017CE                          1361              
000017CE                          1362              ; PLOT TOP HALF
000017CE  3210                    1363              MOVE.W  (A0),D1
000017D0  4242                    1364              CLR.W   D2
000017D2  3601                    1365              MOVE.W  D1,D3
000017D4  0643 0032               1366              ADD.W   #PIPEWIDT,D3
000017D8  4244                    1367              CLR.W   D4
000017DA  1828 0002               1368              MOVE.B  2(A0),D4
000017DE  103C 0057               1369              MOVE.B  #87,D0
000017E2  4E4F                    1370              TRAP    #15
000017E4                          1371              ; PLOT TOP PIPE OPENING
000017E4  3404                    1372              MOVE.W  D4,D2
000017E6  0442 000F               1373              SUB.W   #PPOPHEIG,D2
000017EA  5B41                    1374              SUB.W   #PPOPOVER,D1
000017EC  5A43                    1375              ADD.W   #PPOPOVER,D3
000017EE  4E4F                    1376              TRAP    #15
000017F0                          1377              
000017F0                          1378              
000017F0                          1379              ; PLOT BOTTOM HALF
000017F0  5A41                    1380              ADD.W   #PPOPOVER,D1
000017F2  5B43                    1381              SUB.W   #PPOPOVER,D3
000017F4  3404                    1382              MOVE.W  D4,D2
000017F6  0642 0078               1383              ADD.W   #PIPEGAPS,D2
000017FA  383C 01A4               1384              MOVE.W  #SCRHEIGH-FLOHEIGH,D4
000017FE  4E4F                    1385              TRAP    #15
00001800                          1386              ;PLOT BOTTOM PIPE OPNENING
00001800  5B41                    1387              SUB.W   #PPOPOVER,D1
00001802  5A43                    1388              ADD.W   #PPOPOVER,D3
00001804  3802                    1389              MOVE.W  D2,D4
00001806  0644 000F               1390              ADD.W   #PPOPHEIG,D4
0000180A  4E4F                    1391              TRAP    #15
0000180C                          1392              
0000180C  4CDF 001F               1393              MOVEM.L (A7)+,D0-D4
00001810  4E75                    1394              RTS
00001812                          1395  
00001812                          1396  
00001812                          1397  
00001812                          1398  
00001812                          1399  
00001812                          1400  
00001812                          1401  
00001812                          1402  
00001812                          1403  
00001812                          1404  
00001812                          1405  
00001812                          1406  
00001812                          1407  
00001812                          1408  -------------------- end include --------------------
00001812                          1409              INCLUDE "BACKGROUND.X68"    ; BACKGROUND MANAGEMENT
00001812                          1410  ; =============================================================================
00001812                          1411  ; BACKGROUND MANAGEMENT
00001812                          1412  ; =============================================================================
00001812                          1413  
00001812                          1414  ; -----------------------------------------------------------------------------
00001812                          1415  BACKUPD
00001812                          1416  ; UPDATES BACKGROUND
00001812                          1417  ; INPUT     : NONE
00001812                          1418  ; OUTPUT    : NONE
00001812                          1419  ; MODIFIES  : NONE
00001812                          1420  ; -----------------------------------------------------------------------------
00001812                          1421              
00001812  48E7 8070               1422              MOVEM.L D0/A1-A3,-(A7)
00001816                          1423              
00001816                          1424              ; CREATE NEW CLOUD
00001816  1039 000027D9           1425              MOVE.B  (SCRCYCCT),D0
0000181C  0200 007F               1426              ANDI.B  #MASKNWCL,D0
00001820  6600 001C               1427              BNE     .NONEWCL
00001824  43F9 000019D4           1428              LEA     CLDINIT,A1
0000182A  45F9 000019F8           1429              LEA     CLDUPD,A2
00001830  47F9 00001A26           1430              LEA     CLDPLOT,A3
00001836  303C 0001               1431              MOVE    #CLOUDAGT,D0
0000183A  4EB8 10C2               1432              JSR     AGLADD
0000183E                          1433              
0000183E  4CDF 0E01               1434  .NONEWCL    MOVEM.L (A7)+,D0/A1-A3
00001842  4E75                    1435              RTS
00001844                          1436  
00001844                          1437  ; -----------------------------------------------------------------------------
00001844                          1438  BACKPLOT
00001844                          1439  ; DRAWS BACKGROUND
00001844                          1440  ; INPUT     : NONE
00001844                          1441  ; OUTPUT    : NONE
00001844                          1442  ; MODIFIES  : NONE
00001844                          1443  ; -----------------------------------------------------------------------------
00001844                          1444  
00001844  4EB9 0000184E           1445              JSR SKYPLOT
0000184A  6000 0030               1446              BRA FLOPLOT
0000184E                          1447              
0000184E                          1448  ; -----------------------------------------------------------------------------
0000184E                          1449  SKYPLOT
0000184E                          1450  ; DRAWS THE SKY BACKGROUND
0000184E                          1451  ; INPUT     : NONE
0000184E                          1452  ; OUTPUT    : NONE
0000184E                          1453  ; MODIFIES  : NONE
0000184E                          1454  ; -----------------------------------------------------------------------------
0000184E                          1455              
0000184E  48E7 F800               1456              MOVEM.L D0-D4,-(A7)
00001852                          1457              ; SET PEN COLOR
00001852  223C 00FFBF80           1458              MOVE.L  #SKYCOLOR,D1
00001858  103C 0050               1459              MOVE.B  #80,D0
0000185C  4E4F                    1460              TRAP    #15
0000185E                          1461              
0000185E                          1462              ; SET FILL COLOR
0000185E  103C 0051               1463              MOVE.B  #81,D0
00001862  4E4F                    1464              TRAP    #15
00001864                          1465              
00001864                          1466              ; SET COORDS AND DRAW
00001864  103C 0057               1467              MOVE.B  #87,D0
00001868  4241                    1468              CLR.W   D1
0000186A  4242                    1469              CLR.W   D2
0000186C  363C 0280               1470              MOVE.W  #SCRWIDTH,D3
00001870  383C 01E0               1471              MOVE.W  #SCRHEIGH,D4
00001874  4E4F                    1472              TRAP    #15
00001876                          1473              
00001876  4CDF 001F               1474              MOVEM.L (A7)+,D0-D4
0000187A  4E75                    1475              RTS
0000187C                          1476              
0000187C                          1477  ; -----------------------------------------------------------------------------
0000187C                          1478  FLOPLOT
0000187C                          1479  ; DRAWS THE FLOOR BACKGROUND
0000187C                          1480  ; INPUT     : NONE
0000187C                          1481  ; OUTPUT    : NONE
0000187C                          1482  ; MODIFIES  : NONE
0000187C                          1483  ; -----------------------------------------------------------------------------
0000187C                          1484  
0000187C  48E7 F800               1485              MOVEM.L D0-D4,-(A7)
00001880                          1486              
00001880                          1487              ; DRAW GRASS
00001880  4281                    1488              CLR.L   D1                      ; SET PEN COLOR
00001882  103C 0050               1489              MOVE.B  #80,D0
00001886  4E4F                    1490              TRAP    #15
00001888  223C 0035DE3B           1491              MOVE.L  #GRASSCLR,D1            ; SET FILL COLOR
0000188E  103C 0051               1492              MOVE.B  #81,D0                  
00001892  4E4F                    1493              TRAP    #15
00001894  103C 0057               1494              MOVE.B  #87,D0                  ; SET COORDS AND DRAW
00001898  72FF                    1495              MOVE.L  #-1,D1
0000189A  343C 01A4               1496              MOVE.W  #SCRHEIGH-FLOHEIGH,D2
0000189E  363C 0280               1497              MOVE.W  #SCRWIDTH,D3
000018A2  383C 01B3               1498              MOVE.W  #SCRHEIGH-DIRTHEIG,D4
000018A6  4E4F                    1499              TRAP    #15
000018A8                          1500              
000018A8                          1501              ; DRAW DIRT
000018A8  223C 00306284           1502              MOVE.L  #DIRTCLR,D1             ; SET PEN COLOR
000018AE  103C 0050               1503              MOVE.B  #80,D0
000018B2  4E4F                    1504              TRAP    #15
000018B4  223C 00306284           1505              MOVE.L  #DIRTCLR,D1             ; SET FILL COLOR
000018BA  103C 0051               1506              MOVE.B  #81,D0                  
000018BE  4E4F                    1507              TRAP    #15
000018C0  103C 0057               1508              MOVE.B  #87,D0
000018C4  4241                    1509              CLR.W   D1
000018C6  3404                    1510              MOVE.W  D4,D2
000018C8  383C 01E0               1511              MOVE.W  #SCRHEIGH,D4
000018CC  4E4F                    1512              TRAP    #15
000018CE                          1513              
000018CE  4CDF 001F               1514              MOVEM.L (A7)+,D0-D4
000018D2  4E75                    1515              RTS
000018D4                          1516  
000018D4                          1517  
000018D4                          1518  
000018D4                          1519  
000018D4                          1520  -------------------- end include --------------------
000018D4                          1521              INCLUDE "SCORE.X68"         ; SCORE MANAGEMENT
000018D4                          1522  ; =============================================================================
000018D4                          1523  ; SCOREBOARD MANAGEMENT
000018D4                          1524  ; =============================================================================
000018D4                          1525  
000018D4                          1526  ; ------------------------------------------------------------------------------
000018D4                          1527  SCOINIT
000018D4                          1528  ; INITIALIZE SCOREBOARD
000018D4                          1529  ; INPUT    : NONE 
000018D4                          1530  ; OUTPUT   : NONE
000018D4                          1531  ; MODIFIES : NONE
000018D4                          1532  ; ------------------------------------------------------------------------------
000018D4                          1533  
000018D4  48E7 E0C0               1534              MOVEM.L D0-D2/A0-A1,-(A7)
000018D8  4279 000027F4           1535              CLR.W   (SCORE)
000018DE  4279 000027F6           1536              CLR.W   (HIGHSCO)
000018E4                          1537              
000018E4                          1538              ; OPEN FILE
000018E4  43F9 000027DC           1539              LEA     SCOPATH,A1
000018EA  103C 0033               1540              MOVE.B  #51,D0
000018EE  4E4F                    1541              TRAP    #15
000018F0                          1542              
000018F0                          1543              ; READ HIGH SCORE
000018F0  43F9 000027F6           1544              LEA     HIGHSCO,A1
000018F6  7402                    1545              MOVE.L  #2,D2
000018F8  103C 0035               1546              MOVE.B  #53,D0
000018FC  4E4F                    1547              TRAP    #15
000018FE                          1548              
000018FE                          1549              ; CLOSE FILE
000018FE  103C 0038               1550              MOVE.B  #56,D0
00001902  4E4F                    1551              TRAP    #15
00001904                          1552              
00001904  4CDF 0307               1553              MOVEM.L (A7)+,D0-D2/A0-A1
00001908  4E75                    1554              RTS
0000190A                          1555              
0000190A                          1556  ; -----------------------------------------------------------------------------
0000190A                          1557  SCOINC
0000190A                          1558  ; INCREASES THE SCORE BY 1
0000190A                          1559  ; INPUT     : NONE
0000190A                          1560  ; OUTPUT    : SCORE = SCORE + 1
0000190A                          1561  ; MODIFIES  : NONE (APART FROM OUTPUT)
0000190A                          1562  ; -----------------------------------------------------------------------------
0000190A  48E7 A100               1563              MOVEM.L D0/D2/D7,-(A7)
0000190E                          1564  
0000190E  5279 000027F4           1565              ADDQ.W  #1,(SCORE)
00001914                          1566              ; STOP ALL SOUNDS
00001914  103C 004C               1567              MOVE.B  #76,D0
00001918  7403                    1568              MOVE.L  #3,D2
0000191A  4E4F                    1569              TRAP    #15
0000191C                          1570              
0000191C                          1571              ; PLAY SOUND
0000191C  1E3C 0002               1572              MOVE.B  #SNDSCO,D7
00001920  4E43                    1573              TRAP    #SNDPLTN
00001922                          1574              
00001922  4CDF 0085               1575              MOVEM.L (A7)+,D0/D2/D7
00001926  4E75                    1576              RTS
00001928                          1577              
00001928                          1578  ; ------------------------------------------------------------------------------
00001928                          1579  SCOPLOT
00001928                          1580  ; PLOT THE SCOREBOARD
00001928                          1581  ; INPUT    : NONE 
00001928                          1582  ; OUTPUT   : NONE
00001928                          1583  ; MODIFIES : NONE
00001928                          1584  ; ------------------------------------------------------------------------------
00001928                          1585  
00001928  48E7 C040               1586              MOVEM.L D0-D1/A1,-(A7)
0000192C                          1587  
0000192C                          1588              ; SET BACKGROUND COLOR
0000192C  103C 0051               1589              MOVE.B  #81,D0
00001930  223C 00306284           1590              MOVE.L  #SCOFCOL,D1
00001936  4E4F                    1591              TRAP    #15
00001938                          1592              
00001938                          1593              ; SET SCORE LINE POSITION
00001938  103C 000B               1594              MOVE.B  #11,D0
0000193C  323C 1017               1595              MOVE.W  #SCOLINE,D1
00001940  4E4F                    1596              TRAP    #15
00001942                          1597              
00001942                          1598              ; PLOT THE SCORE
00001942  43F9 0000197A           1599              LEA     .SCOTXT,A1
00001948  4281                    1600              CLR.L   D1
0000194A  3239 000027F4           1601              MOVE.W  (SCORE),D1
00001950  103C 0011               1602              MOVE.B  #17,D0
00001954  4E4F                    1603              TRAP    #15
00001956                          1604              
00001956                          1605              ; SET HIGH SCORE LINE POSITION
00001956  103C 000B               1606              MOVE.B  #11,D0
0000195A  323C 1018               1607              MOVE.W  #HSCOLINE,D1
0000195E  4E4F                    1608              TRAP    #15
00001960                          1609              
00001960                          1610              ; PLOT THE HIGHSCORE
00001960  43F9 00001982           1611              LEA     .HISCOTXT,A1
00001966  4281                    1612              CLR.L   D1
00001968  3239 000027F6           1613              MOVE.W  (HIGHSCO),D1
0000196E  103C 0011               1614              MOVE.B  #17,D0
00001972  4E4F                    1615              TRAP    #15
00001974                          1616              
00001974  4CDF 0203               1617              MOVEM.L (A7)+,D0-D1/A1
00001978  4E75                    1618              RTS
0000197A                          1619              
0000197A= 53 43 4F 52 45 3A ...   1620  .SCOTXT     DC.B    'SCORE: ',0
00001982= 48 49 47 48 53 43 ...   1621  .HISCOTXT   DC.B    'HIGHSCORE: ',0
0000198E                          1622  
0000198E                          1623  ; ------------------------------------------------------------------------------
0000198E                          1624  SCOSAVE
0000198E                          1625  ; SAVES THE HIGH SCORE
0000198E                          1626  ; INPUT    : NONE 
0000198E                          1627  ; OUTPUT   : NONE
0000198E                          1628  ; MODIFIES : NONE
0000198E                          1629  ; ------------------------------------------------------------------------------
0000198E                          1630  
0000198E  48E7 E0C0               1631              MOVEM.L A0-A1/D0-D2,-(A7)
00001992                          1632              ; IF ACTUAL SCORE > HIGH SCORE
00001992  3039 000027F4           1633              MOVE.W  (SCORE),D0
00001998  3239 000027F6           1634              MOVE.W  (HIGHSCO),D1
0000199E  B240                    1635              CMP.W   D0,D1
000019A0  6C00 002C               1636              BGE     .END
000019A4                          1637              
000019A4                          1638              ; OPEN FILE
000019A4  43F9 000027DC           1639              LEA     SCOPATH,A1
000019AA  103C 0033               1640              MOVE.B  #51,D0
000019AE  4E4F                    1641              TRAP    #15
000019B0                          1642              
000019B0                          1643              ; SAVE NEW HIGH SCORE
000019B0  33F9 000027F4 000027F6  1644              MOVE.W  (SCORE),(HIGHSCO)
000019BA  43F9 000027F6           1645              LEA     HIGHSCO,A1
000019C0  7402                    1646              MOVE.L  #2,D2
000019C2  103C 0036               1647              MOVE.B  #54,D0
000019C6  4E4F                    1648              TRAP    #15
000019C8                          1649              
000019C8                          1650              ; CLOSE FILE
000019C8  103C 0038               1651              MOVE.B  #56,D0
000019CC  4E4F                    1652              TRAP    #15
000019CE                          1653              
000019CE                          1654              
000019CE  4CDF 0307               1655  .END        MOVEM.L (A7)+,A0-A1/D0-D2
000019D2  4E75                    1656              RTS
000019D4                          1657  
000019D4                          1658  
000019D4                          1659  
000019D4                          1660  
000019D4                          1661  
000019D4                          1662  -------------------- end include --------------------
000019D4                          1663              INCLUDE "CLOUD.X68"         ; CLOUD MANAGEMENT
000019D4                          1664  ; =============================================================================
000019D4                          1665  ; CLOUD MANAGEMENT (AGENT)
000019D4                          1666  ; CLOUDPOSX  (W) (A0)
000019D4                          1667  ; CLOUDPOSY  (W) 2(A0)
000019D4                          1668  ; CLOUDSPEED (W) 4(A0)
000019D4                          1669  ; CLOUDTYPE  (W) 6(A0)
000019D4                          1670  ; =============================================================================
000019D4                          1671  
000019D4                          1672  ; -----------------------------------------------------------------------------
000019D4                          1673  CLDINIT
000019D4                          1674  ; INITIALIZE CLOUD.
000019D4                          1675  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
000019D4                          1676  ; OUTPUT    : NONE
000019D4                          1677  ; MODIFIES  : NONE
000019D4                          1678  ; -----------------------------------------------------------------------------
000019D4                          1679  
000019D4  2F00                    1680              MOVE.L  D0,-(A7)
000019D6                          1681  
000019D6                          1682              ; INIT POSITION
000019D6  30BC 0280               1683              MOVE.W  #SCRWIDTH,(A0)
000019DA  4EB8 118E               1684              JSR UTLRAND             ; RANDOM NUMBER BETWEEN 0-255
000019DE  3140 0002               1685              MOVE.W  D0,2(A0)
000019E2                          1686              ; INIT CLOUD TYPE
000019E2  C03C 0007               1687              AND.B   #7,D0
000019E6  3140 0006               1688              MOVE.W  D0,6(A0)
000019EA                          1689              ; INIT SPEED
000019EA  82BC FFFFFFFC           1690              OR.L    #CLDSPMSK,D1
000019F0  3141 0004               1691              MOVE.W  D1,4(A0)
000019F4                          1692              
000019F4  201F                    1693              MOVE.L (A7)+,D0
000019F6  4E75                    1694              RTS
000019F8                          1695  
000019F8                          1696  ; -----------------------------------------------------------------------------
000019F8                          1697  CLDUPD
000019F8                          1698  ; UPDATES CLOUD.
000019F8                          1699  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
000019F8                          1700  ; OUTPUT    : NONE
000019F8                          1701  ; MODIFIES  : NONE
000019F8                          1702  ; -----------------------------------------------------------------------------
000019F8                          1703              
000019F8  48E7 8040               1704              MOVEM.L D0/A1,-(A7)
000019FC                          1705              
000019FC                          1706              ; UPDATE POSITION
000019FC  3028 0004               1707              MOVE.W  4(A0),D0
00001A00  D050                    1708              ADD.W   (A0),D0
00001A02  3080                    1709              MOVE.W  D0,(A0)
00001A04                          1710              
00001A04                          1711  ; CHECK AND HANDLE COLISION
00001A04                          1712              ; SELECT CLOUD WIDTH
00001A04  3028 0006               1713              MOVE.W  6(A0),D0
00001A08  E558                    1714              ROL.W   #2,D0           ; TIMES 4 TIMES SINCE WE ACCESS LONG
00001A0A  43F9 00001A4E           1715              LEA     CLDTBL,A1
00001A10  2271 0000               1716              MOVE.L  (A1,D0.W),A1
00001A14  3011                    1717              MOVE.W  (A1),D0
00001A16                          1718              
00001A16  D050                    1719              ADD.W   (A0),D0
00001A18  6E00 0006               1720              BGT     .NOKILL
00001A1C  4EB8 10AC               1721              JSR AGLKILL             ; KILL AGENT
00001A20                          1722              
00001A20  4CDF 0201               1723  .NOKILL     MOVEM.L (A7)+,D0/A1       
00001A24  4E75                    1724              RTS
00001A26                          1725  
00001A26                          1726  ; -----------------------------------------------------------------------------
00001A26                          1727  CLDPLOT
00001A26                          1728  ; PLOTS CLOUD.
00001A26                          1729  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
00001A26                          1730  ; OUTPUT    : NONE
00001A26                          1731  ; MODIFIES  : NONE
00001A26                          1732  ; -----------------------------------------------------------------------------
00001A26                          1733              
00001A26  48E7 B140               1734              MOVEM.L D0/D2-D3/D7/A1,-(A7)
00001A2A                          1735              
00001A2A                          1736              ; SELECT THE CLOUD TYPE
00001A2A  3028 0006               1737              MOVE.W  6(A0),D0
00001A2E  E558                    1738              ROL.W   #2,D0           ; TIMES 4 TIMES SINCE WE ACCESS LONG
00001A30  43F9 00001A4E           1739              LEA     CLDTBL,A1
00001A36  2271 0000               1740              MOVE.L  (A1,D0.W),A1
00001A3A                          1741              
00001A3A                          1742              ; PLOT IMAGE
00001A3A  3E19                    1743              MOVE.W  (A1)+,D7        ; ASSUME CLOUDX IS RIGHT NEXT TO CLOUDXW
00001A3C  3428 0002               1744              MOVE.W  2(A0),D2
00001A40  3610                    1745              MOVE.W  (A0),D3
00001A42  4EB9 00001A6E           1746              JSR     IMGPLOT
00001A48                          1747              
00001A48  4CDF 028D               1748              MOVEM.L (A7)+,D0/D2-D3/D7/A1
00001A4C  4E75                    1749              RTS
00001A4E                          1750                
00001A4E= 00001BAA                1751  CLDTBL      DC.L    CLOUD0W
00001A52= 00001CF0                1752              DC.L    CLOUD1W
00001A56= 00001E2E                1753              DC.L    CLOUD2W
00001A5A= 000020B4                1754              DC.L    CLOUD3W
00001A5E= 0000214A                1755              DC.L    CLOUD4W
00001A62= 00002350                1756              DC.L    CLOUD5W
00001A66= 000024CE                1757              DC.L    CLOUD6W
00001A6A= 000025F4                1758              DC.L    CLOUD7W
00001A6E                          1759  
00001A6E                          1760  
00001A6E                          1761  
00001A6E                          1762  -------------------- end include --------------------
00001A6E                          1763              INCLUDE "IMAGE.X68"         ; IMAGE DRAWING ROUTINES
00001A6E                          1764  ; =============================================================================
00001A6E                          1765  ; IMAGE LIBRARY. IT CONTAINS ROUTINES TO DRAW IMAGES. EVERY IMAGE DATA SHOULD 
00001A6E                          1766  ; HAVE N LONG PAIRS, THE FIRST OF THE PAIR MEANS THE COLOR OF A BLOCK IN 
00001A6E                          1767  ; FORMAT $00BBGGRR AND THE SECOND IS THE AMMOUNT OF BLOCKS IN A ROW WITH 
00001A6E                          1768  ; THE SAME COLOR.
00001A6E                          1769  ; EVERY IMAGE DATA IS ENDING WITH THE FLAG $FFFFFFFF
00001A6E                          1770  ; =============================================================================
00001A6E                          1771  
00001A6E                          1772  ; -----------------------------------------------------------------------------
00001A6E                          1773  IMGPLOT
00001A6E                          1774  ; PLOTS AN IMAGE IN THE GIVEN COORDINATES
00001A6E                          1775  ; INPUT:    A1 POINTER TO IMAGE DATA
00001A6E                          1776  ;           D2.W Y START
00001A6E                          1777  ;           D3.W X START
00001A6E                          1778  ;           D7.W IMAGE WIDTH
00001A6E                          1779  ; NOTE : WON'T USE IMAGE HEIGHT TO MANAGE IMAGE END, AS WE ASSUME IMAGE DATA
00001A6E                          1780  ;        IS ENDING WITH THE FLAG $FFFFFFFF
00001A6E                          1781  ; -----------------------------------------------------------------------------
00001A6E                          1782  
00001A6E  48E7 FF40               1783              MOVEM.L A1/D0-D7,-(A7)
00001A72                          1784              
00001A72  33C3 00001ABA           1785              MOVE.W  D3,(.STARTX)  ; STORE STARTING X
00001A78  3A03                    1786              MOVE.W  D3,D5   
00001A7A  DA47                    1787              ADD.W   D7,D5       ; X ENDING COORD
00001A7C                          1788              
00001A7C                          1789              
00001A7C                          1790              ; SET PEN AND FILL COLOR
00001A7C  2219                    1791              MOVE.L  (A1)+,D1
00001A7E  103C 0050               1792  .LOOP1      MOVE.B  #80,D0
00001A82  4E4F                    1793              TRAP    #15
00001A84  5200                    1794              ADDQ.B  #1,D0
00001A86  4E4F                    1795              TRAP    #15
00001A88                          1796              
00001A88                          1797              ; DRAW BLOCK
00001A88  2C19                    1798              MOVE.L  (A1)+,D6
00001A8A  5386                    1799              SUBQ.L  #1,D6            
00001A8C  3203                    1800  .LOOP2      MOVE.W  D3,D1       ; BLOCK START X
00001A8E  5843                    1801              ADDQ.W  #BLOCKSZ,D3 ; BLOCK END X
00001A90  3802                    1802              MOVE.W  D2,D4       
00001A92  5844                    1803              ADDQ.W  #BLOCKSZ,D4 ; BLOCK END Y
00001A94  103C 0057               1804              MOVE.B  #87,D0
00001A98  4E4F                    1805              TRAP    #15
00001A9A                          1806              
00001A9A  BA43                    1807              CMP.W   D3,D5
00001A9C  6C00 000A               1808              BGE     .SAMEROW
00001AA0                          1809              ; MOVE TO NEXT ROW
00001AA0  3639 00001ABA           1810              MOVE.W  (.STARTX),D3
00001AA6  5842                    1811              ADDQ.W  #BLOCKSZ,D2
00001AA8  51CE FFE2               1812  .SAMEROW    DBRA    D6,.LOOP2
00001AAC                          1813              
00001AAC  2219                    1814              MOVE.L  (A1)+,D1
00001AAE  B27C FFFF               1815              CMP.W   #.ENDFLAG,D1
00001AB2  66CA                    1816              BNE     .LOOP1
00001AB4                          1817              
00001AB4                          1818              
00001AB4  4CDF 02FF               1819              MOVEM.L (A7)+,A1/D0-D7
00001AB8  4E75                    1820              RTS
00001ABA                          1821         
00001ABA  =FFFFFFFF               1822  .ENDFLAG    EQU     $FFFFFFFF
00001ABA                          1823  
00001ABA                          1824  .STARTX     DS.W    1
00001ABC                          1825  
00001ABC                          1826  
00001ABC                          1827  
00001ABC                          1828  
00001ABC                          1829  
00001ABC                          1830  
00001ABC                          1831  
00001ABC                          1832  -------------------- end include --------------------
00001ABC                          1833              INCLUDE "BUTTON.X68"        ; BUTTONS MANAGEMENT
00001ABC                          1834  ; =============================================================================
00001ABC                          1835  ; BUTTON MANAGEMENT (AGENT)
00001ABC                          1836  ; BUTTON LEFT POS X (W)         (A0)
00001ABC                          1837  ; BUTTON TOP POS Y (W)          2(A0)
00001ABC                          1838  ; BUTTON RIGHT POS X (W)        4(A0)
00001ABC                          1839  ; BUTTON BOTTOM POS Y (W)       6(A0)
00001ABC                          1840  ; BUTTON POINTER TO TEXT (L)    10(A0)
00001ABC                          1841  ; BUTTON NEXT STATE (W)         14(A0)
00001ABC                          1842  ; BUTTON STATE (BOOL HOVER)     16(A0)
00001ABC                          1843  ; =============================================================================
00001ABC                          1844  
00001ABC                          1845  ; ------------------------------------------------------------------------------
00001ABC                          1846  BUTINIT
00001ABC                          1847  ; INITS A BUTTON
00001ABC                          1848  ; INPUT    : A0 POINTER TO INSTANCE VARIABLES
00001ABC                          1849  ;            A4 POINTER TO ZERO-TERMINATED STRING
00001ABC                          1850  ;            D1.W LEFT POS X
00001ABC                          1851  ;            D2.W TOP POS Y
00001ABC                          1852  ;            D3.W RIGHT POS X
00001ABC                          1853  ;            D4.W BOT POS Y
00001ABC                          1854  ;            D5.W STATE TO CHANGE WHEN PRESSED
00001ABC                          1855  ; OUTPUT   : NONE
00001ABC                          1856  ; MODIFIES : NONE
00001ABC                          1857  ; ------------------------------------------------------------------------------
00001ABC                          1858              
00001ABC  3081                    1859              MOVE.W  D1,(A0)
00001ABE  3142 0002               1860              MOVE.W  D2,2(A0)
00001AC2  3143 0004               1861              MOVE.W  D3,4(A0)
00001AC6  3144 0006               1862              MOVE.W  D4,6(A0)
00001ACA  214C 000A               1863              MOVE.L  A4,10(A0)
00001ACE  3145 000E               1864              MOVE.W  D5,14(A0)
00001AD2  4228 0010               1865              CLR.B   16(A0)
00001AD6                          1866              
00001AD6  4E75                    1867              RTS
00001AD8                          1868  
00001AD8                          1869  ; ------------------------------------------------------------------------------
00001AD8                          1870  BUTUPD
00001AD8                          1871  ; UPDATES BUTTON STATUS
00001AD8                          1872  ; INPUT    : A0 POINTER TO INSTANCE VARIABLES
00001AD8                          1873  ; OUTPUT   : NONE
00001AD8                          1874  ; MODIFIES : NONE
00001AD8                          1875  ; ------------------------------------------------------------------------------
00001AD8                          1876  
00001AD8  48E7 C000               1877              MOVEM.L D0-D1,-(A7)
00001ADC                          1878              
00001ADC                          1879              ; CHECK IF HOVER
00001ADC  2239 000027D2           1880              MOVE.L  (MOUPOS),D1
00001AE2  3001                    1881              MOVE.W  D1,D0           ; X MOUSE POS
00001AE4  C2BC FFFF0000           1882              AND.L   #$FFFF0000,D1
00001AEA  E199                    1883              ROL.L   #8,D1           
00001AEC  E199                    1884              ROL.L   #8,D1           ; Y MOUSE POS
00001AEE  B050                    1885              CMP.W   (A0),D0
00001AF0  6D00 003A               1886              BLT     .NOHOVER
00001AF4  B068 0004               1887              CMP.W   4(A0),D0
00001AF8  6E00 0032               1888              BGT     .NOHOVER
00001AFC  B268 0002               1889              CMP.W   2(A0),D1
00001B00  6D00 002A               1890              BLT     .NOHOVER
00001B04  B268 0006               1891              CMP.W   6(A0),D1
00001B08  6E00 0022               1892              BGT     .NOHOVER
00001B0C                          1893              ; SET STATE TO HOVER
00001B0C  117C 0001 0010          1894              MOVE.B  #1,16(A0)
00001B12                          1895              
00001B12                          1896              ; CHANGE STATE IN CASE MOUSE IS PRESSED
00001B12  1039 000027D6           1897              MOVE.B  MOUVAL,D0
00001B18  C03C 0007               1898              AND.B   #7,D0           ; LEFT, RIGHT OR MID MOUSE BUTTON WORKS
00001B1C  6700 0012               1899              BEQ     .END
00001B20  33E8 000E 000027FA      1900              MOVE.W  14(A0),(STANEXT)
00001B28  6000 0006               1901              BRA     .END
00001B2C                          1902              
00001B2C                          1903              
00001B2C                          1904              ; SET STATE TO NOT HOVER
00001B2C  4228 0010               1905  .NOHOVER    CLR.B   16(A0)
00001B30                          1906  
00001B30  4CDF 0003               1907  .END        MOVEM.L (A7)+,D0-D1
00001B34  4E75                    1908              RTS
00001B36                          1909  
00001B36                          1910  ; ------------------------------------------------------------------------------
00001B36                          1911  BUTPLOT
00001B36                          1912  ; PLOTS THE BUTTON
00001B36                          1913  ; INPUT    : A0 POINTER TO INSTANCE VARIABLES
00001B36                          1914  ; OUTPUT   : NONE
00001B36                          1915  ; MODIFIES : NONE
00001B36                          1916  ; ------------------------------------------------------------------------------
00001B36                          1917              
00001B36  48E7 F8C0               1918              MOVEM.L A0-A1/D0-D4,-(A7)
00001B3A                          1919              
00001B3A                          1920              ; SET COLORS
00001B3A  4281                    1921              CLR.L   D1              ; SET PEN COLOR
00001B3C  103C 0050               1922              MOVE.B  #80,D0
00001B40  4E4F                    1923              TRAP    #15
00001B42  1028 0010               1924              MOVE.B  16(A0),D0       ; SET FILL COLOR
00001B46  6700 000C               1925              BEQ     .NOHOVER
00001B4A  223C 0035DE3B           1926              MOVE.L  #BUTHVCLR,D1
00001B50  6000 0008               1927              BRA     .HOVER
00001B54  223C 0018732C           1928  .NOHOVER    MOVE.L  #BUTCOLOR,D1
00001B5A  103C 0051               1929  .HOVER      MOVE.B  #81,D0
00001B5E  4E4F                    1930              TRAP    #15
00001B60                          1931              ; SET COORDS
00001B60  103C 0057               1932              MOVE.B  #87,D0
00001B64  3210                    1933              MOVE.W  (A0),D1
00001B66  3428 0002               1934              MOVE.W  2(A0),D2
00001B6A  3628 0004               1935              MOVE.W  4(A0),D3
00001B6E  3828 0006               1936              MOVE.W  6(A0),D4
00001B72  4E4F                    1937              TRAP    #15
00001B74                          1938              
00001B74                          1939              ; DRAW BUTTON TEXT
00001B74  4240                    1940              CLR.W   D0              ; COUNT TEXT LENGTH
00001B76  2268 000A               1941              MOVE.L  10(A0),A1
00001B7A  4A19                    1942  .LOOP       TST.B   (A1)+
00001B7C  6700 0006               1943              BEQ     .ENDLOOP
00001B80  5200                    1944              ADDQ.B  #1,D0
00001B82  60F6                    1945              BRA     .LOOP
00001B84  C0FC 000E               1946  .ENDLOOP    MULU    #TXTSIZE,D0     ; TEXT WIDTH IN PIXELS
00001B88  9641                    1947              SUB.W   D1,D3           ; BUTTON WIDTH
00001B8A  9640                    1948              SUB.W   D0,D3           
00001B8C  E24B                    1949              LSR.W   #1,D3           ; LEFT TEXT MARGIN
00001B8E  D243                    1950              ADD.W   D3,D1           ; X TEXT POSITION
00001B90  9842                    1951              SUB.W   D2,D4           ; BUTTON HEIGHT
00001B92  0440 000E               1952              SUB.W   #TXTSIZE,D0     
00001B96  E24C                    1953              LSR.W   #1,D4           ; TOP TEXT MARGIN
00001B98  D444                    1954              ADD.W   D4,D2           ; Y TEXT POSITION
00001B9A  2268 000A               1955              MOVEA.L 10(A0),A1
00001B9E  103C 005F               1956              MOVE.B  #95,D0
00001BA2  4E4F                    1957              TRAP    #15
00001BA4                          1958              
00001BA4                          1959              
00001BA4  4CDF 031F               1960              MOVEM.L (A7)+,A0-A1/D0-D4
00001BA8  4E75                    1961              RTS
00001BAA                          1962  
00001BAA                          1963  
00001BAA                          1964  
00001BAA                          1965  
00001BAA                          1966  
00001BAA                          1967  
00001BAA                          1968  
00001BAA                          1969  
00001BAA                          1970  
00001BAA                          1971  
00001BAA                          1972  
00001BAA                          1973  
00001BAA                          1974  
00001BAA                          1975  
00001BAA                          1976  
00001BAA                          1977  -------------------- end include --------------------
00001BAA                          1978              
00001BAA                          1979  ; --- DATA INCLUDES -----------------------------------------------------------
00001BAA                          1980  
00001BAA                          1981              INCLUDE "DATA/CLOUDSDATA.X68"    ; CLOUD IMAGES DATA
00001BAA                          1982  ; =============================================================================
00001BAA                          1983  ; THIS FILE HAS BEEN GENERATED BY CLOUDSCONVERTER.JAVA FROM CLOUD IMAGES.
00001BAA                          1984  ; TO IMPROVE PERFORMANCE, EACH BLOCK ACTS LIKE A PIXEL, BUT IT'S ACTUALLY A 
00001BAA                          1985  ;4x4 SQUARE. IMAGES ARE ADDAPTED TO IMAGE.X68 DRAWING.
00001BAA                          1986  ; =============================================================================
00001BAA                          1987  
00001BAA                          1988  
00001BAA                          1989  ; -----------------------------------------------------------------------------
00001BAA                          1990  ; EVERY CLOUD DATA STORES:
00001BAA                          1991  ; ONE WORD TO STORE THE CLOUD WIDTH IN BLOCKS.
00001BAA                          1992  ; TWO LONGS PAIRS STORING A COLOR AND THE AMMOUNT OF BLOCKS WITH THE SAME COLOR
00001BAA                          1993  ; IN A ROW.
00001BAA                          1994  ; EVERY IMAGE ENDS WITH A FLAG $FFFFFFFF
00001BAA                          1995  ; -----------------------------------------------------------------------------
00001BAA                          1996  
00001BAA= 0070                    1997  CLOUD0W     DC.W    112
00001BAC                          1998  CLOUD0
00001BAC= 00FFBF80 0000002C       1999              DC.L    $00FFBF80,44
00001BB4= 00FEFDFB 00000008       2000              DC.L    $00FEFDFB,8
00001BBC= 00DCDCDC 00000001       2001              DC.L    $00DCDCDC,1
00001BC4= 00FFBF80 00000012       2002              DC.L    $00FFBF80,18
00001BCC= 00FEFDFB 0000000B       2003              DC.L    $00FEFDFB,11
00001BD4= 00FFBF80 00000010       2004              DC.L    $00FFBF80,16
00001BDC= 00FEFDFB 0000000D       2005              DC.L    $00FEFDFB,13
00001BE4= 00FFBF80 00000007       2006              DC.L    $00FFBF80,7
00001BEC= 00DCDCDC 00000001       2007              DC.L    $00DCDCDC,1
00001BF4= 00FEFDFB 00000005       2008              DC.L    $00FEFDFB,5
00001BFC= 00FFBF80 00000001       2009              DC.L    $00FFBF80,1
00001C04= 00DCDCDC 00000001       2010              DC.L    $00DCDCDC,1
00001C0C= 00FEFDFB 0000000D       2011              DC.L    $00FEFDFB,13
00001C14= 00DCDCDC 00000001       2012              DC.L    $00DCDCDC,1
00001C1C= 00FFBF80 00000005       2013              DC.L    $00FFBF80,5
00001C24= 00FEFDFB 00000016       2014              DC.L    $00FEFDFB,22
00001C2C= 00DCDCDC 00000001       2015              DC.L    $00DCDCDC,1
00001C34= 00FFBF80 00000005       2016              DC.L    $00FFBF80,5
00001C3C= 00FEFDFB 00000002       2017              DC.L    $00FEFDFB,2
00001C44= 00DCDCDC 00000001       2018              DC.L    $00DCDCDC,1
00001C4C= 00FEFDFB 00000013       2019              DC.L    $00FEFDFB,19
00001C54= 00DCDCDC 00000001       2020              DC.L    $00DCDCDC,1
00001C5C= 00FFBF80 00000004       2021              DC.L    $00FFBF80,4
00001C64= 00FEFDFB 00000017       2022              DC.L    $00FEFDFB,23
00001C6C= 00FFBF80 00000002       2023              DC.L    $00FFBF80,2
00001C74= 00DCDCDC 00000001       2024              DC.L    $00DCDCDC,1
00001C7C= 00FEFDFB 00000016       2025              DC.L    $00FEFDFB,22
00001C84= 00DCDCDC 00000001       2026              DC.L    $00DCDCDC,1
00001C8C= 00FEFDFB 00000002       2027              DC.L    $00FEFDFB,2
00001C94= 00FFBF80 00000002       2028              DC.L    $00FFBF80,2
00001C9C= 00DCDCDC 00000001       2029              DC.L    $00DCDCDC,1
00001CA4= 00FEFDFB 00000001       2030              DC.L    $00FEFDFB,1
00001CAC= 00DCDCDC 00000001       2031              DC.L    $00DCDCDC,1
00001CB4= 00FEFDFB 00000008       2032              DC.L    $00FEFDFB,8
00001CBC= 00DCDCDC 00000002       2033              DC.L    $00DCDCDC,2
00001CC4= 00FEFDFB 00000009       2034              DC.L    $00FEFDFB,9
00001CCC= 00DCDCDC 00000004       2035              DC.L    $00DCDCDC,4
00001CD4= 00FFBF80 00000003       2036              DC.L    $00FFBF80,3
00001CDC= 00DCDCDC 00000018       2037              DC.L    $00DCDCDC,24
00001CE4= 00FFBF80 0000001E       2038              DC.L    $00FFBF80,30
00001CEC= FFFFFFFF                2039              DC.L    $FFFFFFFF
00001CF0                          2040  
00001CF0                          2041  
00001CF0= 0060                    2042  CLOUD1W     DC.W    96
00001CF2                          2043  CLOUD1
00001CF2= 00FFBF80 00000020       2044              DC.L    $00FFBF80,32
00001CFA= 00DCDCDC 00000001       2045              DC.L    $00DCDCDC,1
00001D02= 00FEFDFB 00000006       2046              DC.L    $00FEFDFB,6
00001D0A= 00FFBF80 0000000F       2047              DC.L    $00FFBF80,15
00001D12= 00DCDCDC 00000001       2048              DC.L    $00DCDCDC,1
00001D1A= 00FEFDFB 00000009       2049              DC.L    $00FEFDFB,9
00001D22= 00FFBF80 0000000E       2050              DC.L    $00FFBF80,14
00001D2A= 00FEFDFB 00000007       2051              DC.L    $00FEFDFB,7
00001D32= 00DCDCDC 00000002       2052              DC.L    $00DCDCDC,2
00001D3A= 00FEFDFB 00000001       2053              DC.L    $00FEFDFB,1
00001D42= 00DCDCDC 00000001       2054              DC.L    $00DCDCDC,1
00001D4A= 00FFBF80 0000000C       2055              DC.L    $00FFBF80,12
00001D52= 00DCDCDC 00000001       2056              DC.L    $00DCDCDC,1
00001D5A= 00FEFDFB 00000009       2057              DC.L    $00FEFDFB,9
00001D62= 00DCDCDC 00000001       2058              DC.L    $00DCDCDC,1
00001D6A= 00FEFDFB 00000001       2059              DC.L    $00FEFDFB,1
00001D72= 00DCDCDC 00000001       2060              DC.L    $00DCDCDC,1
00001D7A= 00FEFDFB 00000001       2061              DC.L    $00FEFDFB,1
00001D82= 00FFBF80 0000000A       2062              DC.L    $00FFBF80,10
00001D8A= 00DCDCDC 00000001       2063              DC.L    $00DCDCDC,1
00001D92= 00FEFDFB 0000000E       2064              DC.L    $00FEFDFB,14
00001D9A= 00FFBF80 00000006       2065              DC.L    $00FFBF80,6
00001DA2= 00FEFDFB 00000012       2066              DC.L    $00FEFDFB,18
00001DAA= 00DCDCDC 00000001       2067              DC.L    $00DCDCDC,1
00001DB2= 00FFBF80 00000004       2068              DC.L    $00FFBF80,4
00001DBA= 00DCDCDC 00000001       2069              DC.L    $00DCDCDC,1
00001DC2= 00FEFDFB 0000000E       2070              DC.L    $00FEFDFB,14
00001DCA= 00DCDCDC 00000002       2071              DC.L    $00DCDCDC,2
00001DD2= 00FEFDFB 00000004       2072              DC.L    $00FEFDFB,4
00001DDA= 00DCDCDC 00000001       2073              DC.L    $00DCDCDC,1
00001DE2= 00FFBF80 00000002       2074              DC.L    $00FFBF80,2
00001DEA= 00DCDCDC 00000002       2075              DC.L    $00DCDCDC,2
00001DF2= 00FEFDFB 00000001       2076              DC.L    $00FEFDFB,1
00001DFA= 00DCDCDC 00000003       2077              DC.L    $00DCDCDC,3
00001E02= 00FEFDFB 00000008       2078              DC.L    $00FEFDFB,8
00001E0A= 00DCDCDC 00000005       2079              DC.L    $00DCDCDC,5
00001E12= 00FEFDFB 00000001       2080              DC.L    $00FEFDFB,1
00001E1A= 00DCDCDC 00000002       2081              DC.L    $00DCDCDC,2
00001E22= 00FFBF80 00000019       2082              DC.L    $00FFBF80,25
00001E2A= FFFFFFFF                2083              DC.L    $FFFFFFFF
00001E2E                          2084  
00001E2E                          2085  
00001E2E= 00C6                    2086  CLOUD2W     DC.W    198
00001E30                          2087  CLOUD2
00001E30= 00FFBF80 00000014       2088              DC.L    $00FFBF80,20
00001E38= 00DCDCDC 00000004       2089              DC.L    $00DCDCDC,4
00001E40= 00FFBF80 0000002B       2090              DC.L    $00FFBF80,43
00001E48= 00DCDCDC 00000001       2091              DC.L    $00DCDCDC,1
00001E50= 00FEFDFB 00000008       2092              DC.L    $00FEFDFB,8
00001E58= 00FFBF80 00000028       2093              DC.L    $00FFBF80,40
00001E60= 00FEFDFB 0000000B       2094              DC.L    $00FEFDFB,11
00001E68= 00FFBF80 00000026       2095              DC.L    $00FFBF80,38
00001E70= 00FEFDFB 0000000C       2096              DC.L    $00FEFDFB,12
00001E78= 00FFBF80 00000026       2097              DC.L    $00FFBF80,38
00001E80= 00FEFDFB 0000000C       2098              DC.L    $00FEFDFB,12
00001E88= 00FFBF80 00000026       2099              DC.L    $00FFBF80,38
00001E90= 00FEFDFB 0000000C       2100              DC.L    $00FEFDFB,12
00001E98= 00FFBF80 00000021       2101              DC.L    $00FFBF80,33
00001EA0= 00DCDCDC 00000001       2102              DC.L    $00DCDCDC,1
00001EA8= 00FEFDFB 00000003       2103              DC.L    $00FEFDFB,3
00001EB0= 00DCDCDC 00000001       2104              DC.L    $00DCDCDC,1
00001EB8= 00FEFDFB 0000000B       2105              DC.L    $00FEFDFB,11
00001EC0= 00DCDCDC 00000002       2106              DC.L    $00DCDCDC,2
00001EC8= 00FEFDFB 00000003       2107              DC.L    $00FEFDFB,3
00001ED0= 00FFBF80 0000001C       2108              DC.L    $00FFBF80,28
00001ED8= 00DCDCDC 00000001       2109              DC.L    $00DCDCDC,1
00001EE0= 00FEFDFB 00000005       2110              DC.L    $00FEFDFB,5
00001EE8= 00DCDCDC 00000001       2111              DC.L    $00DCDCDC,1
00001EF0= 00FEFDFB 0000000F       2112              DC.L    $00FEFDFB,15
00001EF8= 00DCDCDC 00000001       2113              DC.L    $00DCDCDC,1
00001F00= 00FFBF80 00000001       2114              DC.L    $00FFBF80,1
00001F08= 00FEFDFB 00000001       2115              DC.L    $00FEFDFB,1
00001F10= 00DCDCDC 00000001       2116              DC.L    $00DCDCDC,1
00001F18= 00FFBF80 00000006       2117              DC.L    $00FFBF80,6
00001F20= 00DCDCDC 00000003       2118              DC.L    $00DCDCDC,3
00001F28= 00FFBF80 0000000F       2119              DC.L    $00FFBF80,15
00001F30= 00FEFDFB 0000001C       2120              DC.L    $00FEFDFB,28
00001F38= 00FFBF80 00000003       2121              DC.L    $00FFBF80,3
00001F40= 00FEFDFB 00000004       2122              DC.L    $00FEFDFB,4
00001F48= 00FFBF80 0000000F       2123              DC.L    $00FFBF80,15
00001F50= 00DCDCDC 00000001       2124              DC.L    $00DCDCDC,1
00001F58= 00FEFDFB 0000000C       2125              DC.L    $00FEFDFB,12
00001F60= 00DCDCDC 00000002       2126              DC.L    $00DCDCDC,2
00001F68= 00FEFDFB 0000000D       2127              DC.L    $00FEFDFB,13
00001F70= 00FFBF80 00000002       2128              DC.L    $00FFBF80,2
00001F78= 00DCDCDC 00000001       2129              DC.L    $00DCDCDC,1
00001F80= 00FEFDFB 00000004       2130              DC.L    $00FEFDFB,4
00001F88= 00FFBF80 00000007       2131              DC.L    $00FFBF80,7
00001F90= 00DCDCDC 00000003       2132              DC.L    $00DCDCDC,3
00001F98= 00FFBF80 00000004       2133              DC.L    $00FFBF80,4
00001FA0= 00DCDCDC 00000002       2134              DC.L    $00DCDCDC,2
00001FA8= 00FEFDFB 0000001A       2135              DC.L    $00FEFDFB,26
00001FB0= 00DCDCDC 00000002       2136              DC.L    $00DCDCDC,2
00001FB8= 00FFBF80 00000002       2137              DC.L    $00FFBF80,2
00001FC0= 00FEFDFB 00000004       2138              DC.L    $00FEFDFB,4
00001FC8= 00FFBF80 00000003       2139              DC.L    $00FFBF80,3
00001FD0= 00DCDCDC 00000001       2140              DC.L    $00DCDCDC,1
00001FD8= 00FFBF80 00000003       2141              DC.L    $00FFBF80,3
00001FE0= 00FEFDFB 00000003       2142              DC.L    $00FEFDFB,3
00001FE8= 00DCDCDC 00000001       2143              DC.L    $00DCDCDC,1
00001FF0= 00FFBF80 00000003       2144              DC.L    $00FFBF80,3
00001FF8= 00DCDCDC 00000003       2145              DC.L    $00DCDCDC,3
00002000= 00FEFDFB 00000015       2146              DC.L    $00FEFDFB,21
00002008= 00DCDCDC 00000006       2147              DC.L    $00DCDCDC,6
00002010= 00FFBF80 00000002       2148              DC.L    $00FFBF80,2
00002018= 00FEFDFB 00000004       2149              DC.L    $00FEFDFB,4
00002020= 00FFBF80 00000002       2150              DC.L    $00FFBF80,2
00002028= 00FEFDFB 00000002       2151              DC.L    $00FEFDFB,2
00002030= 00DCDCDC 00000001       2152              DC.L    $00DCDCDC,1
00002038= 00FFBF80 00000001       2153              DC.L    $00FFBF80,1
00002040= 00DCDCDC 00000001       2154              DC.L    $00DCDCDC,1
00002048= 00FEFDFB 00000004       2155              DC.L    $00FEFDFB,4
00002050= 00FFBF80 00000004       2156              DC.L    $00FFBF80,4
00002058= 00DCDCDC 00000008       2157              DC.L    $00DCDCDC,8
00002060= 00FEFDFB 00000008       2158              DC.L    $00FEFDFB,8
00002068= 00DCDCDC 0000000C       2159              DC.L    $00DCDCDC,12
00002070= 00FFBF80 00000003       2160              DC.L    $00FFBF80,3
00002078= 00DCDCDC 00000003       2161              DC.L    $00DCDCDC,3
00002080= 00FFBF80 00000008       2162              DC.L    $00FFBF80,8
00002088= 00DCDCDC 00000001       2163              DC.L    $00DCDCDC,1
00002090= 00FEFDFB 00000002       2164              DC.L    $00FEFDFB,2
00002098= 00FFBF80 00000005       2165              DC.L    $00FFBF80,5
000020A0= 00DCDCDC 0000001B       2166              DC.L    $00DCDCDC,27
000020A8= 00FFBF80 00000040       2167              DC.L    $00FFBF80,64
000020B0= FFFFFFFF                2168              DC.L    $FFFFFFFF
000020B4                          2169  
000020B4                          2170  
000020B4= 0031                    2171  CLOUD3W     DC.W    49
000020B6                          2172  CLOUD3
000020B6= 00FFBF80 00000011       2173              DC.L    $00FFBF80,17
000020BE= 00DCDCDC 00000001       2174              DC.L    $00DCDCDC,1
000020C6= 00FEFDFB 00000003       2175              DC.L    $00FEFDFB,3
000020CE= 00FFBF80 00000009       2176              DC.L    $00FFBF80,9
000020D6= 00FEFDFB 00000004       2177              DC.L    $00FEFDFB,4
000020DE= 00DCDCDC 00000001       2178              DC.L    $00DCDCDC,1
000020E6= 00FFBF80 00000006       2179              DC.L    $00FFBF80,6
000020EE= 00FEFDFB 00000001       2180              DC.L    $00FEFDFB,1
000020F6= 00DCDCDC 00000001       2181              DC.L    $00DCDCDC,1
000020FE= 00FEFDFB 00000006       2182              DC.L    $00FEFDFB,6
00002106= 00DCDCDC 00000001       2183              DC.L    $00DCDCDC,1
0000210E= 00FFBF80 00000003       2184              DC.L    $00FFBF80,3
00002116= 00FEFDFB 0000000A       2185              DC.L    $00FEFDFB,10
0000211E= 00FFBF80 00000003       2186              DC.L    $00FFBF80,3
00002126= 00DCDCDC 00000001       2187              DC.L    $00DCDCDC,1
0000212E= 00FEFDFB 00000008       2188              DC.L    $00FEFDFB,8
00002136= 00DCDCDC 00000001       2189              DC.L    $00DCDCDC,1
0000213E= 00FFBF80 0000001C       2190              DC.L    $00FFBF80,28
00002146= FFFFFFFF                2191              DC.L    $FFFFFFFF
0000214A                          2192  
0000214A                          2193  
0000214A= 00AF                    2194  CLOUD4W     DC.W    175
0000214C                          2195  CLOUD4
0000214C= 00FFBF80 0000003B       2196              DC.L    $00FFBF80,59
00002154= 00DCDCDC 00000001       2197              DC.L    $00DCDCDC,1
0000215C= 00FEFDFB 00000006       2198              DC.L    $00FEFDFB,6
00002164= 00FFBF80 00000024       2199              DC.L    $00FFBF80,36
0000216C= 00FEFDFB 00000009       2200              DC.L    $00FEFDFB,9
00002174= 00DCDCDC 00000001       2201              DC.L    $00DCDCDC,1
0000217C= 00FFBF80 00000021       2202              DC.L    $00FFBF80,33
00002184= 00FEFDFB 0000000C       2203              DC.L    $00FEFDFB,12
0000218C= 00FFBF80 0000001F       2204              DC.L    $00FFBF80,31
00002194= 00DCDCDC 00000001       2205              DC.L    $00DCDCDC,1
0000219C= 00FEFDFB 00000005       2206              DC.L    $00FEFDFB,5
000021A4= 00DCDCDC 00000001       2207              DC.L    $00DCDCDC,1
000021AC= 00FEFDFB 00000006       2208              DC.L    $00FEFDFB,6
000021B4= 00DCDCDC 00000001       2209              DC.L    $00DCDCDC,1
000021BC= 00FFBF80 0000001E       2210              DC.L    $00FFBF80,30
000021C4= 00FEFDFB 0000000E       2211              DC.L    $00FEFDFB,14
000021CC= 00FFBF80 0000001E       2212              DC.L    $00FFBF80,30
000021D4= 00DCDCDC 00000001       2213              DC.L    $00DCDCDC,1
000021DC= 00FEFDFB 0000000D       2214              DC.L    $00FEFDFB,13
000021E4= 00FFBF80 00000019       2215              DC.L    $00FFBF80,25
000021EC= 00FEFDFB 00000004       2216              DC.L    $00FEFDFB,4
000021F4= 00DCDCDC 00000003       2217              DC.L    $00DCDCDC,3
000021FC= 00FEFDFB 0000000B       2218              DC.L    $00FEFDFB,11
00002204= 00DCDCDC 00000001       2219              DC.L    $00DCDCDC,1
0000220C= 00FEFDFB 00000002       2220              DC.L    $00FEFDFB,2
00002214= 00FFBF80 00000016       2221              DC.L    $00FFBF80,22
0000221C= 00FEFDFB 00000017       2222              DC.L    $00FEFDFB,23
00002224= 00FFBF80 0000000A       2223              DC.L    $00FFBF80,10
0000222C= 00DCDCDC 00000002       2224              DC.L    $00DCDCDC,2
00002234= 00FFBF80 00000008       2225              DC.L    $00FFBF80,8
0000223C= 00FEFDFB 00000018       2226              DC.L    $00FEFDFB,24
00002244= 00DCDCDC 00000001       2227              DC.L    $00DCDCDC,1
0000224C= 00FFBF80 00000008       2228              DC.L    $00FFBF80,8
00002254= 00FEFDFB 00000005       2229              DC.L    $00FEFDFB,5
0000225C= 00FFBF80 00000006       2230              DC.L    $00FFBF80,6
00002264= 00FEFDFB 00000010       2231              DC.L    $00FEFDFB,16
0000226C= 00DCDCDC 00000001       2232              DC.L    $00DCDCDC,1
00002274= 00FEFDFB 00000006       2233              DC.L    $00FEFDFB,6
0000227C= 00DCDCDC 00000002       2234              DC.L    $00DCDCDC,2
00002284= 00FFBF80 00000008       2235              DC.L    $00FFBF80,8
0000228C= 00FEFDFB 00000005       2236              DC.L    $00FEFDFB,5
00002294= 00FFBF80 00000003       2237              DC.L    $00FFBF80,3
0000229C= 00DCDCDC 00000005       2238              DC.L    $00DCDCDC,5
000022A4= 00FEFDFB 0000000D       2239              DC.L    $00FEFDFB,13
000022AC= 00DCDCDC 00000001       2240              DC.L    $00DCDCDC,1
000022B4= 00FEFDFB 00000006       2241              DC.L    $00FEFDFB,6
000022BC= 00DCDCDC 00000007       2242              DC.L    $00DCDCDC,7
000022C4= 00FFBF80 00000004       2243              DC.L    $00FFBF80,4
000022CC= 00DCDCDC 00000001       2244              DC.L    $00DCDCDC,1
000022D4= 00FEFDFB 00000003       2245              DC.L    $00FEFDFB,3
000022DC= 00DCDCDC 00000001       2246              DC.L    $00DCDCDC,1
000022E4= 00FFBF80 00000002       2247              DC.L    $00FFBF80,2
000022EC= 00DCDCDC 00000009       2248              DC.L    $00DCDCDC,9
000022F4= 00FEFDFB 0000000A       2249              DC.L    $00FEFDFB,10
000022FC= 00DCDCDC 00000002       2250              DC.L    $00DCDCDC,2
00002304= 00FEFDFB 00000003       2251              DC.L    $00FEFDFB,3
0000230C= 00DCDCDC 0000000A       2252              DC.L    $00DCDCDC,10
00002314= 00FFBF80 00000003       2253              DC.L    $00FFBF80,3
0000231C= 00DCDCDC 00000002       2254              DC.L    $00DCDCDC,2
00002324= 00FEFDFB 00000001       2255              DC.L    $00FEFDFB,1
0000232C= 00DCDCDC 00000002       2256              DC.L    $00DCDCDC,2
00002334= 00FFBF80 00000002       2257              DC.L    $00FFBF80,2
0000233C= 00DCDCDC 00000022       2258              DC.L    $00DCDCDC,34
00002344= 00FFBF80 00000035       2259              DC.L    $00FFBF80,53
0000234C= FFFFFFFF                2260              DC.L    $FFFFFFFF
00002350                          2261  
00002350                          2262  
00002350= 0089                    2263  CLOUD5W     DC.W    137
00002352                          2264  CLOUD5
00002352= 00FFBF80 0000002F       2265              DC.L    $00FFBF80,47
0000235A= 00FEFDFB 00000008       2266              DC.L    $00FEFDFB,8
00002362= 00DCDCDC 00000001       2267              DC.L    $00DCDCDC,1
0000236A= 00FFBF80 00000019       2268              DC.L    $00FFBF80,25
00002372= 00FEFDFB 0000000A       2269              DC.L    $00FEFDFB,10
0000237A= 00DCDCDC 00000001       2270              DC.L    $00DCDCDC,1
00002382= 00FFBF80 00000018       2271              DC.L    $00FFBF80,24
0000238A= 00FEFDFB 0000000B       2272              DC.L    $00FEFDFB,11
00002392= 00FFBF80 00000017       2273              DC.L    $00FFBF80,23
0000239A= 00FEFDFB 00000009       2274              DC.L    $00FEFDFB,9
000023A2= 00DCDCDC 00000001       2275              DC.L    $00DCDCDC,1
000023AA= 00FEFDFB 00000002       2276              DC.L    $00FEFDFB,2
000023B2= 00FFBF80 00000001       2277              DC.L    $00FFBF80,1
000023BA= 00FEFDFB 00000003       2278              DC.L    $00FEFDFB,3
000023C2= 00FFBF80 00000010       2279              DC.L    $00FFBF80,16
000023CA= 00DCDCDC 00000001       2280              DC.L    $00DCDCDC,1
000023D2= 00FEFDFB 0000000E       2281              DC.L    $00FEFDFB,14
000023DA= 00DCDCDC 00000001       2282              DC.L    $00DCDCDC,1
000023E2= 00FEFDFB 00000004       2283              DC.L    $00FEFDFB,4
000023EA= 00DCDCDC 00000001       2284              DC.L    $00DCDCDC,1
000023F2= 00FFBF80 0000000E       2285              DC.L    $00FFBF80,14
000023FA= 00FEFDFB 00000004       2286              DC.L    $00FEFDFB,4
00002402= 00DCDCDC 00000001       2287              DC.L    $00DCDCDC,1
0000240A= 00FEFDFB 00000009       2288              DC.L    $00FEFDFB,9
00002412= 00DCDCDC 00000001       2289              DC.L    $00DCDCDC,1
0000241A= 00FEFDFB 00000006       2290              DC.L    $00FEFDFB,6
00002422= 00FFBF80 0000000D       2291              DC.L    $00FFBF80,13
0000242A= 00FEFDFB 00000016       2292              DC.L    $00FEFDFB,22
00002432= 00DCDCDC 00000001       2293              DC.L    $00DCDCDC,1
0000243A= 00FEFDFB 00000001       2294              DC.L    $00FEFDFB,1
00002442= 00FFBF80 0000000B       2295              DC.L    $00FFBF80,11
0000244A= 00DCDCDC 00000001       2296              DC.L    $00DCDCDC,1
00002452= 00FEFDFB 00000002       2297              DC.L    $00FEFDFB,2
0000245A= 00DCDCDC 00000001       2298              DC.L    $00DCDCDC,1
00002462= 00FEFDFB 00000015       2299              DC.L    $00FEFDFB,21
0000246A= 00DCDCDC 00000001       2300              DC.L    $00DCDCDC,1
00002472= 00FFBF80 00000006       2301              DC.L    $00FFBF80,6
0000247A= 00DCDCDC 00000001       2302              DC.L    $00DCDCDC,1
00002482= 00FEFDFB 00000004       2303              DC.L    $00FEFDFB,4
0000248A= 00DCDCDC 00000003       2304              DC.L    $00DCDCDC,3
00002492= 00FEFDFB 0000000F       2305              DC.L    $00FEFDFB,15
0000249A= 00DCDCDC 00000001       2306              DC.L    $00DCDCDC,1
000024A2= 00FEFDFB 00000004       2307              DC.L    $00FEFDFB,4
000024AA= 00DCDCDC 00000001       2308              DC.L    $00DCDCDC,1
000024B2= 00FFBF80 00000004       2309              DC.L    $00FFBF80,4
000024BA= 00DCDCDC 00000020       2310              DC.L    $00DCDCDC,32
000024C2= 00FFBF80 00000025       2311              DC.L    $00FFBF80,37
000024CA= FFFFFFFF                2312              DC.L    $FFFFFFFF
000024CE                          2313  
000024CE                          2314  
000024CE= 005D                    2315  CLOUD6W     DC.W    93
000024D0                          2316  CLOUD6
000024D0= 00FFBF80 0000001E       2317              DC.L    $00FFBF80,30
000024D8= 00DCDCDC 00000001       2318              DC.L    $00DCDCDC,1
000024E0= 00FEFDFB 00000004       2319              DC.L    $00FEFDFB,4
000024E8= 00DCDCDC 00000001       2320              DC.L    $00DCDCDC,1
000024F0= 00FFBF80 00000011       2321              DC.L    $00FFBF80,17
000024F8= 00FEFDFB 00000007       2322              DC.L    $00FEFDFB,7
00002500= 00DCDCDC 00000001       2323              DC.L    $00DCDCDC,1
00002508= 00FFBF80 00000002       2324              DC.L    $00FFBF80,2
00002510= 00DCDCDC 00000002       2325              DC.L    $00DCDCDC,2
00002518= 00FFBF80 0000000C       2326              DC.L    $00FFBF80,12
00002520= 00FEFDFB 00000007       2327              DC.L    $00FEFDFB,7
00002528= 00DCDCDC 00000002       2328              DC.L    $00DCDCDC,2
00002530= 00FEFDFB 00000005       2329              DC.L    $00FEFDFB,5
00002538= 00FFBF80 00000009       2330              DC.L    $00FFBF80,9
00002540= 00FEFDFB 00000007       2331              DC.L    $00FEFDFB,7
00002548= 00DCDCDC 00000001       2332              DC.L    $00DCDCDC,1
00002550= 00FEFDFB 00000007       2333              DC.L    $00FEFDFB,7
00002558= 00FFBF80 00000009       2334              DC.L    $00FFBF80,9
00002560= 00FEFDFB 00000009       2335              DC.L    $00FEFDFB,9
00002568= 00DCDCDC 00000001       2336              DC.L    $00DCDCDC,1
00002570= 00FEFDFB 00000005       2337              DC.L    $00FEFDFB,5
00002578= 00FFBF80 00000008       2338              DC.L    $00FFBF80,8
00002580= 00FEFDFB 00000010       2339              DC.L    $00FEFDFB,16
00002588= 00FFBF80 00000007       2340              DC.L    $00FFBF80,7
00002590= 00DCDCDC 00000001       2341              DC.L    $00DCDCDC,1
00002598= 00FEFDFB 00000010       2342              DC.L    $00FEFDFB,16
000025A0= 00DCDCDC 00000003       2343              DC.L    $00DCDCDC,3
000025A8= 00FFBF80 00000003       2344              DC.L    $00FFBF80,3
000025B0= 00DCDCDC 00000004       2345              DC.L    $00DCDCDC,4
000025B8= 00FEFDFB 0000000B       2346              DC.L    $00FEFDFB,11
000025C0= 00DCDCDC 00000006       2347              DC.L    $00DCDCDC,6
000025C8= 00FFBF80 00000003       2348              DC.L    $00FFBF80,3
000025D0= 00DCDCDC 00000007       2349              DC.L    $00DCDCDC,7
000025D8= 00FEFDFB 00000006       2350              DC.L    $00FEFDFB,6
000025E0= 00DCDCDC 00000007       2351              DC.L    $00DCDCDC,7
000025E8= 00FFBF80 0000001B       2352              DC.L    $00FFBF80,27
000025F0= FFFFFFFF                2353              DC.L    $FFFFFFFF
000025F4                          2354  
000025F4                          2355  
000025F4= 0077                    2356  CLOUD7W     DC.W    119
000025F6                          2357  CLOUD7
000025F6= 00FFBF80 00000028       2358              DC.L    $00FFBF80,40
000025FE= 00DCDCDC 00000002       2359              DC.L    $00DCDCDC,2
00002606= 00FEFDFB 00000004       2360              DC.L    $00FEFDFB,4
0000260E= 00DCDCDC 00000001       2361              DC.L    $00DCDCDC,1
00002616= 00FFBF80 00000016       2362              DC.L    $00FFBF80,22
0000261E= 00FEFDFB 00000006       2363              DC.L    $00FEFDFB,6
00002626= 00DCDCDC 00000001       2364              DC.L    $00DCDCDC,1
0000262E= 00FEFDFB 00000002       2365              DC.L    $00FEFDFB,2
00002636= 00FFBF80 00000003       2366              DC.L    $00FFBF80,3
0000263E= 00FEFDFB 00000004       2367              DC.L    $00FEFDFB,4
00002646= 00FFBF80 0000000A       2368              DC.L    $00FFBF80,10
0000264E= 00FEFDFB 00000002       2369              DC.L    $00FEFDFB,2
00002656= 00FFBF80 00000002       2370              DC.L    $00FFBF80,2
0000265E= 00FEFDFB 00000009       2371              DC.L    $00FEFDFB,9
00002666= 00DCDCDC 00000002       2372              DC.L    $00DCDCDC,2
0000266E= 00FEFDFB 00000006       2373              DC.L    $00FEFDFB,6
00002676= 00DCDCDC 00000001       2374              DC.L    $00DCDCDC,1
0000267E= 00FFBF80 00000007       2375              DC.L    $00FFBF80,7
00002686= 00FEFDFB 00000004       2376              DC.L    $00FEFDFB,4
0000268E= 00DCDCDC 00000001       2377              DC.L    $00DCDCDC,1
00002696= 00FEFDFB 00000012       2378              DC.L    $00FEFDFB,18
0000269E= 00FFBF80 00000006       2379              DC.L    $00FFBF80,6
000026A6= 00DCDCDC 00000001       2380              DC.L    $00DCDCDC,1
000026AE= 00FEFDFB 00000004       2381              DC.L    $00FEFDFB,4
000026B6= 00DCDCDC 00000001       2382              DC.L    $00DCDCDC,1
000026BE= 00FEFDFB 00000008       2383              DC.L    $00FEFDFB,8
000026C6= 00DCDCDC 00000002       2384              DC.L    $00DCDCDC,2
000026CE= 00FEFDFB 00000008       2385              DC.L    $00FEFDFB,8
000026D6= 00FFBF80 00000006       2386              DC.L    $00FFBF80,6
000026DE= 00FEFDFB 00000011       2387              DC.L    $00FEFDFB,17
000026E6= 00DCDCDC 00000001       2388              DC.L    $00DCDCDC,1
000026EE= 00FEFDFB 00000006       2389              DC.L    $00FEFDFB,6
000026F6= 00DCDCDC 00000001       2390              DC.L    $00DCDCDC,1
000026FE= 00FFBF80 00000004       2391              DC.L    $00FFBF80,4
00002706= 00DCDCDC 00000001       2392              DC.L    $00DCDCDC,1
0000270E= 00FEFDFB 00000011       2393              DC.L    $00FEFDFB,17
00002716= 00DCDCDC 00000001       2394              DC.L    $00DCDCDC,1
0000271E= 00FEFDFB 00000005       2395              DC.L    $00FEFDFB,5
00002726= 00DCDCDC 00000002       2396              DC.L    $00DCDCDC,2
0000272E= 00FFBF80 00000003       2397              DC.L    $00FFBF80,3
00002736= 00DCDCDC 00000004       2398              DC.L    $00DCDCDC,4
0000273E= 00FEFDFB 0000000C       2399              DC.L    $00FEFDFB,12
00002746= 00DCDCDC 00000004       2400              DC.L    $00DCDCDC,4
0000274E= 00FEFDFB 00000004       2401              DC.L    $00FEFDFB,4
00002756= 00DCDCDC 00000004       2402              DC.L    $00DCDCDC,4
0000275E= 00FFBF80 00000002       2403              DC.L    $00FFBF80,2
00002766= 00DCDCDC 00000007       2404              DC.L    $00DCDCDC,7
0000276E= 00FEFDFB 00000006       2405              DC.L    $00FEFDFB,6
00002776= 00DCDCDC 0000000F       2406              DC.L    $00DCDCDC,15
0000277E= 00FFBF80 00000003       2407              DC.L    $00FFBF80,3
00002786= 00DCDCDC 00000019       2408              DC.L    $00DCDCDC,25
0000278E= 00FFBF80 00000021       2409              DC.L    $00FFBF80,33
00002796= FFFFFFFF                2410              DC.L    $FFFFFFFF
0000279A                          2411  
0000279A                          2412  
0000279A                          2413  -------------------- end include --------------------
0000279A                          2414              
0000279A                          2415  
0000279A                          2416  START
0000279A                          2417  
0000279A                          2418  ; --- INITIALIZATION ----------------------------------------------------------
0000279A                          2419  
0000279A  007C 0700               2420              ORI.W   #$0700,SR
0000279E  4EB8 12AC               2421              JSR     SYSINIT
000027A2  4EB8 1146               2422              JSR     UTLINIT
000027A6  4EB8 1468               2423              JSR     STAINIT
000027AA                          2424              
000027AA                          2425  .LOOP
000027AA                          2426  
000027AA                          2427  ; --- UPDATE ------------------------------------------------------------------
000027AA                          2428  
000027AA                          2429              ; READ INPUT DEVICES
000027AA                          2430  
000027AA  4E41                    2431              TRAP    #KBDUPDTN
000027AC  4E42                    2432              TRAP    #MOUUPDTN
000027AE                          2433  
000027AE  4EB8 1478               2434              JSR     STAUPD
000027B2                          2435              
000027B2                          2436  ; --- SYNC --------------------------------------------------------------------
000027B2                          2437  
000027B2  4A39 000027D8           2438  .WINT       TST.B   (SCRINTCT)
000027B8  67F8                    2439              BEQ     .WINT
000027BA  4239 000027D8           2440              CLR.B   (SCRINTCT)
000027C0                          2441              
000027C0                          2442  ; --- PLOT --------------------------------------------------------------------
000027C0                          2443  
000027C0  4EB8 1844               2444              JSR     BACKPLOT
000027C4  4EB8 14DE               2445              JSR     STAPLOT
000027C8                          2446              
000027C8  4E40                    2447              TRAP    #SCRUPDTN
000027CA                          2448              
000027CA  60DE                    2449              BRA     .LOOP
000027CC                          2450              
000027CC  FFFF FFFF               2451              SIMHALT
000027D0                          2452              
000027D0                          2453  ; --- VARIABLES ---------------------------------------------------------------
000027D0                          2454              
000027D0                          2455              INCLUDE "SYSVARS.X68"       ; SYSTEM VARIABLES
000027D0                          2456  ; =============================================================================
000027D0                          2457  ; SYSTEM VARIABLES
000027D0                          2458  ; =============================================================================
000027D0                          2459  
000027D0                          2460  ; --- KEYBOARD RELATED VARIABLES ----------------------------------------------
000027D0                          2461  
000027D0                          2462  KBDVAL      DS.B    1                       ; KEY STATE
000027D1                          2463  KBDEDGE     DS.B    1                       ; KEY EDGE
000027D2                          2464  
000027D2                          2465  ; --- MOUSE RELATED VARIABLES -------------------------------------------------
000027D2                          2466  
000027D2                          2467  MOUPOS      DS.L    1                       ; MOUSE POSITION (16 BITS Y, 16 BITS X)
000027D6                          2468  MOUVAL      DS.B    1                       ; MOUSE VALUE (0,CTRL,ALT,SHIFT,DOUBLE,MID,RIGHT,LEFT)
000027D8                          2469              DS.W    0
000027D8                          2470  
000027D8                          2471  ; --- TIMED INTERRUPT RELATED VARIABLES ---------------------------------------
000027D8                          2472  
000027D8                          2473  SCRINTCT    DS.B    1                       ; INTERRUPT COUNTER
000027D9                          2474  SCRCYCCT    DS.B    1                       ; SCREEN CYCLE COUNTER
000027DA= 00                      2475  GAMCYCCT    DC.B    0                       ; GAME CYCLE COUNTER
000027DC                          2476              DS.W    0
000027DC                          2477              
000027DC                          2478  ; --- FILE PATHS --------------------------------------------------------------
000027DC                          2479  
000027DC= 44 41 54 41 2F 53 ...   2480  SCOPATH     DC.B     'DATA/SCORES.dat',0
000027EC                          2481              DS.W     0
000027EC                          2482  
000027EC                          2483  
000027EC                          2484  
000027EC                          2485  
000027EC                          2486  
000027EC                          2487  
000027EC                          2488  -------------------- end include --------------------
000027EC                          2489              INCLUDE "VARS.X68"          ; GAME VARIABLES
000027EC                          2490  ; =============================================================================
000027EC                          2491  ; GAME VARIABLES
000027EC                          2492  ; =============================================================================
000027EC                          2493  
000027EC                          2494  ; --- BIRD RELATED VARIABLES --------------------------------------------------
000027EC                          2495  
000027EC= 00F0                    2496  BIRDPOSY    DC.W    SCRHEIGH/2         ; BIRD POSITION Y
000027EE= 0000                    2497  BIRDVELY    DC.W    0                   ; BIRD SPEED Y
000027F0= BBBB                    2498  BIRDPCOL    DC.W    DKYELLOW            ; BIRD PEN COLOR
000027F2= FFFF                    2499  BIRDFCOL    DC.W    LGYELLOW            ; BIRD FILL COLOR
000027F4                          2500  
000027F4                          2501  ; --- SCOREBOARD RELATED VARIABLES --------------------------------------------
000027F4                          2502  
000027F4                          2503  SCORE       DS.W    1                   ; ACTUAL GAME SCORE
000027F6                          2504  HIGHSCO     DS.W    1                   ; HIGH SCORE
000027F8                          2505  
000027F8                          2506  ;  --- STATE RELATED VARIABLES ------------------------------------------------
000027F8                          2507  
000027F8                          2508  STACUR      DS.W    1                   ; CURRENT STATE
000027FA                          2509  STANEXT     DS.W    1                   ; NEXT STATE
000027FC                          2510  
000027FC                          2511  
000027FC                          2512  
000027FC                          2513  
000027FC                          2514  
000027FC                          2515  
000027FC                          2516  
000027FC                          2517  -------------------- end include --------------------
000027FC                          2518              INCLUDE "LIB/UTLVARS.X68"   ; UTIL CODE VARIABLES
000027FC                          2519  ; =============================================================================
000027FC                          2520  ; UTILITY VARIABLES
000027FC                          2521  ; =============================================================================
000027FC                          2522  
000027FC                          2523  UTLRNDIX    DS.B    1                       ; NEXT INDEX TO RANDOM NUMBER
000027FE                          2524              DS.W    0
000027FE                          2525  -------------------- end include --------------------
000027FE                          2526              INCLUDE "LIB/DMMVARS.X68"   ; DYNAMIC MEMORY VARIABLES
000027FE                          2527  ; =============================================================================
000027FE                          2528  ; DYNAMIC MEMORY MANAGEMENT VARIABLES (SYSTEM VARIABLES)
000027FE                          2529  ; =============================================================================
000027FE                          2530  
00002800                          2531              ORG     (*+DMMBSIZE-1)&-DMMBSIZE ; ALIGN TO DMMBSIZE
00002800                          2532  DMMDATA     DS.B    DMMBSIZE*DMMBNUM        ; DYNAMIC MEMORY ALLOCATION SPACE
00003480                          2533              DS.W    0                       ; JUST IN CASE (SIZE IS POW OF TWO)
00003480                          2534  -------------------- end include --------------------
00003480                          2535  
00003480                          2536              END    START

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
AGLADD              10C2
AGLADD:END          10D8
AGLCLEAN            1126
AGLCLEAN:END        1140
AGLCLEAN:LOOP       112A
AGLKILL             10AC
AGLPLOT             1100
AGLPLOT:END         1120
AGLPLOT:LOOP        1108
AGLUPD              10DC
AGLUPD:END          10FA
AGLUPD:LOOP         10E4
BACKPLOT            1844
BACKUPD             1812
BACKUPD:NONEWCL     183E
BIRDFCOL            27F2
BIRDINIT            1668
BIRDPCOL            27F0
BIRDPLOT            16CA
BIRDPOSX            A0
BIRDPOSY            27EC
BIRDRAD             F
BIRDUPD             1678
BIRDUPD:COLBOT      16B6
BIRDUPD:CORDUPD     16A2
BIRDUPD:DONE        16C4
BIRDUPD:NOCOL       16BE
BIRDUPD:NOJUMP      169C
BIRDVELY            27EE
BLOCKSZ             4
BUTAGTP             3
BUTCOLOR            18732C
BUTHVCLR            35DE3B
BUTINIT             1ABC
BUTPLOT             1B36
BUTPLOT:ENDLOOP     1B84
BUTPLOT:HOVER       1B5A
BUTPLOT:LOOP        1B7A
BUTPLOT:NOHOVER     1B54
BUTUPD              1AD8
BUTUPD:END          1B30
BUTUPD:NOHOVER      1B2C
CLDINIT             19D4
CLDPLOT             1A26
CLDSPMSK            FFFFFFFC
CLDTBL              1A4E
CLDUPD              19F8
CLDUPD:NOKILL       1A20
CLOUD0              1BAC
CLOUD0W             1BAA
CLOUD1              1CF2
CLOUD1W             1CF0
CLOUD2              1E30
CLOUD2W             1E2E
CLOUD3              20B6
CLOUD3W             20B4
CLOUD4              214C
CLOUD4W             214A
CLOUD5              2352
CLOUD5W             2350
CLOUD6              24D0
CLOUD6W             24CE
CLOUD7              25F6
CLOUD7W             25F4
CLOUDAGT            1
DARKGRAY            C0C0C
DIRTCLR             306284
DIRTHEIG            2D
DKYELLOW            BBBB
DMMALLOC            1092
DMMALLOC:END        10AA
DMMBNUM             32
DMMBSIZE            40
DMMDATA             2800
DMMFCOM             106C
DMMFFND             107A
DMMFIRST            1022
DMMFLOOP            1060
DMMFRCOM            1034
DMMFREE             10AC
DMMFRFND            1042
DMMFRLOP            1028
DMMFRSTO            105A
DMMINIT             1000
DMMINIT:LOOP        100E
DMMNEXT             1044
DMMNEXTO            107C
DMMSYSID            0
FLOHEIGH            3C
FLOPLOT             187C
GAMCYCCT            27DA
GAMEINIT            1554
GAMEPLOT            15CE
GAMEUPD             1560
GAMEUPD:NOPAUSE     1588
GOVINIT             163C
GOVPLOT             1662
GOVUPD              1640
GOVUPD:CONT         165E
GRASSCLR            35DE3B
HIGHSCO             27F6
HSCOLINE            1018
IMGPLOT             1A6E
IMGPLOT:ENDFLAG     FFFFFFFF
IMGPLOT:LOOP1       1A7E
IMGPLOT:LOOP2       1A8C
IMGPLOT:SAMEROW     1AA8
IMGPLOT:STARTX      1ABA
INSINIT             154E
INSPLOT             1552
INSUPD              1550
ISCINIT             1510
ISCPLOT             1548
ISCUPD              1526
ISCUPD:CONT         1546
JUMPVELY            FFFFFFF6
KBDEDGE             27D1
KBDINIT             13EE
KBDPAUSE            1B
KBDSPACE            20
KBDUPD              13FC
KBDUPD:LOOP         1432
KBDUPD:PACK         142E
KBDUPDTN            1
KBDVAL              27D0
LGBROWN             306284
LGGREEN             35DE3B
LGYELLOW            FFFF
MASKNWCL            7F
MASKNWPP            3F
MOUINIT             143C
MOUPOS              27D2
MOUUPD              144A
MOUUPDTN            2
MOUVAL              27D6
NEWPIPE             159C
NEWPIPE:GOUPD       15C8
NORMGRAY            616161
NRMGREEN            18732C
PAUSINIT            15DC
PAUSINIT:TXTTMP     1612
PAUSPLOT            163A
PAUSUPD             161A
PAUSUPD:CONT        1632
PIPEAGTP            2
PIPEFCOL            616161
PIPEGAPS            78
PIPEINIT            170C
PIPEPCOL            C0C0C
PIPEPLOT            17B2
PIPEUPD             1724
PIPEUPD:COL         1784
PIPEUPD:END         17AC
PIPEUPD:NOCOL       179E
PIPEUPD:NOKILL      174C
PIPEVELX            FFFFFFFB
PIPEWIDT            32
PPOPHEIG            F
PPOPOVER            5
SCOFCOL             306284
SCOINC              190A
SCOINIT             18D4
SCOLINE             1017
SCOPATH             27DC
SCOPLOT             1928
SCOPLOT:HISCOTXT    1982
SCOPLOT:SCOTXT      197A
SCORE               27F4
SCOSAVE             198E
SCOSAVE:END         19CE
SCRCYCCT            27D9
SCRFPS              3C
SCRHEIGH            1E0
SCRINIT             1382
SCRINTCT            27D8
SCRINTN             1
SCRPLOT             13C6
SCRTIM              13E0
SCRUPDTN            0
SCRWIDTH            280
SKYBLUE             FFBF80
SKYCOLOR            FFBF80
SKYPLOT             184E
SNDDIE              0
SNDINIT             1316
SNDINIT:DONE        1334
SNDINIT:LOOP        1322
SNDINIT:SNDDIE      133A
SNDINIT:SNDJUMP     1346
SNDINIT:SNDLIST     1360
SNDINIT:SNDSCO      1353
SNDJUMP             1
SNDPLAY             1370
SNDPLTN             3
SNDSCO              2
STACUR              27F8
STAEMPTY            150E
STAGAME             2
STAGOVER            4
STAINIT             1468
STAINSTR            1
STAINTRO            0
STANEXT             27FA
STANONE             FFFFFFFF
STAPAUSE            3
STAPLOT             14DE
STAPLOT:PLTTBL      14FA
START               279A
START:LOOP          27AA
START:WINT          27B2
STAUPD              1478
STAUPD:DOUPD        149E
STAUPD:INITBL       14B6
STAUPD:UPDTBL       14CA
SYSINIT             12AC
TXTCOLOR            0
TXTFONT             4
TXTINIT             12FE
TXTSIZE             E
TXTSTYLE            1
UTLCHRWD            8
UTLINIT             1146
UTLPRINT            115C
UTLPRINT:ENDLOOP    116E
UTLPRINT:LOOP       1164
UTLRAND             118E
UTLRAND:RANDVEC     11AC
UTLRNDIX            27FC
WHITE               FEFDFB
