00002686 Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 30/12/2023 1:36:28

00000000                             1  ; =============================================================================
00000000                             2  ; TITLE       :
00000000                             3  ; DESCRIPTION :
00000000                             4  ; AUTHOR      :
00000000                             5  ; HISTORY     :
00000000                             6  ; =============================================================================
00000000                             7  
00001000                             8              ORG     $1000
00001000                             9              
00001000                            10  ; --- CODE INCLUDES -----------------------------------------------------------
00001000                            11  
00001000                            12              INCLUDE "SYSCONST.X68"      ; SYSTEM CONSTANTS
00001000                            13  ; =============================================================================
00001000                            14  ; SYSTEM CONSTANTS
00001000                            15  ; =============================================================================
00001000                            16  
00001000                            17  ; --- SCREEN RELATED CONSTANTS ------------------------------------------------
00001000                            18  
00001000  =0000003C                 19  SCRFPS      EQU     60                  ; SCREEN FRAMES PER SECOND
00001000  =00000280                 20  SCRWIDTH    EQU     640                 ; SCREEN WIDTH
00001000  =000001E0                 21  SCRHEIGH    EQU     480                 ; SCREEN HEIGHT
00001000                            22  
00001000                            23  ; --- TEXT OUTPUT RELATED CONSTANTS -------------------------------------------
00001000                            24  
00001000  =00000000                 25  TXTCOLOR    EQU     $0                  ; TEXT OUTPUT COLOR
00001000  =00000001                 26  TXTSTYLE    EQU     %0001               ; TEXT STYLE (STRIKEOUT,UNDERLINE,ITALIC,BOLD)
00001000  =0000000E                 27  TXTSIZE     EQU     14                  ; TEXT SIZE
00001000  =00000004                 28  TXTFONT     EQU     4                   ; TEXT FONT (CURRENT 'LUCIDA CONSOLE')
00001000                            29  
00001000                            30  ; --- KEYCODES ----------------------------------------------------------------
00001000                            31  
00001000  =00000020                 32  KBDSPACE    EQU     ' '
00001000  =0000001B                 33  KBDPAUSE    EQU     27
00001000                            34  
00001000                            35  ; --- SOUND IDENTIFIERS -------------------------------------------------------
00001000                            36  
00001000  =00000000                 37  SNDDIE      EQU     0
00001000  =00000001                 38  SNDJUMP     EQU     1
00001000  =00000002                 39  SNDSCO      EQU     2
00001000                            40  
00001000                            41  ; --- TRAP NUMBERS ------------------------------------------------------------
00001000                            42  
00001000  =00000000                 43  SCRUPDTN    EQU     0                   ; SCREEN UPDATE TRAP NUMBER
00001000  =00000001                 44  KBDUPDTN    EQU     1                   ; KEYBOARD UPDATE TRAP NUMBER
00001000  =00000002                 45  MOUUPDTN    EQU     2                   ; MOUSE UPDATE TRAP NUMBER
00001000  =00000003                 46  SNDPLTN     EQU     3                   ; SOUND PLAY TRAP NUMBER
00001000                            47  
00001000                            48  ; --- INTERRUPTION NUMBERS ----------------------------------------------------
00001000                            49  
00001000  =00000001                 50  SCRINTN     EQU     1                   ; SCREEN INTERRUPT TRAP NUMBER    
00001000                            51  
00001000                            52  
00001000                            53  
00001000                            54  
00001000                            55  
00001000                            56  
00001000                            57  
00001000                            58  
00001000                            59  
00001000                            60  
00001000                            61  
00001000                            62  
00001000                            63  -------------------- end include --------------------
00001000                            64              INCLUDE "CONST.X68"         ; GAME CONSTANTS
00001000                            65  ; =============================================================================
00001000                            66  ; GAME CONSTANTS
00001000                            67  ; =============================================================================
00001000                            68  
00001000                            69  ; --- COLORS CONSTANTS 00BBGGRR -----------------------------------------------
00001000                            70  
00001000  =0000BBBB                 71  DKYELLOW    EQU     $0000BBBB           ; DARK YELLOW COLOR
00001000  =0000FFFF                 72  LGYELLOW    EQU     $0000FFFF           ; LIGHT YELLOW COLOR
00001000  =000C0C0C                 73  DARKGRAY    EQU     $000C0C0C           ; DARK GRAY COLOR
00001000  =00616161                 74  NORMGRAY    EQU     $00616161           ; NORMAL (NOT DARK OR LIGHT) GRAY COLOR 
00001000  =00FFBF80                 75  SKYBLUE     EQU     $00FFBF80           ; SKY BLUE COLOR
00001000  =0035DE3B                 76  LGGREEN     EQU     $0035DE3B           ; LIGHT GREEN COLOR
00001000  =00306284                 77  LGBROWN     EQU     $00306284           ; LIGHT BROWN COLOR
00001000  =00FEFDFB                 78  WHITE       EQU     $00FEFDFB           ; WHITE COLOR
00001000                            79  
00001000                            80  ; --- BIRD RELATED CONSTANTS --------------------------------------------------
00001000                            81  
00001000  =FFFFFFF6                 82  JUMPVELY    EQU     -10
00001000  =000000A0                 83  BIRDPOSX    EQU     SCRWIDTH/4
00001000  =0000000F                 84  BIRDRAD     EQU     15                  ; BIRD RADIUS
00001000                            85  
00001000                            86  ; --- PIPE RELATED CONSTANTS --------------------------------------------------
00001000                            87  
00001000  =000C0C0C                 88  PIPEPCOL    EQU     DARKGRAY           ; PIPE PEN COLOR
00001000  =00616161                 89  PIPEFCOL    EQU     NORMGRAY           ; PIPE FILL COLOR
00001000  =FFFFFFFB                 90  PIPEVELX    EQU     -5                  ; PIPE X SPEED
00001000  =00000032                 91  PIPEWIDT    EQU     50                  ; PIPE WIDTH
00001000  =00000078                 92  PIPEGAPS    EQU     120                 ; PIPE GAP SIZE
00001000  =00000001                 93  PIPEAGTP    EQU     1                   ; PIPE AGENT TYPE CODE
00001000  =0000003F                 94  MASKNWPP    EQU     %00111111           ; NEW PIPE MASK 
00001000  =00000005                 95  PPOPOVER    EQU     5                   ; PIPE OPENING OVERFLOW
00001000  =0000000F                 96  PPOPHEIG    EQU     15                  ; PIPE OPENING HEIGHT
00001000                            97  
00001000                            98  ; --- BACKGROUND RELATED CONSTANTS --------------------------------------------
00001000                            99  
00001000  =00FFBF80                100  SKYCOLOR    EQU     SKYBLUE            ; SKY BACKGROUND COLOR
00001000  =0035DE3B                101  GRASSCLR    EQU     LGGREEN            ; GRASS COLOR
00001000  =00306284                102  DIRTCLR     EQU     LGBROWN            ; DIRT COLOR
00001000  =0000003C                103  FLOHEIGH    EQU     60                 ; FLOOR HEIGHT
00001000  =0000002D                104  DIRTHEIG    EQU     45                 ; DIRT PART HEIGHT
00001000                           105  
00001000                           106  ; --- CLOUD (BACKGROUND) RELATED CONSTANTS ------------------------------------
00001000                           107  
00001000  =FFFFFFFC                108  CLDSPMSK    EQU     $FFFFFFFC
00001000  =0000007F                109  MASKNWCL    EQU     %01111111
00001000  =00000004                110  CLOUDAGT    EQU     4
00001000                           111  
00001000                           112  ; --- SCOREBOARD RELATED CONSTANTS --------------------------------------------
00001000                           113  
00001000  =00306284                114  SCOFCOL     EQU     DIRTCLR            ; TEXT BACKGROUND COLOR
00001000  =00001017                115  SCOLINE     EQU     $1017             ; SCORE TEXT COORDINATE 
00001000  =00001018                116  HSCOLINE    EQU     $1018              ; HIGHSCORE TEXT COORDINATE
00001000                           117  
00001000                           118  ; --- STATE RELATED CONSTANTS -------------------------------------------------
00001000                           119  
00001000  =FFFFFFFF                120  STANONE     EQU     -1                 ; NON-EXISTENT STATE NUMBER
00001000  =00000000                121  STAINTRO    EQU     0                  ; INTRO SCREEN STATE NUMBER
00001000  =00000001                122  STAINSTR    EQU     1                  ; INSTRUCTION STATE NUMBER
00001000  =00000002                123  STAGAME     EQU     2                  ; GAME SCREEN STATE NUMBER
00001000  =00000003                124  STAPAUSE    EQU     3                  ; PAUSE SCREEN STATE NUMBER
00001000  =00000004                125  STAGOVER    EQU     4                  ; GAME OVER SCREEN STATE NUMBER
00001000                           126  
00001000                           127  ; --- IMAGE DRAWING CONSTANTS -------------------------------------------------
00001000                           128  
00001000  =00000004                129  BLOCKSZ     EQU     4
00001000                           130  
00001000                           131  
00001000                           132  
00001000                           133  
00001000                           134  
00001000                           135  
00001000                           136  
00001000                           137  
00001000                           138  
00001000                           139  
00001000                           140  
00001000                           141  
00001000                           142  
00001000                           143  
00001000                           144  
00001000                           145  
00001000                           146  
00001000                           147  
00001000                           148  
00001000                           149  
00001000                           150  
00001000                           151  -------------------- end include --------------------
00001000                           152              INCLUDE "LIB/DMMCONST.X68"  ; DYNAMIC MEMORY CONSTANTS
00001000                           153  ; =============================================================================
00001000                           154  ; DYNAMIC MEMORY MANAGEMENT CONSTANTS (SYSTEM CONSTANTS)
00001000                           155  ; =============================================================================
00001000                           156  
00001000  =00000040                157  DMMBSIZE    EQU     64                      ; BLOCK SIZE (BYTES). POWER OF TWO
00001000  =00000032                158  DMMBNUM     EQU     50                      ; NUMBER OF BLOCKS
00001000  =00000000                159  DMMSYSID    EQU     0                       ; SYSTEM OWNER ID (MUST BE 0)
00001000  =00000000                160  -------------------- end include --------------------
00001000                           161              INCLUDE "LIB/UTLCONST.X68"  ; UTIL CONSTANTS 
00001000                           162  ; ==============================================================================
00001000                           163  ; UTIL CONSTANTS
00001000                           164  ; ==============================================================================
00001000                           165  
00001000  =00000008                166  UTLCHRWD    EQU     8                       ; CHARACTER WIDTH IN PIXELS
00001000  =00000008                167  -------------------- end include --------------------
00001000                           168              INCLUDE "LIB/DMMCODE.X68"   ; DYNAMIC MEMORY CODE
00001000                           169  ; =============================================================================
00001000                           170  ; DYNAMIC MEMORY MANAGEMENT (SYSTEM CODE)
00001000                           171  ; DYNAMIC MEMORY IS A SET OF DMMBNUM SLOTS OF DMMBSIZE BYTES EACH ONE.
00001000                           172  ; DMMBSIZE MUST BE POWER OF TWO. A SLOT HAS:
00001000                           173  ; - HEADER - 1 WORD. SPECIFIES THE OWNER (0 MEANS OWNED BY SYSTEM)
00001000                           174  ; - DATA   - DMMBSIZE - 2 BYTES. MAY CONTAIN VARS AND ANY KIND OF DATA RELATED
00001000                           175  ;            THE THE OWNER. IF OWNER==0, DATA IS MEANINGLESS.
00001000                           176  ; =============================================================================
00001000                           177  
00001000                           178  ; -----------------------------------------------------------------------------
00001000                           179  DMMINIT
00001000                           180  ; INITIALIZES THE DYNAMIC MEMORY TO ALL OWNED BY SYSTEM.
00001000                           181  ; INPUT    - NONE
00001000                           182  ; OUTPUT   - NONE
00001000                           183  ; MODIFIES - NONE
00001000                           184  ; -----------------------------------------------------------------------------
00001000  48E7 8080                185              MOVEM.L D0/A0,-(A7)
00001004  41F9 00002700            186              LEA     DMMDATA,A0
0000100A  303C 0031                187              MOVE.W  #DMMBNUM-1,D0
0000100E  30BC 0000                188  .LOOP       MOVE.W  #DMMSYSID,(A0)
00001012  D1FC 00000040            189              ADD.L   #DMMBSIZE,A0
00001018  51C8 FFF4                190              DBRA.W  D0,.LOOP
0000101C  4CDF 0101                191              MOVEM.L (A7)+,D0/A0
00001020  4E75                     192              RTS
00001022                           193  
00001022                           194  ; -----------------------------------------------------------------------------
00001022                           195  DMMFIRST
00001022                           196  ; SEARCHES THE FIRST MEMORY SLOT NOT OWNED BY SYSTEM AND OUTPUTS A POINTER
00001022                           197  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
00001022                           198  ; INPUT    - NONE
00001022                           199  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
00001022                           200  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001022                           201  ; -----------------------------------------------------------------------------
00001022  41F9 00002700            202              LEA     DMMDATA,A0
00001028  4A58                     203  DMMFRLOP    TST.W   (A0)+
0000102A  6600 0016                204              BNE     DMMFRFND
0000102E  D1FC 0000003E            205              ADD.L   #DMMBSIZE-2,A0
00001034  B1FC 0000337F            206  DMMFRCOM    CMP.L   #DMMDATA+DMMBSIZE*DMMBNUM-1,A0
0000103A  6DEC                     207              BLT     DMMFRLOP
0000103C  207C 00000000            208              MOVE.L  #0,A0
00001042  4E75                     209  DMMFRFND    RTS
00001044                           210  
00001044                           211  ; -----------------------------------------------------------------------------
00001044                           212  DMMNEXT
00001044                           213  ; SEARCHES THE NEXT MEMORY SLOT NOT OWNED BY SYSTEM AND OUTPUTS A POINTER
00001044                           214  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
00001044                           215  ; INPUT    - A0   : POINTER WITHIN THE CURRENT SLOT
00001044                           216  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
00001044                           217  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001044                           218  ; -----------------------------------------------------------------------------
00001044  2F00                     219              MOVE.L  D0,-(A7)
00001046  2008                     220              MOVE.L  A0,D0
00001048  C0BC FFFFFFC0            221              AND.L   #-DMMBSIZE,D0           ; TAKE ADVANTAGE OF ALIGNMENT
0000104E  0680 00000040            222              ADD.L   #DMMBSIZE,D0
00001054  2040                     223              MOVE.L  D0,A0
00001056  201F                     224              MOVE.L  (A7)+,D0
00001058  60DA                     225              BRA     DMMFRCOM
0000105A                           226  
0000105A                           227  ; -----------------------------------------------------------------------------
0000105A                           228  DMMFRSTO
0000105A                           229  ; SEARCHES THE FIRST MEMORY SLOT WITH THE SPECIFIED ID AND OUTPUTS A POINTER
0000105A                           230  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
0000105A                           231  ; INPUT    - D0.W : ID TO SEARCH
0000105A                           232  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
0000105A                           233  ; MODIFIES - NONE (ASIDE OF OUTPUT)
0000105A                           234  ; -----------------------------------------------------------------------------
0000105A  41F9 00002700            235              LEA     DMMDATA,A0
00001060  B058                     236  DMMFLOOP    CMP.W   (A0)+,D0
00001062  6700 0016                237              BEQ     DMMFFND
00001066  D1FC 0000003E            238              ADD.L   #DMMBSIZE-2,A0
0000106C  B1FC 0000337F            239  DMMFCOM     CMP.L   #DMMDATA+DMMBSIZE*DMMBNUM-1,A0
00001072  6DEC                     240              BLT     DMMFLOOP
00001074  207C 00000000            241              MOVE.L  #0,A0
0000107A  4E75                     242  DMMFFND     RTS
0000107C                           243  
0000107C                           244  ; -----------------------------------------------------------------------------
0000107C                           245  DMMNEXTO
0000107C                           246  ; SEARCHES THE NEXT MEMORY SLOT WITH THE SPECIFIED ID AND OUTPUTS A POINTER
0000107C                           247  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
0000107C                           248  ; INPUT    - D0.W : ID TO SEARCH
0000107C                           249  ;            A0   : POINTER WITHIN THE CURRENT SLOT
0000107C                           250  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
0000107C                           251  ; MODIFIES - NONE (ASIDE OF OUTPUT)
0000107C                           252  ; -----------------------------------------------------------------------------
0000107C  2F00                     253              MOVE.L  D0,-(A7)
0000107E  2008                     254              MOVE.L  A0,D0
00001080  C0BC FFFFFFC0            255              AND.L   #-DMMBSIZE,D0           ; TAKE ADVANTAGE OF ALIGNMENT
00001086  0680 00000040            256              ADD.L   #DMMBSIZE,D0
0000108C  2040                     257              MOVE.L  D0,A0
0000108E  201F                     258              MOVE.L  (A7)+,D0
00001090  60DA                     259              BRA     DMMFCOM
00001092                           260  
00001092                           261  ; -----------------------------------------------------------------------------
00001092                           262  DMMALLOC
00001092                           263  ; SEARCHES THE FIRST FREE (SYS OWNED) SLOT, ASSIGNS TO THE SPECIFIED OWNER
00001092                           264  ; AND RETURNS A POINTER TO THE CORRESPONDING DATA (SLOT ADDRESS + 2)
00001092                           265  ; INPUT    - D0.W : ID TO ASSIGN
00001092                           266  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FREE SPACE
00001092                           267  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001092                           268  ; -----------------------------------------------------------------------------
00001092  3F00                     269              MOVE.W  D0,-(A7)
00001094  4240                     270              CLR.W   D0
00001096  4EB8 105A                271              JSR     DMMFRSTO
0000109A  301F                     272              MOVE.W  (A7)+,D0
0000109C  B1FC 00000000            273              CMP.L   #0,A0
000010A2  6700 0006                274              BEQ     .END
000010A6  3140 FFFE                275              MOVE.W  D0,-2(A0)
000010AA  4E75                     276  .END        RTS
000010AC                           277  
000010AC                           278  ; -----------------------------------------------------------------------------
000010AC                           279  DMMFREE
000010AC                           280  ; FREES THE SLOT TO WHICH THE PROVIDED POINTER BELONGS BY SETTING ITS OWNED TO
000010AC                           281  ; SYSTEM (0)
000010AC                           282  ; INPUT    - A0   : POINTER BELONGING TO THE SLOT TO FREE
000010AC                           283  ; OUTPUT   - NONE
000010AC                           284  ; MODIFIES - NONE
000010AC                           285  ; -----------------------------------------------------------------------------
000010AC  48E7 8080                286              MOVEM.L D0/A0,-(A7)
000010B0  2008                     287              MOVE.L  A0,D0
000010B2  C0BC FFFFFFC0            288              AND.L   #-DMMBSIZE,D0           ; TAKE ADVANTAGE OF ALIGNMENT
000010B8  2040                     289              MOVE.L  D0,A0
000010BA  4250                     290              CLR.W   (A0)
000010BC  4CDF 0101                291              MOVEM.L (A7)+,D0/A0
000010C0  4E75                     292              RTS
000010C2                           293  
000010C2                           294  -------------------- end include --------------------
000010C2                           295              INCLUDE "LIB/AGLCODE.X68"   ; AGENTS CODE "OBJECTS"
000010C2                           296  ; =============================================================================
000010C2                           297  ; AGENT MANAGEMENT
000010C2                           298  ; EACH AGENT HAS A DATA BLOCK FROM DMM AS FOLLOWS:
000010C2                           299  ; +0 - LONG : UPDATE SUBROUTINE POINTER
000010C2                           300  ; +4 - LONG : PLOT SUBROUTINE POINTER
000010C2                           301  ; +8:END    : DATA (AGENT SPECIFIC)
000010C2                           302  ; =============================================================================
000010C2                           303  
000010C2                           304  ; -----------------------------------------------------------------------------
000010C2                           305  AGLADD
000010C2                           306  ; CREATES A NEW AGENT
000010C2                           307  ; INPUT    - A1 - POINTER TO AGENT INIT FUNCTION
000010C2                           308  ;            A2 - POINTER TO AGENT UPDATE FUNCTION
000010C2                           309  ;            A3 - POINTER TO AGENT PLOT FUNCTION
000010C2                           310  ;            D0 - AGENT TYPE (USED AS OWNER BY DMM)
000010C2                           311  ;            D1 - AGENT INITIALIZATION PARAMETER 1
000010C2                           312  ;            D2 - AGENT INITIALIZATION PARAMETER 2
000010C2                           313  ;            D3 - AGENT INITIALIZATION PARAMETER 3
000010C2                           314  ; OUTPUT   - NONE
000010C2                           315  ; MODIFIES - NONE
000010C2                           316  ; -----------------------------------------------------------------------------
000010C2  2F08                     317              MOVE.L  A0,-(A7)
000010C4  4EB8 1092                318              JSR     DMMALLOC
000010C8  B1FC 00000000            319              CMP.L   #0,A0
000010CE  6700 0008                320              BEQ     .END
000010D2  20CA                     321              MOVE.L  A2,(A0)+
000010D4  20CB                     322              MOVE.L  A3,(A0)+
000010D6  4E91                     323              JSR     (A1)
000010D8  205F                     324  .END        MOVE.L  (A7)+,A0
000010DA  4E75                     325              RTS
000010DC                           326  
000010DC                           327  ; -----------------------------------------------------------------------------
000010DC                           328  AGLUPD
000010DC                           329  ; UPDATES THE AGENT LIST. PRIOR TO CALLING THE UPDATE FUNCTIONS, A0 IS SET
000010DC                           330  ; TO THE DATA BLOCK OF THE CORRESPONDING SLOT.
000010DC                           331  ; INPUT    - NONE
000010DC                           332  ; OUTPUT   - NONE
000010DC                           333  ; MODIFIES - NONE
000010DC                           334  ; -----------------------------------------------------------------------------
000010DC  48E7 00C0                335              MOVEM.L A0-A1,-(A7)
000010E0  4EB8 1022                336              JSR     DMMFIRST
000010E4  B1FC 00000000            337  .LOOP       CMP.L   #0,A0
000010EA  6700 000E                338              BEQ     .END
000010EE  2250                     339              MOVE.L  (A0),A1
000010F0  5088                     340              ADD.L   #8,A0
000010F2  4E91                     341              JSR     (A1)
000010F4  4EB8 1044                342              JSR     DMMNEXT
000010F8  60EA                     343              BRA     .LOOP
000010FA  4CDF 0300                344  .END        MOVEM.L (A7)+,A0-A1
000010FE  4E75                     345              RTS
00001100                           346  
00001100                           347  ; -----------------------------------------------------------------------------
00001100                           348  AGLPLOT
00001100                           349  ; PLOTS THE AGENT LIST. PRIOR TO CALLING THE UPDATE FUNCTIONS, A0 IS SET
00001100                           350  ; TO THE DATA BLOCK OF THE CORRESPONDING SLOT.
00001100                           351  ; INPUT    - NONE
00001100                           352  ; OUTPUT   - NONE
00001100                           353  ; MODIFIES - NONE
00001100                           354  ; -----------------------------------------------------------------------------
00001100  48E7 00C0                355              MOVEM.L A0-A1,-(A7)
00001104  4EB8 1022                356              JSR     DMMFIRST
00001108  B1FC 00000000            357  .LOOP       CMP.L   #0,A0
0000110E  6700 0010                358              BEQ     .END
00001112  2268 0004                359              MOVE.L  4(A0),A1
00001116  5088                     360              ADD.L   #8,A0
00001118  4E91                     361              JSR     (A1)
0000111A  4EB8 1044                362              JSR     DMMNEXT
0000111E  60E8                     363              BRA     .LOOP
00001120  4CDF 0300                364  .END        MOVEM.L (A7)+,A0-A1
00001124  4E75                     365              RTS
00001126                           366  
00001126                           367  ; -----------------------------------------------------------------------------
00001126                           368  AGLCLEAN
00001126                           369  ; KILLS EVERY AGENT ON AGENLIST OF THE SPECIFIED TYPE
00001126                           370  ; INPUT     - D0.W - AGENT TYPE (USED AS OWNER BY DMM)
00001126                           371  ; OUTPUT    - KILLS EVERY AGENT ON AGENTLIST
00001126                           372  ; MODIFIES  - NONE
00001126                           373  ; -----------------------------------------------------------------------------
00001126  48E7 00C0                374              MOVEM.L A0-A1,-(A7)
0000112A                           375              
0000112A  4EB8 105A                376  .LOOP       JSR     DMMFRSTO
0000112E  B1FC 00000000            377              CMP.L   #0,A0
00001134  6700 000A                378              BEQ     .END
00001138  4EB9 000010AC            379              JSR     AGLKILL
0000113E  60EA                     380              BRA     .LOOP
00001140                           381              
00001140  4CDF 0300                382  .END        MOVEM.L (A7)+,A0-A1
00001144  4E75                     383              RTS
00001146                           384  
00001146                           385              
00001146                           386  
00001146                           387  
00001146                           388  ; -----------------------------------------------------------------------------
00001146  =000010AC                389  AGLKILL     EQU     DMMFREE
00001146                           390  ; KILLS THE AGENT BY RELEASING ITS MEMORY
00001146                           391  ; INPUT    - A0 POINTER WITHIN THE AGENT MEMORY
00001146                           392  ; OUTPUT   - NONE
00001146                           393  ; MODIFIES - NONE
00001146                           394  ; NOTE     - IT IS JUST A WRAPPER FOR DMMFREE
00001146                           395  ; -----------------------------------------------------------------------------
00001146                           396  
00001146                           397  
00001146                           398  
00001146                           399  -------------------- end include --------------------
00001146                           400              INCLUDE "LIB/UTLCODE.X68"   ; UTIL SUBRUTINES
00001146                           401  ; =============================================================================
00001146                           402  ; UTILITY CODE
00001146                           403  ; =============================================================================
00001146                           404  
00001146                           405  ; -----------------------------------------------------------------------------
00001146                           406  UTLINIT
00001146                           407  ; INITIALIZES UTILITY CODE
00001146                           408  ; INPUT    - NONE
00001146                           409  ; OUTPUT   - NONE
00001146                           410  ; MODIFIES - NONE
00001146                           411  ; -----------------------------------------------------------------------------
00001146  48E7 C000                412              MOVEM.L D0-D1,-(A7)
0000114A  103C 0008                413              MOVE.B  #8,D0
0000114E  4E4F                     414              TRAP    #15
00001150  13C1 000026E8            415              MOVE.B  D1,(UTLRNDIX)
00001156  4CDF 0003                416              MOVEM.L (A7)+,D0-D1
0000115A  4E75                     417              RTS
0000115C                           418              
0000115C                           419  ; -----------------------------------------------------------------------------
0000115C                           420  UTLPRINT
0000115C                           421  ; PRINT SCREEN CENTERED TEXT
0000115C                           422  ; INPUT    : A0 POINTER TO ZERO-TERMINATED STRING
0000115C                           423  ;            D0.B SCREEN ROW TO PRINT TEXT
0000115C                           424  ; OUTPUT   : D0.B NEXT ROW
0000115C                           425  ; MODIFIES : NONE (ASIDE OF OUTPUT)
0000115C                           426  ; -----------------------------------------------------------------------------
0000115C  48E7 C0C0                427              MOVEM.L D0-D1/A0-A1,-(A7)
00001160  4201                     428              CLR.B   D1
00001162  2248                     429              MOVE.L  A0,A1
00001164  4A18                     430  .LOOP       TST.B   (A0)+
00001166  6700 0006                431              BEQ     .ENDLOOP
0000116A  5201                     432              ADDQ.B  #1,D1
0000116C  60F6                     433              BRA     .LOOP
0000116E  E209                     434  .ENDLOOP    LSR.B   #1,D1
00001170  0401 0028                435              SUB.B   #(SCRWIDTH/UTLCHRWD)/2,D1
00001174  4401                     436              NEG.B   D1
00001176  E141                     437              ASL.W   #8,D1
00001178  8240                     438              OR.W    D0,D1
0000117A  103C 000B                439              MOVE.B  #11,D0
0000117E  4E4F                     440              TRAP    #15
00001180  103C 000D                441              MOVE.B  #13,D0
00001184  4E4F                     442              TRAP    #15
00001186  4CDF 0303                443              MOVEM.L (A7)+,D0-D1/A0-A1
0000118A  5200                     444              ADDQ.B  #1,D0
0000118C  4E75                     445              RTS
0000118E                           446  
0000118E                           447  ; -----------------------------------------------------------------------------
0000118E                           448  UTLRAND
0000118E                           449  ; PROVIDES A PSEUDO-RANDOM BYTE
0000118E                           450  ; INPUT    - NONE
0000118E                           451  ; OUTPUT   - D0.L RANDOM VALUE (ONLY BYTE)
0000118E                           452  ; MODIFIES - NONE (ASIDE OF OUTPUT)
0000118E                           453  ; -----------------------------------------------------------------------------
0000118E  2F08                     454              MOVE.L  A0,-(A7)
00001190  41F9 000011AC            455              LEA     .RANDVEC,A0
00001196  4280                     456              CLR.L   D0
00001198  1039 000026E8            457              MOVE.B  (UTLRNDIX),D0
0000119E  1030 0800                458              MOVE.B  (A0,D0.L),D0
000011A2  5239 000026E8            459              ADDQ.B  #1,(UTLRNDIX)
000011A8  205F                     460              MOVE.L  (A7)+,A0
000011AA  4E75                     461              RTS
000011AC                           462  
000011AC                           463  
000011AC= A2 EE 9A 0C F5 24 ...    464  .RANDVEC    DC.B    162, 238, 154, 12 , 245, 36 , 32 , 103
000011B4= 2A A3 51 26 E0 AC ...    465              DC.B    42 , 163, 81 , 38 , 224, 172, 19 , 69
000011BC= 75 51 CA FD 33 EB ...    466              DC.B    117, 81 , 202, 253, 51 , 235, 108, 154
000011C4= 60 CC E7 B8 9A EB ...    467              DC.B    96 , 204, 231, 184, 154, 235, 34 , 203
000011CC= 1D 76 B5 95 B0 89 ...    468              DC.B    29 , 118, 181, 149, 176, 137, 62 , 108
000011D4= 39 15 48 C9 6E CA ...    469              DC.B    57 , 21 , 72 , 201, 110, 202, 159, 41
000011DC= 43 E7 E2 7C 37 25 ...    470              DC.B    67 , 231, 226, 124, 55 , 37 , 84 , 62
000011E4= E9 94 CE E9 E4 52 ...    471              DC.B    233, 148, 206, 233, 228, 82 , 243, 78
000011EC= 37 6D 9A 84 A2 28 ...    472              DC.B    55 , 109, 154, 132, 162, 40 , 30 , 39
000011F4= 19 E2 C6 77 80 D4 ...    473              DC.B    25 , 226, 198, 119, 128, 212, 232, 225
000011FC= 0A 5A 32 67 33 C2 ...    474              DC.B    10 , 90 , 50 , 103, 51 , 194, 222, 40
00001204= 59 80 DC 0E 57 FC ...    475              DC.B    89 , 128, 220, 14 , 87 , 252, 243, 252
0000120C= 8A AB BC F7 07 4D ...    476              DC.B    138, 171, 188, 247, 7  , 77 , 29 , 234
00001214= EF D5 77 6E 1E BB ...    477              DC.B    239, 213, 119, 110, 30 , 187, 131, 23
0000121C= D6 E0 2A 8F BD 28 ...    478              DC.B    214, 224, 42 , 143, 189, 40 , 212, 130
00001224= 13 4F 66 EC 0A 64 ...    479              DC.B    19 , 79 , 102, 236, 10 , 100, 122, 188
0000122C= 56 52 9A 16 9B 90 ...    480              DC.B    86 , 82 , 154, 22 , 155, 144, 7  , 199
00001234= 06 8A A4 F7 01 DA ...    481              DC.B    6  , 138, 164, 247, 1  , 218, 166, 82
0000123C= F2 E7 77 28 B1 76 ...    482              DC.B    242, 231, 119, 40 , 177, 118, 220, 102
00001244= A4 42 E3 81 B1 67 ...    483              DC.B    164, 66 , 227, 129, 177, 103, 165, 108
0000124C= BF CE FA 16 BF 38 ...    484              DC.B    191, 206, 250, 22 , 191, 56 , 30 , 161
00001254= D1 8B 50 0C 5F 49 ...    485              DC.B    209, 139, 80 , 12 , 95 , 73 , 168, 56
0000125C= DE 4C 14 A2 40 DC ...    486              DC.B    222, 76 , 20 , 162, 64 , 220, 93 , 12
00001264= B6 9B 0A 38 5D AB ...    487              DC.B    182, 155, 10 , 56 , 93 , 171, 89 , 6
0000126C= E2 1B DD 75 15 82 ...    488              DC.B    226, 27 , 221, 117, 21 , 130, 101, 18
00001274= 8A 26 51 30 9F 47 ...    489              DC.B    138, 38 , 81 , 48 , 159, 71 , 57 , 21
0000127C= 1E 8A BB 71 C6 6E ...    490              DC.B    30 , 138, 187, 113, 198, 110, 185, 152
00001284= 9F 47 E5 34 94 27 ...    491              DC.B    159, 71 , 229, 52 , 148, 39 , 77 , 6
0000128C= 7D 06 D6 BA 30 0F ...    492              DC.B    125, 6  , 214, 186, 48 , 15 , 212, 22
00001294= EC 7F 7E 03 CF 2D ...    493              DC.B    236, 127, 126, 3  , 207, 45 , 193, 2
0000129C= 94 5B 23 F2 8B CD ...    494              DC.B    148, 91 , 35 , 242, 139, 205, 248, 237
000012A4= 74 33 EC B9 0F D5 ...    495              DC.B    116, 51 , 236, 185, 15 , 213, 221, 6
000012AC                           496  
000012AC                           497  -------------------- end include --------------------
000012AC                           498              INCLUDE "SYSTEM.X68"        ; SYSTEM CODE
000012AC                           499  ; =============================================================================
000012AC                           500  ; SYSTEM
000012AC                           501  ; =============================================================================
000012AC                           502  
000012AC                           503  ; -----------------------------------------------------------------------------
000012AC                           504  SYSINIT
000012AC                           505  ; INITIALIZE SYSTEM
000012AC                           506  ; INPUT     : NONE
000012AC                           507  ; OUTPUT    : NONE
000012AC                           508  ; MODIFIES  : NONE
000012AC                           509  ; -----------------------------------------------------------------------------
000012AC                           510  
000012AC                           511              ; INSTALL TRAPS AND INTERRUPTIONS
000012AC  21FC 000013C6 0080       512              MOVE.L  #SCRPLOT,($80+SCRUPDTN*4)
000012B4  21FC 000013FC 0084       513              MOVE.L  #KBDUPD,($80+KBDUPDTN*4)
000012BC  21FC 0000144A 0088       514              MOVE.L  #MOUUPD,($80+MOUUPDTN*4)
000012C4  21FC 00001370 008C       515              MOVE.L  #SNDPLAY,($80+SNDPLTN*4)
000012CC  21FC 000013E0 0064       516              MOVE.L  #SCRTIM,($60+SCRINTN*4)
000012D4                           517              
000012D4  4EB9 000012FE            518              JSR     TXTINIT
000012DA  4EB9 000013EE            519              JSR     KBDINIT
000012E0  4EB9 0000143C            520              JSR     MOUINIT
000012E6  4EB9 00001316            521              JSR     SNDINIT
000012EC  4EB9 00001382            522              JSR     SCRINIT
000012F2  4EB8 1000                523              JSR     DMMINIT
000012F6                           524              
000012F6                           525              ; SET USER MODE AND ALLOW INTERRUPTIONS
000012F6  40E7                     526              MOVE.W  SR,-(A7)
000012F8  0257 D8FF                527              ANDI.W  #$D8FF,(A7)
000012FC  4E73                     528              RTE
000012FE                           529              
000012FE                           530  ; -----------------------------------------------------------------------------
000012FE                           531  TXTINIT
000012FE                           532  ; INITIALIZES THE TEXT OUTPUT
000012FE                           533  ; INPUT     : NONE
000012FE                           534  ; OUTPUT    : NONE
000012FE                           535  ; MODIFIES  : NONE
000012FE                           536  ; -----------------------------------------------------------------------------
000012FE                           537  
000012FE  48E7 E000                538              MOVEM.L D0-D2,-(A7)
00001302                           539              
00001302  7200                     540              MOVE.L  #TXTCOLOR,D1
00001304  243C 040E0001            541              MOVE.L  #TXTFONT<<24|TXTSIZE<<16|TXTSTYLE,D2
0000130A  103C 0015                542              MOVE.B  #21,D0
0000130E  4E4F                     543              TRAP    #15
00001310                           544              
00001310  4CDF 0007                545              MOVEM.L (A7)+,D0-D2
00001314  4E75                     546              RTS     
00001316                           547         
00001316                           548  ; -----------------------------------------------------------------------------
00001316                           549  SNDINIT
00001316                           550  ; INITIALIZES SOUND SYSTEM
00001316                           551  ; INPUT     : NONE
00001316                           552  ; OUTPUT    : NONE
00001316                           553  ; MODIFIES  : NONE
00001316                           554  ; -----------------------------------------------------------------------------
00001316                           555  
00001316  48E7 C0C0                556              MOVEM.L D0-D1/A0-A1,-(A7)
0000131A                           557              
0000131A  4201                     558              CLR.B   D1
0000131C  41F9 00001360            559              LEA     .SNDLIST,A0
00001322  2018                     560  .LOOP       MOVE.L  (A0)+,D0
00001324  6700 000E                561              BEQ     .DONE
00001328  2240                     562              MOVE.L  D0,A1
0000132A  103C 0047                563              MOVE.B  #71,D0
0000132E  4E4F                     564              TRAP    #15
00001330  5201                     565              ADDQ.B  #1,D1
00001332  60EE                     566              BRA     .LOOP
00001334                           567              
00001334  4CDF 0303                568  .DONE       MOVEM.L (A7)+,D0-D1/A0-A1
00001338  4E75                     569              RTS
0000133A                           570              
0000133A= 53 4E 44 2F 44 49 ...    571  .SNDDIE     DC.B    'SND/DIE.wav',0
00001346= 53 4E 44 2F 4A 55 ...    572  .SNDJUMP    DC.B    'SND/JUMP.wav',0
00001353= 53 4E 44 2F 53 43 ...    573  .SNDSCO     DC.B    'SND/SCO.wav',0
00001360                           574              DS.W    0                       ; WORD ALIGN
00001360= 0000133A 00001346 ...    575  .SNDLIST    DC.L    .SNDDIE,.SNDJUMP,.SNDSCO,0
00001370                           576              
00001370                           577  ; ------------------------------------------------------------------------------
00001370                           578  SNDPLAY
00001370                           579  ; PLAY SOUND
00001370                           580  ; INPUT    : D7 SOUND ID
00001370                           581  ; OUTPUT   : NONE
00001370                           582  ; MODIFIES : NONE
00001370                           583  ; ------------------------------------------------------------------------------
00001370                           584  
00001370  48A7 C000                585              MOVEM.W D0-D1,-(A7)
00001374                           586              
00001374  103C 0048                587              MOVE.B  #72,D0
00001378  1207                     588              MOVE.B  D7,D1
0000137A  4E4F                     589              TRAP    #15
0000137C                           590              
0000137C  4C9F 0003                591              MOVEM.W (A7)+,D0-D1
00001380  4E73                     592              RTE
00001382                           593  
00001382                           594  ; -----------------------------------------------------------------------------
00001382                           595  SCRINIT
00001382                           596  ; INIT SCREEN. SET SCREEN RESOLUTION, SET WINDOWED MODE, CLEAR SCREEN,
00001382                           597  ; ENABLE DOUBLE BUFFER, ENABLE TIMED INTERRUPT.
00001382                           598  ; INPUT     : NONE
00001382                           599  ; OUTPUT    : NONE
00001382                           600  ; MODIFIES  : NONE
00001382                           601  ; -----------------------------------------------------------------------------
00001382                           602  
00001382  48E7 C000                603              MOVEM.L D0-D1,-(A7)
00001386                           604              
00001386                           605              ; SET SCREEN RESOLUTION
00001386  103C 0021                606              MOVE.B  #33,D0
0000138A  223C 028001E0            607              MOVE.L  #SCRWIDTH<<16|SCRHEIGH,D1
00001390  4E4F                     608              TRAP    #15
00001392                           609              
00001392                           610              ; SET WINDOWED MODE
00001392  7201                     611              MOVE.L  #1,D1
00001394  4E4F                     612              TRAP    #15
00001396                           613              
00001396                           614              ; CLEAR SCREEN
00001396  103C 000B                615              MOVE.B  #11,D0
0000139A  323C FF00                616              MOVE.W  #$FF00,D1
0000139E  4E4F                     617              TRAP    #15
000013A0                           618              
000013A0                           619              ; ENABLE DOUBLE BUFFER
000013A0  103C 005C                620              MOVE.B  #92,D0
000013A4  123C 0011                621              MOVE.B  #17,D1
000013A8  4E4F                     622              TRAP    #15
000013AA                           623              
000013AA                           624              ; ENABLE TIMED INTERRUPT
000013AA  103C 0020                625              MOVE.B  #32,D0
000013AE  123C 0006                626              MOVE.B  #6,D1
000013B2  143C 0081                627              MOVE.B  #$80|SCRINTN,D2
000013B6  7610                     628              MOVE.L  #1000/SCRFPS,D3
000013B8  4E4F                     629              TRAP    #15
000013BA                           630              
000013BA                           631              ; CLEAR INTERRUPT COUNTER
000013BA  4279 000026C4            632              CLR.W   (SCRINTCT)
000013C0                           633              
000013C0  4CDF 0003                634              MOVEM.L (A7)+,D0-D1
000013C4  4E75                     635              RTS
000013C6                           636              
000013C6                           637  ; -----------------------------------------------------------------------------
000013C6                           638  SCRPLOT
000013C6                           639  ; UPDATES DOUBLE BUFFER
000013C6                           640  ; INPUT    : NONE
000013C6                           641  ; OUTPUT   : NONE
000013C6                           642  ; MODIFIES : NONE
000013C6                           643  ; -----------------------------------------------------------------------------
000013C6                           644  
000013C6  48A7 C000                645              MOVEM.W D0-D1,-(A7)
000013CA                           646              
000013CA                           647              ; SWITCH BUFFERS
000013CA  103C 005E                648              MOVE.B  #94,D0
000013CE  4E4F                     649              TRAP    #15
000013D0                           650              
000013D0                           651              ; CLEAN HIDDEN BUFFER
000013D0  103C 000B                652              MOVE.B  #11,D0
000013D4  323C FF00                653              MOVE.W  #$FF00,D1
000013D8  4E4F                     654              TRAP    #15
000013DA  4C9F 0003                655              MOVEM.W (A7)+,D0-D1
000013DE  4E73                     656              RTE
000013E0                           657  
000013E0                           658  ; -----------------------------------------------------------------------------
000013E0                           659  SCRTIM
000013E0                           660  ; TIMED INTERRUPT SERVICE ROUTINE, COUNTS TIME FALLING
000013E0                           661  ; INPUT     : NONE
000013E0                           662  ; OUTPUT    : NONE
000013E0                           663  ; MODIFIES  : NONE
000013E0                           664  ; -----------------------------------------------------------------------------
000013E0                           665  
000013E0  5239 000026C4            666              ADDQ.B  #1,(SCRINTCT)
000013E6  5239 000026C5            667              ADDQ.B  #1,(SCRCYCCT)
000013EC  4E73                     668              RTE
000013EE                           669              
000013EE                           670  ; -----------------------------------------------------------------------------
000013EE                           671  KBDINIT
000013EE                           672  ; INIT KEYBOARD
000013EE                           673  ; INPUT     : NONE
000013EE                           674  ; OUTPUT    : NONE
000013EE                           675  ; MODIFIES  : NONE
000013EE                           676  ; -----------------------------------------------------------------------------
000013EE                           677  
000013EE  4239 000026BC            678              CLR.B   (KBDVAL)
000013F4  4239 000026BD            679              CLR.B   (KBDEDGE)
000013FA  4E75                     680              RTS
000013FC                           681              
000013FC                           682  ; -----------------------------------------------------------------------------
000013FC                           683  KBDUPD
000013FC                           684  ; UPDATE KEYBOARD INFO
000013FC                           685  ; 0 -> SPACE
000013FC                           686  ; INPUT     : NONE
000013FC                           687  ; OUTPUT    : NONE
000013FC                           688  ; MODIFIES  : NONE
000013FC                           689  ; -----------------------------------------------------------------------------
000013FC                           690  
000013FC  48E7 F000                691              MOVEM.L D0-D3,-(A7)
00001400                           692              
00001400                           693              ; READ KEYBOARD
00001400  103C 0013                694              MOVE.B  #19,D0
00001404  223C 00001B20            695              MOVE.L  #KBDPAUSE<<8|KBDSPACE,D1
0000140A  4E4F                     696              TRAP    #15
0000140C                           697              
0000140C                           698              ; CONVERT TO DESIRED FORMAT
0000140C  4EB9 0000142E            699              JSR     .PACK
00001412                           700  
00001412                           701              ; COMPUTE KBDEDGE
00001412  1039 000026BC            702              MOVE.B  (KBDVAL),D0
00001418  4600                     703              NOT.B   D0
0000141A  C042                     704              AND.W   D2,D0
0000141C  13C0 000026BD            705              MOVE.B  D0,(KBDEDGE)
00001422                           706              
00001422                           707              ; STORE KBDVAL
00001422  13C2 000026BC            708              MOVE.B  D2,(KBDVAL)
00001428                           709              
00001428  4CDF 000F                710              MOVEM.L (A7)+,D0-D3
0000142C  4E73                     711              RTE
0000142E                           712  
0000142E  363C 0003                713  .PACK       MOVE.W  #3,D3
00001432  E189                     714  .LOOP       LSL.L   #8,D1
00001434  E312                     715              ROXL.B  #1,D2
00001436  51CB FFFA                716              DBRA.W  D3,.LOOP
0000143A  4E75                     717              RTS
0000143C                           718  
0000143C                           719  ; -----------------------------------------------------------------------------
0000143C                           720  MOUINIT
0000143C                           721  ; INPUT     : NONE
0000143C                           722  ; OUTPUT    : NONE
0000143C                           723  ; MODIFIES  : NONE
0000143C                           724  ; -----------------------------------------------------------------------------
0000143C                           725  
0000143C  42B9 000026BE            726              CLR.L   MOUPOS
00001442  4239 000026C2            727              CLR.B   MOUVAL
00001448  4E75                     728              RTS
0000144A                           729              
0000144A                           730  ; -----------------------------------------------------------------------------
0000144A                           731  MOUUPD
0000144A                           732  ; INPUT     : NONE
0000144A                           733  ; OUTPUT    : NONE
0000144A                           734  ; MODIFIES  : NONE
0000144A                           735  ; -----------------------------------------------------------------------------
0000144A                           736  
0000144A  48E7 C000                737              MOVEM.L D0-D1,-(A7)
0000144E                           738              
0000144E  103C 003D                739              MOVE.B  #61,D0
00001452  4201                     740              CLR.B   D1
00001454  4E4F                     741              TRAP    #15
00001456  13C0 000026C2            742              MOVE.B  D0,(MOUVAL)
0000145C  23C1 000026BE            743              MOVE.L  D1,(MOUPOS)
00001462                           744              
00001462  4CDF 0003                745              MOVEM.L (A7)+,D0-D1
00001466  4E73                     746              RTE
00001468                           747  
00001468                           748  
00001468                           749  
00001468                           750  
00001468                           751  
00001468                           752  
00001468                           753  
00001468                           754  
00001468                           755  
00001468                           756  
00001468                           757  
00001468                           758  
00001468                           759  -------------------- end include --------------------
00001468                           760              INCLUDE "STATES.X68"        ; STATES MANAGEMENT
00001468                           761  ; =============================================================================
00001468                           762  ; GAME STATE MANAGEMENT
00001468                           763  ; =============================================================================
00001468                           764  
00001468                           765  ; -----------------------------------------------------------------------------
00001468                           766  STAINIT
00001468                           767  ; INITALIZES THE STATE MANAGER
00001468                           768  ; INPUT    - NONE
00001468                           769  ; OUTPUT   - NONE
00001468                           770  ; MODIFIES - NONE
00001468                           771  ; -----------------------------------------------------------------------------
00001468  33FC FFFF 000026E4       772              MOVE.W  #STANONE,(STACUR)
00001470  4279 000026E6            773              CLR.W   (STANEXT)
00001476  4E75                     774              RTS
00001478                           775  
00001478                           776  ; -----------------------------------------------------------------------------
00001478                           777  STAUPD
00001478                           778  ; PERFORMS STATE UPDATE AND INIT IF NECESSARY
00001478                           779  ; INPUT    - NONE
00001478                           780  ; OUTPUT   - NONE
00001478                           781  ; MODIFIES - NONE
00001478                           782  ; -----------------------------------------------------------------------------
00001478  48E7 8080                783              MOVEM.L D0/A0,-(A7)
0000147C  4280                     784              CLR.L   D0
0000147E  3039 000026E6            785              MOVE.W  (STANEXT),D0
00001484  B079 000026E4            786              CMP.W   (STACUR),D0
0000148A  6700 0012                787              BEQ     .DOUPD
0000148E  33C0 000026E4            788              MOVE.W  D0,(STACUR)             ; IF STATE CHANGED, DO INIT
00001494  E588                     789              LSL.L   #2,D0
00001496  2040                     790              MOVE.L  D0,A0
00001498  2068 14B6                791              MOVE.L  .INITBL(A0),A0
0000149C  4E90                     792              JSR     (A0)
0000149E  4280                     793  .DOUPD      CLR.L   D0                      ; IN ANY CASE, DO UPDATE
000014A0  3039 000026E4            794              MOVE.W  (STACUR),D0
000014A6  E588                     795              LSL.L   #2,D0
000014A8  2040                     796              MOVE.L  D0,A0
000014AA  2068 14CA                797              MOVE.L  .UPDTBL(A0),A0
000014AE  4E90                     798              JSR     (A0)
000014B0  4CDF 0101                799              MOVEM.L (A7)+,D0/A0
000014B4  4E75                     800              RTS
000014B6= 00001510 0000154E ...    801  .INITBL     DC.L    ISCINIT,INSINIT,GAMEINIT,PAUSINIT,GOVINIT
000014CA= 00001526 00001550 ...    802  .UPDTBL     DC.L    ISCUPD,INSUPD,GAMEUPD,PAUSUPD,GOVUPD
000014DE                           803  
000014DE                           804  ; -----------------------------------------------------------------------------
000014DE                           805  STAPLOT
000014DE                           806  ; PERFORMS STATE PLOT
000014DE                           807  ; INPUT    - NONE
000014DE                           808  ; OUTPUT   - NONE
000014DE                           809  ; MODIFIES - NONE
000014DE                           810  ; -----------------------------------------------------------------------------
000014DE  48E7 8080                811              MOVEM.L D0/A0,-(A7)
000014E2  4280                     812              CLR.L   D0
000014E4  3039 000026E4            813              MOVE.W  (STACUR),D0
000014EA  E588                     814              LSL.L   #2,D0
000014EC  2040                     815              MOVE.L  D0,A0
000014EE  2068 14FA                816              MOVE.L  .PLTTBL(A0),A0
000014F2  4E90                     817              JSR     (A0)
000014F4  4CDF 0101                818              MOVEM.L (A7)+,D0/A0
000014F8  4E75                     819              RTS
000014FA= 00001548 00001552 ...    820  .PLTTBL     DC.L    ISCPLOT,INSPLOT,GAMEPLOT,PAUSPLOT,GOVPLOT
0000150E                           821  
0000150E                           822  ; -----------------------------------------------------------------------------
0000150E                           823  STAEMPTY
0000150E                           824  ; EMPTY SUBROUTINE FOR CASES WITH NOTHING TO DO
0000150E                           825  ; INPUT    - NONE
0000150E                           826  ; OUTPUT   - NONE
0000150E                           827  ; MODIFIES - NONE
0000150E                           828  ; NOTE     - JUST A PLACEHOLDER. NOTHING TO DO.
0000150E                           829  ; -----------------------------------------------------------------------------
0000150E  4E75                     830              RTS
00001510                           831  
00001510                           832  
00001510                           833  
00001510                           834  
00001510                           835  
00001510                           836  
00001510                           837  
00001510                           838  
00001510                           839  -------------------- end include --------------------
00001510                           840              INCLUDE "INTRO.X68"         ; INTRO STATE MANAGEMENT
00001510                           841  ; =============================================================================
00001510                           842  ; INTRO SCREEN MANAGEMENT
00001510                           843  ; =============================================================================
00001510                           844  
00001510                           845  ; ------------------------------------------------------------------------------
00001510                           846  ISCINIT
00001510                           847  ; INTRO SCREEN INIT
00001510                           848  ; INPUT    : NONE
00001510                           849  ; OUTPUT   : NONE
00001510                           850  ; MODIFIES : NONE
00001510                           851  ; ------------------------------------------------------------------------------
00001510                           852              ; INIT GAME VARIABLES
00001510  4EB9 00001642            853              JSR BIRDINIT
00001516  4EB9 000018AE            854              JSR SCOINIT
0000151C                           855              ; CLEAN PIPES
0000151C  303C 0001                856              MOVE.W  #PIPEAGTP,D0
00001520  4EB8 1126                857              JSR AGLCLEAN
00001524  4E75                     858              RTS
00001526                           859  
00001526                           860  ; ------------------------------------------------------------------------------
00001526                           861  ISCUPD
00001526                           862  ; INTRO SCREEN UPDATE
00001526                           863  ; INPUT    : NONE
00001526                           864  ; OUTPUT   : NONE
00001526                           865  ; MODIFIES : NONE
00001526                           866  ; ------------------------------------------------------------------------------
00001526                           867              
00001526  4EB9 000017EC            868              JSR BACKUPD
0000152C  4EB8 10DC                869              JSR AGLUPD
00001530  1039 000026BD            870              MOVE.B  (KBDEDGE),D0
00001536  C03C 0001                871              AND.B   #1,D0
0000153A  6700 000A                872              BEQ     .CONT
0000153E  33FC 0002 000026E6       873              MOVE.W  #STAGAME,(STANEXT)      
00001546                           874  .CONT
00001546  4E75                     875              RTS
00001548                           876  
00001548                           877  ; ------------------------------------------------------------------------------
00001548                           878  ISCPLOT
00001548                           879  ; INTRO SCREEN PLOT
00001548                           880  ; INPUT    : NONE
00001548                           881  ; OUTPUT   : NONE
00001548                           882  ; MODIFIES : NONE
00001548                           883  ; ------------------------------------------------------------------------------
00001548  4EB8 1100                884              JSR AGLPLOT
0000154C  4E75                     885              RTS
0000154E                           886  
0000154E                           887  
0000154E                           888  
0000154E                           889  
0000154E                           890  
0000154E                           891  
0000154E                           892  
0000154E                           893  
0000154E                           894  
0000154E                           895  -------------------- end include --------------------
0000154E                           896              INCLUDE "INSTRUCTIONS.X68"  ; INSTRUCTIONS STATE MANAGEMENT
0000154E                           897  ; =============================================================================
0000154E                           898  ; INSTRUCTION SCREEN MANAGEMENT
0000154E                           899  ; =============================================================================
0000154E                           900  
0000154E                           901  ; ------------------------------------------------------------------------------
0000154E                           902  INSINIT
0000154E                           903  ; INSTRUCTIONS SCREEN INIT
0000154E                           904  ; INPUT    : NONE
0000154E                           905  ; OUTPUT   : NONE
0000154E                           906  ; MODIFIES : NONE
0000154E                           907  ; ------------------------------------------------------------------------------
0000154E  4E75                     908              RTS
00001550                           909  
00001550                           910  ; ------------------------------------------------------------------------------
00001550                           911  INSUPD
00001550                           912  ; INSTRUCTIONS SCREEN UPDATE
00001550                           913  ; INPUT    : NONE
00001550                           914  ; OUTPUT   : NONE
00001550                           915  ; MODIFIES : NONE
00001550                           916  ; ------------------------------------------------------------------------------
00001550  4E75                     917              RTS
00001552                           918  
00001552                           919  ; ------------------------------------------------------------------------------
00001552                           920  INSPLOT
00001552                           921  ; INSTRUCTIONS SCREEN PLOT
00001552                           922  ; INPUT    : NONE
00001552                           923  ; OUTPUT   : NONE
00001552                           924  ; MODIFIES : NONE
00001552                           925  ; ------------------------------------------------------------------------------
00001552  4E75                     926              RTS
00001554                           927  
00001554                           928  
00001554                           929  
00001554                           930  
00001554                           931  
00001554                           932  
00001554                           933  
00001554                           934  
00001554                           935  
00001554                           936  
00001554                           937  -------------------- end include --------------------
00001554                           938              INCLUDE "GAME.X68"          ; GAME STATE MANAGEMENT
00001554                           939  ; =============================================================================
00001554                           940  ; GAME MANAGEMENT
00001554                           941  ; =============================================================================
00001554                           942  
00001554                           943  ; -----------------------------------------------------------------------------
00001554                           944  GAMEINIT
00001554                           945  ; INITIALIZES GAME.
00001554                           946  ; INPUT    : NONE
00001554                           947  ; OUTPUT   : NONE
00001554                           948  ; MODIFIES : NONE
00001554                           949  ; ------------------------------------------------------------------------------        
00001554  13F9 000026C6 000026C5   950              MOVE.B  (GAMCYCCT),(SCRCYCCT)
0000155E  4E75                     951              RTS
00001560                           952              
00001560                           953  ; -----------------------------------------------------------------------------
00001560                           954  GAMEUPD
00001560                           955  ; UPDATES GAME.
00001560                           956  ; INPUT     : NONE
00001560                           957  ; OUTPUT    : NONE
00001560                           958  ; MODIFIES  : NONE
00001560                           959  ; -----------------------------------------------------------------------------
00001560                           960  
00001560  4EB9 000017EC            961              JSR     BACKUPD
00001566  1F00                     962              MOVE.B  D0,-(A7)
00001568  1039 000026BD            963              MOVE.B  (KBDEDGE),D0
0000156E  0800 0001                964              BTST    #1,D0
00001572  6700 0014                965              BEQ     .NOPAUSE
00001576  33FC 0003 000026E6       966              MOVE.W  #STAPAUSE, (STANEXT)
0000157E  13F9 000026C5 000026C6   967              MOVE.B  (SCRCYCCT),(GAMCYCCT)
00001588                           968              
00001588  4EB9 0000159C            969  .NOPAUSE    JSR     NEWPIPE
0000158E  4EB8 10DC                970              JSR     AGLUPD
00001592  4EB9 00001652            971              JSR     BIRDUPD
00001598                           972              
00001598  101F                     973              MOVE.B  (A7)+,D0
0000159A  4E75                     974              RTS
0000159C                           975  
0000159C                           976  ; -----------------------------------------------------------------------------
0000159C                           977  NEWPIPE
0000159C                           978  ; CREATES A NEW PIPE IN CASE IT'S NECESSARY.
0000159C                           979  ; INPUT     : NONE
0000159C                           980  ; OUTPUT    : NONE
0000159C                           981  ; MODIFIES  : NONE
0000159C                           982  ; -----------------------------------------------------------------------------
0000159C                           983  
0000159C  48E7 8070                984              MOVEM.L D0/A1-A3,-(A7)
000015A0                           985              
000015A0  1039 000026C5            986              MOVE.B  (SCRCYCCT),D0
000015A6  0200 003F                987              ANDI.B  #MASKNWPP,D0
000015AA  6600 001C                988              BNE     .GOUPD
000015AE  43F9 000016E6            989              LEA     PIPEINIT,A1
000015B4  45F9 000016FE            990              LEA     PIPEUPD,A2
000015BA  47F9 0000178C            991              LEA     PIPEPLOT,A3
000015C0  303C 0001                992              MOVE    #PIPEAGTP,D0
000015C4  4EB8 10C2                993              JSR     AGLADD
000015C8                           994              
000015C8  4CDF 0E01                995  .GOUPD      MOVEM.L (A7)+,D0/A1-A3
000015CC  4E75                     996              RTS
000015CE                           997  
000015CE                           998  ; -----------------------------------------------------------------------------
000015CE                           999  GAMEPLOT
000015CE                          1000  ; PLOTS THE GAME.
000015CE                          1001  ; INPUT     : NONE
000015CE                          1002  ; OUTPUT    : NONE
000015CE                          1003  ; MODIFIES  : NONE
000015CE                          1004  ; -----------------------------------------------------------------------------
000015CE                          1005              
000015CE  4EB9 00001902           1006              JSR     SCOPLOT
000015D4  4EB8 1100               1007              JSR     AGLPLOT
000015D8  6000 00CA               1008              BRA     BIRDPLOT
000015DC                          1009           
000015DC                          1010  
000015DC                          1011  
000015DC                          1012  
000015DC                          1013  
000015DC                          1014  
000015DC                          1015  
000015DC                          1016  
000015DC                          1017  
000015DC                          1018  
000015DC                          1019  
000015DC                          1020  
000015DC                          1021  
000015DC                          1022  -------------------- end include --------------------
000015DC                          1023              INCLUDE "PAUSE.X68"         ; PAUSE STATE MANAGEMENT
000015DC                          1024  ; =============================================================================
000015DC                          1025  ; PAUSE SCREEN MANAGEMENT
000015DC                          1026  ; =============================================================================
000015DC                          1027  
000015DC                          1028  ; ------------------------------------------------------------------------------
000015DC                          1029  PAUSINIT
000015DC                          1030  ; PAUSE SCREEN INIT
000015DC                          1031  ; INPUT    : NONE
000015DC                          1032  ; OUTPUT   : NONE
000015DC                          1033  ; MODIFIES : NONE
000015DC                          1034  ; ------------------------------------------------------------------------------
000015DC  1F00                    1035              MOVE.B  D0,-(A7)
000015DE  1039 000026BD           1036              MOVE.B  (KBDEDGE),D0
000015E4  C03C 0002               1037              AND.B   #2,D0
000015E8  6700 000A               1038              BEQ     .CONT
000015EC  33FC 0002 000026E6      1039              MOVE.W  #STAGAME,(STANEXT)   
000015F4                          1040     
000015F4  101F                    1041  .CONT       MOVE.B  (A7)+,D0
000015F6  4E75                    1042              RTS
000015F8                          1043  
000015F8                          1044  ; ------------------------------------------------------------------------------
000015F8                          1045  PAUSUPD
000015F8                          1046  ; PAUSE SCREEN UPDATE
000015F8                          1047  ; INPUT    : NONE
000015F8                          1048  ; OUTPUT   : NONE
000015F8                          1049  ; MODIFIES : NONE
000015F8                          1050  ; ------------------------------------------------------------------------------
000015F8                          1051          
000015F8  1F00                    1052              MOVE.B  D0,-(A7)
000015FA                          1053              
000015FA                          1054              ; CHECK IF KEY PRESSED TO RESUME GAME
000015FA  1039 000026BD           1055              MOVE.B  (KBDEDGE),D0
00001600  0800 0001               1056              BTST    #1,D0
00001604  6700 000A               1057              BEQ     .CONT
00001608  33FC 0002 000026E6      1058              MOVE.W  #STAGAME, (STANEXT)   
00001610                          1059              
00001610  101F                    1060  .CONT       MOVE.B  (A7)+,D0     
00001612  4E75                    1061              RTS
00001614                          1062  
00001614                          1063  ; ------------------------------------------------------------------------------
00001614                          1064  PAUSPLOT
00001614                          1065  ; PAUSE SCREEN PLOT
00001614                          1066  ; INPUT    : NONE
00001614                          1067  ; OUTPUT   : NONE
00001614                          1068  ; MODIFIES : NONE
00001614                          1069  ; ------------------------------------------------------------------------------
00001614  60B8                    1070              BRA     GAMEPLOT
00001616                          1071  
00001616                          1072  
00001616                          1073  
00001616                          1074  
00001616                          1075  
00001616                          1076  
00001616                          1077  
00001616                          1078  
00001616                          1079  
00001616                          1080  
00001616                          1081  
00001616                          1082  
00001616                          1083  -------------------- end include --------------------
00001616                          1084              INCLUDE "GOVER.X68"         ; GAME OVER STATE MANAGEMENT
00001616                          1085  ; =============================================================================
00001616                          1086  ; GAME OVER SCREEN MANAGEMENT
00001616                          1087  ; =============================================================================
00001616                          1088  
00001616                          1089  ; ------------------------------------------------------------------------------
00001616                          1090  GOVINIT
00001616                          1091  ; GAME OVER SCREEN INIT
00001616                          1092  ; INPUT    : NONE
00001616                          1093  ; OUTPUT   : NONE
00001616                          1094  ; MODIFIES : NONE
00001616                          1095  ; ------------------------------------------------------------------------------
00001616  6000 0350               1096              BRA     SCOSAVE
0000161A                          1097  
0000161A                          1098  ; ------------------------------------------------------------------------------
0000161A                          1099  GOVUPD
0000161A                          1100  ; GAME OVER SCREEN UPDATE
0000161A                          1101  ; INPUT    : NONE
0000161A                          1102  ; OUTPUT   : NONE
0000161A                          1103  ; MODIFIES : NONE
0000161A                          1104  ; ------------------------------------------------------------------------------
0000161A                          1105  
0000161A  3F00                    1106              MOVE.W  D0,-(A7)
0000161C                          1107  
0000161C  4EB9 000017EC           1108              JSR     BACKUPD
00001622  4EB8 10DC               1109              JSR     AGLUPD
00001626                          1110              ; CHECK IF KEY PRESSED
00001626  1039 000026BD           1111              MOVE.B  (KBDEDGE),D0
0000162C  6700 000A               1112              BEQ     .CONT
00001630  33FC 0000 000026E6      1113              MOVE.W  #STAINTRO,(STANEXT)   
00001638                          1114     
00001638  301F                    1115  .CONT       MOVE.W  (A7)+,D0
0000163A  4E75                    1116              RTS
0000163C                          1117  
0000163C                          1118  ; ------------------------------------------------------------------------------
0000163C                          1119  GOVPLOT
0000163C                          1120  ; GAME OVER SCREEN PLOT
0000163C                          1121  ; INPUT    : NONE
0000163C                          1122  ; OUTPUT   : NONE
0000163C                          1123  ; MODIFIES : NONE
0000163C                          1124  ; ------------------------------------------------------------------------------
0000163C  4EB8 15CE               1125              JSR GAMEPLOT
00001640  4E75                    1126              RTS
00001642                          1127  
00001642                          1128  
00001642                          1129  
00001642                          1130  
00001642                          1131  
00001642                          1132  
00001642                          1133  
00001642                          1134  
00001642                          1135  
00001642                          1136  
00001642                          1137  
00001642                          1138  -------------------- end include --------------------
00001642                          1139              INCLUDE "BIRD.X68"          ; PLAYER (BIRD) MANAGEMENT
00001642                          1140  ; =============================================================================
00001642                          1141  ; BIRD MANAGEMENT
00001642                          1142  ; =============================================================================
00001642                          1143  
00001642                          1144  ; -----------------------------------------------------------------------------
00001642                          1145  BIRDINIT
00001642                          1146  ; INITIALIZE BIRD.
00001642                          1147  ; INPUT     : NONE 
00001642                          1148  ; OUTPUT    : NONE
00001642                          1149  ; MODIFIES  : NONE
00001642                          1150  ; -----------------------------------------------------------------------------
00001642  33FC 00F0 000026D8      1151              MOVE.W  #SCRHEIGH/2,(BIRDPOSY)
0000164A  4279 000026DA           1152              CLR.W   BIRDVELY
00001650  4E75                    1153              RTS
00001652                          1154              
00001652                          1155  ; -----------------------------------------------------------------------------
00001652                          1156  BIRDUPD
00001652                          1157  ; UPDATES THE BIRD.
00001652                          1158  ; INPUT    : NONE 
00001652                          1159  ; OUTPUT   : NONE
00001652                          1160  ; MODIFIES : NONE
00001652                          1161  ; -----------------------------------------------------------------------------
00001652                          1162  
00001652  48E7 E000               1163              MOVEM.L D0-D2,-(A7)
00001656                          1164  
00001656                          1165              ; UPDATE VELOCITY
00001656  1439 000026BD           1166              MOVE.B  (KBDEDGE),D2        ; CHECK IF SHOULD JUMP
0000165C  0802 0000               1167              BTST    #0,D2
00001660  6700 0014               1168              BEQ     .NOJUMP
00001664                          1169              
00001664  1E3C 0001               1170              MOVE.B  #SNDJUMP,D7         ; PLAY SOUND
00001668  4E43                    1171              TRAP    #SNDPLTN
0000166A  33FC FFF6 000026DA      1172              MOVE.W  #JUMPVELY,(BIRDVELY)
00001672  6000 0008               1173              BRA     .CORDUPD
00001676                          1174              
00001676  5279 000026DA           1175  .NOJUMP     ADDQ.W  #1,BIRDVELY          ; ACCELERATE
0000167C                          1176              
0000167C                          1177              ; UPDATE BIRD COORDINATES
0000167C  3039 000026D8           1178  .CORDUPD    MOVE.W  (BIRDPOSY),D0
00001682  D079 000026DA           1179              ADD.W   (BIRDVELY),D0
00001688                          1180              
00001688                          1181              ; CHECK SCREEN COLLISIONS
00001688  B07C 0195               1182              CMP.W   #SCRHEIGH-FLOHEIGH-BIRDRAD,D0
0000168C  6D00 000A               1183              BLT     .NOCOL
00001690                          1184          
00001690                          1185              ; COLLISION BOT
00001690  33FC 0004 000026E6      1186  .COLBOT     MOVE.W  #STAGOVER,(STANEXT)
00001698                          1187              
00001698                          1188              ; STORE POSITION
00001698  33C0 000026D8           1189  .NOCOL      MOVE.W  D0,(BIRDPOSY)
0000169E                          1190  
0000169E  4CDF 0007               1191  .DONE       MOVEM.L (A7)+,D0-D2
000016A2                          1192              
000016A2  4E75                    1193              RTS
000016A4                          1194  
000016A4                          1195  ; -----------------------------------------------------------------------------
000016A4                          1196  BIRDPLOT
000016A4                          1197  ; PLOT THE BIRD.
000016A4                          1198  ; INPUT    : NONE 
000016A4                          1199  ; OUTPUT   : NONE
000016A4                          1200  ; MODIFIES : NONE
000016A4                          1201  ; -----------------------------------------------------------------------------
000016A4                          1202  
000016A4  48E7 F800               1203              MOVEM.L D0-D4,-(A7)
000016A8                          1204  
000016A8                          1205              ; SET PEN COLOR
000016A8  103C 0050               1206              MOVE.B  #80,D0
000016AC  4281                    1207              CLR.L   D1
000016AE  3239 000026DC           1208              MOVE.W  (BIRDPCOL),D1
000016B4  4E4F                    1209              TRAP    #15
000016B6                          1210              
000016B6                          1211              ; SET FILL COLOR
000016B6  103C 0051               1212              MOVE.B  #81,D0
000016BA  3239 000026DE           1213              MOVE.W  (BIRDFCOL),D1
000016C0  4E4F                    1214              TRAP    #15
000016C2                          1215  
000016C2                          1216              ; DEFINE COORDINATES
000016C2  323C 0091               1217              MOVE.W  #(BIRDPOSX)-BIRDRAD,D1
000016C6  363C 00AF               1218              MOVE.W  #(BIRDPOSX)+BIRDRAD,D3
000016CA  3439 000026D8           1219              MOVE.W  (BIRDPOSY),D2
000016D0  3802                    1220              MOVE.W  D2,D4
000016D2  0442 000F               1221              SUB.W  #BIRDRAD,D2
000016D6  0644 000F               1222              ADD.W  #BIRDRAD,D4
000016DA                          1223              
000016DA                          1224              ; DRAW CIRCLE
000016DA  103C 0058               1225              MOVE.B  #88,D0
000016DE  4E4F                    1226              TRAP    #15
000016E0                          1227              
000016E0  4CDF 001F               1228              MOVEM.L (A7)+,D0-D4
000016E4                          1229  
000016E4  4E75                    1230              RTS
000016E6                          1231  
000016E6                          1232  
000016E6                          1233  
000016E6                          1234  
000016E6                          1235  
000016E6                          1236  
000016E6                          1237  
000016E6                          1238  
000016E6                          1239  
000016E6                          1240  
000016E6                          1241  
000016E6                          1242  
000016E6                          1243  
000016E6                          1244  -------------------- end include --------------------
000016E6                          1245              INCLUDE "PIPE.X68"          ; OBSTACLE (PIPE) MANAGEMENT
000016E6                          1246  ; =============================================================================
000016E6                          1247  ; PIPE MANAGEMENT (AGENT)
000016E6                          1248  ; PIPEPOSX (W) (A0)
000016E6                          1249  ; PIPETOPH (B) 2(A0)
000016E6                          1250  ; =============================================================================
000016E6                          1251  
000016E6                          1252  ; -----------------------------------------------------------------------------
000016E6                          1253  PIPEINIT
000016E6                          1254  ; INITIALIZE PIPE.
000016E6                          1255  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
000016E6                          1256  ; OUTPUT    : NONE
000016E6                          1257  ; MODIFIES  : NONE
000016E6                          1258  ; -----------------------------------------------------------------------------
000016E6                          1259  
000016E6  2F00                    1260              MOVE.L  D0,-(A7)
000016E8                          1261              
000016E8  30BC 0280               1262              MOVE.W  #SCRWIDTH,(A0)
000016EC  4EB8 118E               1263              JSR UTLRAND         ; RANDOM NUMBER BETWEEN 0-255
000016F0  0680 00000096           1264              ADD.L   #(SCRHEIGH-PIPEGAPS-FLOHEIGH)/2,D0
000016F6  1140 0002               1265              MOVE.B  D0,2(A0)
000016FA                          1266              
000016FA  201F                    1267              MOVE.L  (A7)+,D0
000016FC  4E75                    1268              RTS
000016FE                          1269              
000016FE                          1270  ; -----------------------------------------------------------------------------
000016FE                          1271  PIPEUPD
000016FE                          1272  ; UPDATES PIPE.
000016FE                          1273  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
000016FE                          1274  ; OUTPUT    : NONE
000016FE                          1275  ; MODIFIES  : NONE
000016FE                          1276  ; -----------------------------------------------------------------------------
000016FE  48E7 C000               1277              MOVEM.L D0-D1,-(A7)
00001702                          1278              
00001702  3039 000026E4           1279              MOVE.W  (STACUR),D0
00001708  B07C 0002               1280              CMP.W   #STAGAME,D0
0000170C  6600 0078               1281              BNE     .END
00001710                          1282  
00001710                          1283              ; UPDATE POSITION
00001710  0650 FFFB               1284              ADD.W   #PIPEVELX,(A0)
00001714                          1285  
00001714                          1286  ; CHECK AND HANDLE COLLISIONS
00001714                          1287              
00001714                          1288              ; COLLISION WITH SCREEN
00001714  3010                    1289              MOVE.W  (A0),D0
00001716  0640 0032               1290              ADD.W   #PIPEWIDT,D0
0000171A  6A00 000A               1291              BPL     .NOKILL
0000171E  4EB8 10AC               1292              JSR AGLKILL
00001722  6000 0062               1293              BRA     .END
00001726                          1294              
00001726                          1295              ; COLLISION WITH BIRD
00001726  B07C 00E1               1296  .NOKILL     CMP.W   #BIRDPOSX+BIRDRAD+PIPEWIDT,D0
0000172A  6A00 004C               1297              BPL     .NOCOL
0000172E  B07C 0091               1298              CMP.W   #BIRDPOSX-BIRDRAD,D0
00001732  6B00 0044               1299              BMI     .NOCOL
00001736                          1300  
00001736                          1301              
00001736                          1302              ; BIRD IS IN PIPE X RANGE
00001736  4280                    1303              CLR.L   D0
00001738  1028 0002               1304              MOVE.B  2(A0),D0
0000173C  3239 000026D8           1305              MOVE.W  (BIRDPOSY),D1
00001742  0441 000F               1306              SUB.W   #BIRDRAD,D1
00001746  B041                    1307              CMP.W   D1,D0
00001748  6A00 0014               1308              BPL     .COL
0000174C  0640 0078               1309              ADD.W   #PIPEGAPS,D0
00001750  0641 001E               1310              ADD.W   #2*BIRDRAD,D1
00001754  B041                    1311              CMP.W   D1,D0
00001756  6B00 0006               1312              BMI     .COL
0000175A                          1313  
0000175A  6000 001C               1314              BRA     .NOCOL
0000175E                          1315  
0000175E                          1316              ; STOP ALL SOUNDS
0000175E  103C 004C               1317  .COL        MOVE.B  #76,D0
00001762  7403                    1318              MOVE.L  #3,D2
00001764  4E4F                    1319              TRAP    #15
00001766                          1320              
00001766  1E3C 0000               1321              MOVE.B  #SNDDIE,D7  ; PLAY DIE SOUND
0000176A  4E43                    1322              TRAP    #SNDPLTN
0000176C                          1323              
0000176C  33FC 0004 000026E6      1324              MOVE.W  #STAGOVER,(STANEXT)
00001774                          1325              
00001774  6000 0010               1326              BRA     .END
00001778                          1327  
00001778                          1328              ; SCORE INCREASE
00001778  0C50 005F               1329  .NOCOL      CMP.W   #BIRDPOSX-PIPEWIDT-BIRDRAD,(A0)
0000177C  6600 0008               1330              BNE     .END
00001780  4EB9 000018E4           1331              JSR     SCOINC
00001786                          1332              
00001786  4CDF 0003               1333  .END        MOVEM.L  (A7)+,D0-D1
0000178A  4E75                    1334              RTS
0000178C                          1335  
0000178C                          1336  ; -----------------------------------------------------------------------------
0000178C                          1337  PIPEPLOT
0000178C                          1338  ; PLOT THE PIPE.
0000178C                          1339  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
0000178C                          1340  ; OUTPUT    : NONE
0000178C                          1341  ; MODIFIES  : NONE
0000178C                          1342  ; -----------------------------------------------------------------------------
0000178C                          1343      
0000178C  48E7 F800               1344              MOVEM.L D0-D4,-(A7)
00001790                          1345              
00001790                          1346              ; SET PEN AND FILL COLORS
00001790  103C 0050               1347              MOVE.B  #80,D0
00001794  223C 000C0C0C           1348              MOVE.L  #PIPEPCOL,D1
0000179A  4E4F                    1349              TRAP    #15
0000179C  103C 0051               1350              MOVE.B  #81,D0
000017A0  223C 00616161           1351              MOVE.L  #PIPEFCOL,D1
000017A6  4E4F                    1352              TRAP    #15
000017A8                          1353              
000017A8                          1354              ; PLOT TOP HALF
000017A8  3210                    1355              MOVE.W  (A0),D1
000017AA  4242                    1356              CLR.W   D2
000017AC  3601                    1357              MOVE.W  D1,D3
000017AE  0643 0032               1358              ADD.W   #PIPEWIDT,D3
000017B2  4244                    1359              CLR.W   D4
000017B4  1828 0002               1360              MOVE.B  2(A0),D4
000017B8  103C 0057               1361              MOVE.B  #87,D0
000017BC  4E4F                    1362              TRAP    #15
000017BE                          1363              ; PLOT TOP PIPE OPENING
000017BE  3404                    1364              MOVE.W  D4,D2
000017C0  0442 000F               1365              SUB.W   #PPOPHEIG,D2
000017C4  5B41                    1366              SUB.W   #PPOPOVER,D1
000017C6  5A43                    1367              ADD.W   #PPOPOVER,D3
000017C8  4E4F                    1368              TRAP    #15
000017CA                          1369              
000017CA                          1370              
000017CA                          1371              ; PLOT BOTTOM HALF
000017CA  5A41                    1372              ADD.W   #PPOPOVER,D1
000017CC  5B43                    1373              SUB.W   #PPOPOVER,D3
000017CE  3404                    1374              MOVE.W  D4,D2
000017D0  0642 0078               1375              ADD.W   #PIPEGAPS,D2
000017D4  383C 01A4               1376              MOVE.W  #SCRHEIGH-FLOHEIGH,D4
000017D8  4E4F                    1377              TRAP    #15
000017DA                          1378              ;PLOT BOTTOM PIPE OPNENING
000017DA  5B41                    1379              SUB.W   #PPOPOVER,D1
000017DC  5A43                    1380              ADD.W   #PPOPOVER,D3
000017DE  3802                    1381              MOVE.W  D2,D4
000017E0  0644 000F               1382              ADD.W   #PPOPHEIG,D4
000017E4  4E4F                    1383              TRAP    #15
000017E6                          1384              
000017E6  4CDF 001F               1385              MOVEM.L (A7)+,D0-D4
000017EA  4E75                    1386              RTS
000017EC                          1387  
000017EC                          1388  
000017EC                          1389  
000017EC                          1390  
000017EC                          1391  
000017EC                          1392  
000017EC                          1393  
000017EC                          1394  
000017EC                          1395  
000017EC                          1396  
000017EC                          1397  
000017EC                          1398  
000017EC                          1399  
000017EC                          1400  -------------------- end include --------------------
000017EC                          1401              INCLUDE "BACKGROUND.X68"    ; BACKGROUND MANAGEMENT
000017EC                          1402  ; =============================================================================
000017EC                          1403  ; BACKGROUND MANAGEMENT
000017EC                          1404  ; =============================================================================
000017EC                          1405  
000017EC                          1406  ; -----------------------------------------------------------------------------
000017EC                          1407  BACKUPD
000017EC                          1408  ; UPDATES BACKGROUND
000017EC                          1409  ; INPUT     : NONE
000017EC                          1410  ; OUTPUT    : NONE
000017EC                          1411  ; MODIFIES  : NONE
000017EC                          1412  ; -----------------------------------------------------------------------------
000017EC                          1413              
000017EC  48E7 8070               1414              MOVEM.L D0/A1-A3,-(A7)
000017F0                          1415              
000017F0                          1416              ; CREATE NEW CLOUD
000017F0  1039 000026C5           1417              MOVE.B  (SCRCYCCT),D0
000017F6  0200 007F               1418              ANDI.B  #MASKNWCL,D0
000017FA  6600 001C               1419              BNE     .NONEWCL
000017FE  43F9 000019AE           1420              LEA     CLDINIT,A1
00001804  45F9 000019D2           1421              LEA     CLDUPD,A2
0000180A  47F9 00001A00           1422              LEA     CLDPLOT,A3
00001810  303C 0004               1423              MOVE    #CLOUDAGT,D0
00001814  4EB8 10C2               1424              JSR     AGLADD
00001818                          1425              
00001818  4CDF 0E01               1426  .NONEWCL    MOVEM.L (A7)+,D0/A1-A3
0000181C  4E75                    1427              RTS
0000181E                          1428  
0000181E                          1429  ; -----------------------------------------------------------------------------
0000181E                          1430  BACKPLOT
0000181E                          1431  ; DRAWS BACKGROUND
0000181E                          1432  ; INPUT     : NONE
0000181E                          1433  ; OUTPUT    : NONE
0000181E                          1434  ; MODIFIES  : NONE
0000181E                          1435  ; -----------------------------------------------------------------------------
0000181E                          1436  
0000181E  4EB9 00001828           1437              JSR SKYPLOT
00001824  6000 0030               1438              BRA FLOPLOT
00001828                          1439              
00001828                          1440  ; -----------------------------------------------------------------------------
00001828                          1441  SKYPLOT
00001828                          1442  ; DRAWS THE SKY BACKGROUND
00001828                          1443  ; INPUT     : NONE
00001828                          1444  ; OUTPUT    : NONE
00001828                          1445  ; MODIFIES  : NONE
00001828                          1446  ; -----------------------------------------------------------------------------
00001828                          1447              
00001828  48E7 F800               1448              MOVEM.L D0-D4,-(A7)
0000182C                          1449              ; SET PEN COLOR
0000182C  223C 00FFBF80           1450              MOVE.L  #SKYCOLOR,D1
00001832  103C 0050               1451              MOVE.B  #80,D0
00001836  4E4F                    1452              TRAP    #15
00001838                          1453              
00001838                          1454              ; SET FILL COLOR
00001838  103C 0051               1455              MOVE.B  #81,D0
0000183C  4E4F                    1456              TRAP    #15
0000183E                          1457              
0000183E                          1458              ; SET COORDS AND DRAW
0000183E  103C 0057               1459              MOVE.B  #87,D0
00001842  4241                    1460              CLR.W   D1
00001844  4242                    1461              CLR.W   D2
00001846  363C 0280               1462              MOVE.W  #SCRWIDTH,D3
0000184A  383C 01E0               1463              MOVE.W  #SCRHEIGH,D4
0000184E  4E4F                    1464              TRAP    #15
00001850                          1465              
00001850  4CDF 001F               1466              MOVEM.L (A7)+,D0-D4
00001854  4E75                    1467              RTS
00001856                          1468              
00001856                          1469  ; -----------------------------------------------------------------------------
00001856                          1470  FLOPLOT
00001856                          1471  ; DRAWS THE FLOOR BACKGROUND
00001856                          1472  ; INPUT     : NONE
00001856                          1473  ; OUTPUT    : NONE
00001856                          1474  ; MODIFIES  : NONE
00001856                          1475  ; -----------------------------------------------------------------------------
00001856                          1476  
00001856  48E7 F800               1477              MOVEM.L D0-D4,-(A7)
0000185A                          1478              
0000185A                          1479              ; DRAW GRASS
0000185A  4281                    1480              CLR.L   D1                      ; SET PEN COLOR
0000185C  103C 0050               1481              MOVE.B  #80,D0
00001860  4E4F                    1482              TRAP    #15
00001862  223C 0035DE3B           1483              MOVE.L  #GRASSCLR,D1            ; SET FILL COLOR
00001868  103C 0051               1484              MOVE.B  #81,D0                  
0000186C  4E4F                    1485              TRAP    #15
0000186E  103C 0057               1486              MOVE.B  #87,D0                  ; SET COORDS AND DRAW
00001872  72FF                    1487              MOVE.L  #-1,D1
00001874  343C 01A4               1488              MOVE.W  #SCRHEIGH-FLOHEIGH,D2
00001878  363C 0280               1489              MOVE.W  #SCRWIDTH,D3
0000187C  383C 01B3               1490              MOVE.W  #SCRHEIGH-DIRTHEIG,D4
00001880  4E4F                    1491              TRAP    #15
00001882                          1492              
00001882                          1493              ; DRAW DIRT
00001882  223C 00306284           1494              MOVE.L  #DIRTCLR,D1             ; SET PEN COLOR
00001888  103C 0050               1495              MOVE.B  #80,D0
0000188C  4E4F                    1496              TRAP    #15
0000188E  223C 00306284           1497              MOVE.L  #DIRTCLR,D1             ; SET FILL COLOR
00001894  103C 0051               1498              MOVE.B  #81,D0                  
00001898  4E4F                    1499              TRAP    #15
0000189A  103C 0057               1500              MOVE.B  #87,D0
0000189E  4241                    1501              CLR.W   D1
000018A0  3404                    1502              MOVE.W  D4,D2
000018A2  383C 01E0               1503              MOVE.W  #SCRHEIGH,D4
000018A6  4E4F                    1504              TRAP    #15
000018A8                          1505              
000018A8  4CDF 001F               1506              MOVEM.L (A7)+,D0-D4
000018AC  4E75                    1507              RTS
000018AE                          1508  
000018AE                          1509  
000018AE                          1510  
000018AE                          1511  
000018AE                          1512  -------------------- end include --------------------
000018AE                          1513              INCLUDE "SCORE.X68"         ; SCORE MANAGEMENT
000018AE                          1514  ; =============================================================================
000018AE                          1515  ; SCOREBOARD MANAGEMENT
000018AE                          1516  ; =============================================================================
000018AE                          1517  
000018AE                          1518  ; ------------------------------------------------------------------------------
000018AE                          1519  SCOINIT
000018AE                          1520  ; INITIALIZE SCOREBOARD
000018AE                          1521  ; INPUT    : NONE 
000018AE                          1522  ; OUTPUT   : NONE
000018AE                          1523  ; MODIFIES : NONE
000018AE                          1524  ; ------------------------------------------------------------------------------
000018AE                          1525  
000018AE  48E7 E0C0               1526              MOVEM.L D0-D2/A0-A1,-(A7)
000018B2  4279 000026E0           1527              CLR.W   (SCORE)
000018B8  4279 000026E2           1528              CLR.W   (HIGHSCO)
000018BE                          1529              
000018BE                          1530              ; OPEN FILE
000018BE  43F9 000026C8           1531              LEA     SCOPATH,A1
000018C4  103C 0033               1532              MOVE.B  #51,D0
000018C8  4E4F                    1533              TRAP    #15
000018CA                          1534              
000018CA                          1535              ; READ HIGH SCORE
000018CA  43F9 000026E2           1536              LEA     HIGHSCO,A1
000018D0  7402                    1537              MOVE.L  #2,D2
000018D2  103C 0035               1538              MOVE.B  #53,D0
000018D6  4E4F                    1539              TRAP    #15
000018D8                          1540              
000018D8                          1541              ; CLOSE FILE
000018D8  103C 0038               1542              MOVE.B  #56,D0
000018DC  4E4F                    1543              TRAP    #15
000018DE                          1544              
000018DE  4CDF 0307               1545              MOVEM.L (A7)+,D0-D2/A0-A1
000018E2  4E75                    1546              RTS
000018E4                          1547              
000018E4                          1548  ; -----------------------------------------------------------------------------
000018E4                          1549  SCOINC
000018E4                          1550  ; INCREASES THE SCORE BY 1
000018E4                          1551  ; INPUT     : NONE
000018E4                          1552  ; OUTPUT    : SCORE = SCORE + 1
000018E4                          1553  ; MODIFIES  : NONE (APART FROM OUTPUT)
000018E4                          1554  ; -----------------------------------------------------------------------------
000018E4  48E7 A100               1555              MOVEM.L D0/D2/D7,-(A7)
000018E8                          1556  
000018E8  5279 000026E0           1557              ADDQ.W  #1,(SCORE)
000018EE                          1558              ; STOP ALL SOUNDS
000018EE  103C 004C               1559              MOVE.B  #76,D0
000018F2  7403                    1560              MOVE.L  #3,D2
000018F4  4E4F                    1561              TRAP    #15
000018F6                          1562              
000018F6                          1563              ; PLAY SOUND
000018F6  1E3C 0002               1564              MOVE.B  #SNDSCO,D7
000018FA  4E43                    1565              TRAP    #SNDPLTN
000018FC                          1566              
000018FC  4CDF 0085               1567              MOVEM.L (A7)+,D0/D2/D7
00001900  4E75                    1568              RTS
00001902                          1569              
00001902                          1570  ; ------------------------------------------------------------------------------
00001902                          1571  SCOPLOT
00001902                          1572  ; PLOT THE SCOREBOARD
00001902                          1573  ; INPUT    : NONE 
00001902                          1574  ; OUTPUT   : NONE
00001902                          1575  ; MODIFIES : NONE
00001902                          1576  ; ------------------------------------------------------------------------------
00001902                          1577  
00001902  48E7 C040               1578              MOVEM.L D0-D1/A1,-(A7)
00001906                          1579  
00001906                          1580              ; SET BACKGROUND COLOR
00001906  103C 0051               1581              MOVE.B  #81,D0
0000190A  223C 00306284           1582              MOVE.L  #SCOFCOL,D1
00001910  4E4F                    1583              TRAP    #15
00001912                          1584              
00001912                          1585              ; SET SCORE LINE POSITION
00001912  103C 000B               1586              MOVE.B  #11,D0
00001916  323C 1017               1587              MOVE.W  #SCOLINE,D1
0000191A  4E4F                    1588              TRAP    #15
0000191C                          1589              
0000191C                          1590              ; PLOT THE SCORE
0000191C  43F9 00001954           1591              LEA     .SCOTXT,A1
00001922  4281                    1592              CLR.L   D1
00001924  3239 000026E0           1593              MOVE.W  (SCORE),D1
0000192A  103C 0011               1594              MOVE.B  #17,D0
0000192E  4E4F                    1595              TRAP    #15
00001930                          1596              
00001930                          1597              ; SET HIGH SCORE LINE POSITION
00001930  103C 000B               1598              MOVE.B  #11,D0
00001934  323C 1018               1599              MOVE.W  #HSCOLINE,D1
00001938  4E4F                    1600              TRAP    #15
0000193A                          1601              
0000193A                          1602              ; PLOT THE HIGHSCORE
0000193A  43F9 0000195C           1603              LEA     .HISCOTXT,A1
00001940  4281                    1604              CLR.L   D1
00001942  3239 000026E2           1605              MOVE.W  (HIGHSCO),D1
00001948  103C 0011               1606              MOVE.B  #17,D0
0000194C  4E4F                    1607              TRAP    #15
0000194E                          1608              
0000194E  4CDF 0203               1609              MOVEM.L (A7)+,D0-D1/A1
00001952  4E75                    1610              RTS
00001954                          1611              
00001954= 53 43 4F 52 45 3A ...   1612  .SCOTXT     DC.B    'SCORE: ',0
0000195C= 48 49 47 48 53 43 ...   1613  .HISCOTXT   DC.B    'HIGHSCORE: ',0
00001968                          1614  
00001968                          1615  ; ------------------------------------------------------------------------------
00001968                          1616  SCOSAVE
00001968                          1617  ; SAVES THE HIGH SCORE
00001968                          1618  ; INPUT    : NONE 
00001968                          1619  ; OUTPUT   : NONE
00001968                          1620  ; MODIFIES : NONE
00001968                          1621  ; ------------------------------------------------------------------------------
00001968                          1622  
00001968  48E7 E0C0               1623              MOVEM.L A0-A1/D0-D2,-(A7)
0000196C                          1624              ; IF ACTUAL SCORE > HIGH SCORE
0000196C  3039 000026E0           1625              MOVE.W  (SCORE),D0
00001972  3239 000026E2           1626              MOVE.W  (HIGHSCO),D1
00001978  B240                    1627              CMP.W   D0,D1
0000197A  6C00 002C               1628              BGE     .END
0000197E                          1629              
0000197E                          1630              ; OPEN FILE
0000197E  43F9 000026C8           1631              LEA     SCOPATH,A1
00001984  103C 0033               1632              MOVE.B  #51,D0
00001988  4E4F                    1633              TRAP    #15
0000198A                          1634              
0000198A                          1635              ; SAVE NEW HIGH SCORE
0000198A  33F9 000026E0 000026E2  1636              MOVE.W  (SCORE),(HIGHSCO)
00001994  43F9 000026E2           1637              LEA     HIGHSCO,A1
0000199A  7402                    1638              MOVE.L  #2,D2
0000199C  103C 0036               1639              MOVE.B  #54,D0
000019A0  4E4F                    1640              TRAP    #15
000019A2                          1641              
000019A2                          1642              ; CLOSE FILE
000019A2  103C 0038               1643              MOVE.B  #56,D0
000019A6  4E4F                    1644              TRAP    #15
000019A8                          1645              
000019A8                          1646              
000019A8  4CDF 0307               1647  .END        MOVEM.L (A7)+,A0-A1/D0-D2
000019AC  4E75                    1648              RTS
000019AE                          1649  
000019AE                          1650  
000019AE                          1651  
000019AE                          1652  
000019AE                          1653  
000019AE                          1654  -------------------- end include --------------------
000019AE                          1655              INCLUDE "CLOUD.X68"         ; CLOUD MANAGEMENT
000019AE                          1656  ; =============================================================================
000019AE                          1657  ; CLOUD MANAGEMENT (AGENT)
000019AE                          1658  ; CLOUDPOSX  (W) (A0)
000019AE                          1659  ; CLOUDPOSY  (W) 2(A0)
000019AE                          1660  ; CLOUDSPEED (W) 4(A0)
000019AE                          1661  ; CLOUDTYPE  (W) 6(A0)
000019AE                          1662  ; =============================================================================
000019AE                          1663  
000019AE                          1664  ; -----------------------------------------------------------------------------
000019AE                          1665  CLDINIT
000019AE                          1666  ; INITIALIZE CLOUD.
000019AE                          1667  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
000019AE                          1668  ; OUTPUT    : NONE
000019AE                          1669  ; MODIFIES  : NONE
000019AE                          1670  ; -----------------------------------------------------------------------------
000019AE                          1671  
000019AE  2F00                    1672              MOVE.L  D0,-(A7)
000019B0                          1673  
000019B0                          1674              ; INIT POSITION
000019B0  30BC 0280               1675              MOVE.W  #SCRWIDTH,(A0)
000019B4  4EB8 118E               1676              JSR UTLRAND             ; RANDOM NUMBER BETWEEN 0-255
000019B8  3140 0002               1677              MOVE.W  D0,2(A0)
000019BC                          1678              ; INIT CLOUD TYPE
000019BC  C03C 0007               1679              AND.B   #7,D0
000019C0  3140 0006               1680              MOVE.W  D0,6(A0)
000019C4                          1681              ; INIT SPEED
000019C4  82BC FFFFFFFC           1682              OR.L    #CLDSPMSK,D1
000019CA  3141 0004               1683              MOVE.W  D1,4(A0)
000019CE                          1684              
000019CE  201F                    1685              MOVE.L (A7)+,D0
000019D0  4E75                    1686              RTS
000019D2                          1687  
000019D2                          1688  ; -----------------------------------------------------------------------------
000019D2                          1689  CLDUPD
000019D2                          1690  ; UPDATES CLOUD.
000019D2                          1691  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
000019D2                          1692  ; OUTPUT    : NONE
000019D2                          1693  ; MODIFIES  : NONE
000019D2                          1694  ; -----------------------------------------------------------------------------
000019D2                          1695              
000019D2  48E7 8040               1696              MOVEM.L D0/A1,-(A7)
000019D6                          1697              
000019D6                          1698              ; UPDATE POSITION
000019D6  3028 0004               1699              MOVE.W  4(A0),D0
000019DA  D050                    1700              ADD.W   (A0),D0
000019DC  3080                    1701              MOVE.W  D0,(A0)
000019DE                          1702              
000019DE                          1703  ; CHECK AND HANDLE COLISION
000019DE                          1704              ; SELECT CLOUD WIDTH
000019DE  3028 0006               1705              MOVE.W  6(A0),D0
000019E2  E558                    1706              ROL.W   #2,D0           ; TIMES 4 TIMES SINCE WE ACCESS LONG
000019E4  43F9 00001A28           1707              LEA     CLDTBL,A1
000019EA  2271 0000               1708              MOVE.L  (A1,D0.W),A1
000019EE  3011                    1709              MOVE.W  (A1),D0
000019F0                          1710              
000019F0  D050                    1711              ADD.W   (A0),D0
000019F2  6E00 0006               1712              BGT     .NOKILL
000019F6  4EB8 10AC               1713              JSR AGLKILL             ; KILL AGENT
000019FA                          1714              
000019FA  4CDF 0201               1715  .NOKILL     MOVEM.L (A7)+,D0/A1       
000019FE  4E75                    1716              RTS
00001A00                          1717  
00001A00                          1718  ; -----------------------------------------------------------------------------
00001A00                          1719  CLDPLOT
00001A00                          1720  ; PLOTS CLOUD.
00001A00                          1721  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
00001A00                          1722  ; OUTPUT    : NONE
00001A00                          1723  ; MODIFIES  : NONE
00001A00                          1724  ; -----------------------------------------------------------------------------
00001A00                          1725              
00001A00  48E7 B140               1726              MOVEM.L D0/D2-D3/D7/A1,-(A7)
00001A04                          1727              
00001A04                          1728              ; SELECT THE CLOUD TYPE
00001A04  3028 0006               1729              MOVE.W  6(A0),D0
00001A08  E558                    1730              ROL.W   #2,D0           ; TIMES 4 TIMES SINCE WE ACCESS LONG
00001A0A  43F9 00001A28           1731              LEA     CLDTBL,A1
00001A10  2271 0000               1732              MOVE.L  (A1,D0.W),A1
00001A14                          1733              
00001A14                          1734              ; PLOT IMAGE
00001A14  3E19                    1735              MOVE.W  (A1)+,D7        ; ASSUME CLOUDX IS RIGHT NEXT TO CLOUDXW
00001A16  3428 0002               1736              MOVE.W  2(A0),D2
00001A1A  3610                    1737              MOVE.W  (A0),D3
00001A1C  4EB9 00001A48           1738              JSR     IMGPLOT
00001A22                          1739              
00001A22  4CDF 028D               1740              MOVEM.L (A7)+,D0/D2-D3/D7/A1
00001A26  4E75                    1741              RTS
00001A28                          1742                
00001A28= 00001A96                1743  CLDTBL      DC.L    CLOUD0W
00001A2C= 00001BDC                1744              DC.L    CLOUD1W
00001A30= 00001D1A                1745              DC.L    CLOUD2W
00001A34= 00001FA0                1746              DC.L    CLOUD3W
00001A38= 00002036                1747              DC.L    CLOUD4W
00001A3C= 0000223C                1748              DC.L    CLOUD5W
00001A40= 000023BA                1749              DC.L    CLOUD6W
00001A44= 000024E0                1750              DC.L    CLOUD7W
00001A48                          1751  
00001A48                          1752  
00001A48                          1753  
00001A48                          1754  -------------------- end include --------------------
00001A48                          1755              INCLUDE "IMAGE.X68"         ; IMAGE DRAWING ROUTINES
00001A48                          1756  ; =============================================================================
00001A48                          1757  ; IMAGE LIBRARY. IT CONTAINS ROUTINES TO DRAW IMAGES. EVERY IMAGE DATA SHOULD 
00001A48                          1758  ; HAVE N LONG PAIRS, THE FIRST OF THE PAIR MEANS THE COLOR OF A BLOCK IN 
00001A48                          1759  ; FORMAT $00BBGGRR AND THE SECOND IS THE AMMOUNT OF BLOCKS IN A ROW WITH 
00001A48                          1760  ; THE SAME COLOR.
00001A48                          1761  ; EVERY IMAGE DATA IS ENDING WITH THE FLAG $FFFFFFFF
00001A48                          1762  ; =============================================================================
00001A48                          1763  
00001A48                          1764  ; -----------------------------------------------------------------------------
00001A48                          1765  IMGPLOT
00001A48                          1766  ; PLOTS AN IMAGE IN THE GIVEN COORDINATES
00001A48                          1767  ; INPUT:    A1 POINTER TO IMAGE DATA
00001A48                          1768  ;           D2.W Y START
00001A48                          1769  ;           D3.W X START
00001A48                          1770  ;           D7.W IMAGE WIDTH
00001A48                          1771  ; NOTE : WON'T USE IMAGE HEIGHT TO MANAGE IMAGE END, AS WE ASSUME IMAGE DATA
00001A48                          1772  ;        IS ENDING WITH THE FLAG $FFFFFFFF
00001A48                          1773  ; -----------------------------------------------------------------------------
00001A48                          1774  
00001A48  48E7 FF40               1775              MOVEM.L A1/D0-D7,-(A7)
00001A4C                          1776              
00001A4C  33C3 00001A94           1777              MOVE.W  D3,(.STARTX)  ; STORE STARTING X
00001A52  3A03                    1778              MOVE.W  D3,D5   
00001A54  DA47                    1779              ADD.W   D7,D5       ; X ENDING COORD
00001A56                          1780              
00001A56                          1781              
00001A56                          1782              ; SET PEN AND FILL COLOR
00001A56  2219                    1783              MOVE.L  (A1)+,D1
00001A58  103C 0050               1784  .LOOP1      MOVE.B  #80,D0
00001A5C  4E4F                    1785              TRAP    #15
00001A5E  5200                    1786              ADDQ.B  #1,D0
00001A60  4E4F                    1787              TRAP    #15
00001A62                          1788              
00001A62                          1789              ; DRAW BLOCK
00001A62  2C19                    1790              MOVE.L  (A1)+,D6
00001A64  5386                    1791              SUBQ.L  #1,D6            
00001A66  3203                    1792  .LOOP2      MOVE.W  D3,D1       ; BLOCK START X
00001A68  5843                    1793              ADDQ.W  #BLOCKSZ,D3 ; BLOCK END X
00001A6A  3802                    1794              MOVE.W  D2,D4       
00001A6C  5844                    1795              ADDQ.W  #BLOCKSZ,D4 ; BLOCK END Y
00001A6E  103C 0057               1796              MOVE.B  #87,D0
00001A72  4E4F                    1797              TRAP    #15
00001A74                          1798              
00001A74  BA43                    1799              CMP.W   D3,D5
00001A76  6C00 000A               1800              BGE     .SAMEROW
00001A7A                          1801              ; MOVE TO NEXT ROW
00001A7A  3639 00001A94           1802              MOVE.W  (.STARTX),D3
00001A80  5842                    1803              ADDQ.W  #BLOCKSZ,D2
00001A82  51CE FFE2               1804  .SAMEROW    DBRA    D6,.LOOP2
00001A86                          1805              
00001A86  2219                    1806              MOVE.L  (A1)+,D1
00001A88  B27C FFFF               1807              CMP.W   #.ENDFLAG,D1
00001A8C  66CA                    1808              BNE     .LOOP1
00001A8E                          1809              
00001A8E                          1810              
00001A8E  4CDF 02FF               1811              MOVEM.L (A7)+,A1/D0-D7
00001A92  4E75                    1812              RTS
00001A94                          1813         
00001A94  =FFFFFFFF               1814  .ENDFLAG    EQU     $FFFFFFFF
00001A94                          1815  
00001A94                          1816  .STARTX     DS.W    1
00001A96                          1817  
00001A96                          1818  
00001A96                          1819  
00001A96                          1820  
00001A96                          1821  
00001A96                          1822  
00001A96                          1823  
00001A96                          1824  -------------------- end include --------------------
00001A96                          1825              
00001A96                          1826  ; --- DATA INCLUDES -----------------------------------------------------------
00001A96                          1827  
00001A96                          1828              INCLUDE "DATA/CLOUDSDATA.X68"    ; CLOUD IMAGES DATA
00001A96                          1829  ; =============================================================================
00001A96                          1830  ; THIS FILE HAS BEEN GENERATED BY CLOUDSCONVERTER.JAVA FROM CLOUD IMAGES.
00001A96                          1831  ; TO IMPROVE PERFORMANCE, EACH BLOCK ACTS LIKE A PIXEL, BUT IT'S ACTUALLY A 
00001A96                          1832  ;4x4 SQUARE. IMAGES ARE ADDAPTED TO IMAGE.X68 DRAWING.
00001A96                          1833  ; =============================================================================
00001A96                          1834  
00001A96                          1835  
00001A96                          1836  ; -----------------------------------------------------------------------------
00001A96                          1837  ; EVERY CLOUD DATA STORES:
00001A96                          1838  ; ONE WORD TO STORE THE CLOUD WIDTH IN BLOCKS.
00001A96                          1839  ; TWO LONGS PAIRS STORING A COLOR AND THE AMMOUNT OF BLOCKS WITH THE SAME COLOR
00001A96                          1840  ; IN A ROW.
00001A96                          1841  ; EVERY IMAGE ENDS WITH A FLAG $FFFFFFFF
00001A96                          1842  ; -----------------------------------------------------------------------------
00001A96                          1843  
00001A96= 0070                    1844  CLOUD0W     DC.W    112
00001A98                          1845  CLOUD0
00001A98= 00FFBF80 0000002C       1846              DC.L    $00FFBF80,44
00001AA0= 00FEFDFB 00000008       1847              DC.L    $00FEFDFB,8
00001AA8= 00DCDCDC 00000001       1848              DC.L    $00DCDCDC,1
00001AB0= 00FFBF80 00000012       1849              DC.L    $00FFBF80,18
00001AB8= 00FEFDFB 0000000B       1850              DC.L    $00FEFDFB,11
00001AC0= 00FFBF80 00000010       1851              DC.L    $00FFBF80,16
00001AC8= 00FEFDFB 0000000D       1852              DC.L    $00FEFDFB,13
00001AD0= 00FFBF80 00000007       1853              DC.L    $00FFBF80,7
00001AD8= 00DCDCDC 00000001       1854              DC.L    $00DCDCDC,1
00001AE0= 00FEFDFB 00000005       1855              DC.L    $00FEFDFB,5
00001AE8= 00FFBF80 00000001       1856              DC.L    $00FFBF80,1
00001AF0= 00DCDCDC 00000001       1857              DC.L    $00DCDCDC,1
00001AF8= 00FEFDFB 0000000D       1858              DC.L    $00FEFDFB,13
00001B00= 00DCDCDC 00000001       1859              DC.L    $00DCDCDC,1
00001B08= 00FFBF80 00000005       1860              DC.L    $00FFBF80,5
00001B10= 00FEFDFB 00000016       1861              DC.L    $00FEFDFB,22
00001B18= 00DCDCDC 00000001       1862              DC.L    $00DCDCDC,1
00001B20= 00FFBF80 00000005       1863              DC.L    $00FFBF80,5
00001B28= 00FEFDFB 00000002       1864              DC.L    $00FEFDFB,2
00001B30= 00DCDCDC 00000001       1865              DC.L    $00DCDCDC,1
00001B38= 00FEFDFB 00000013       1866              DC.L    $00FEFDFB,19
00001B40= 00DCDCDC 00000001       1867              DC.L    $00DCDCDC,1
00001B48= 00FFBF80 00000004       1868              DC.L    $00FFBF80,4
00001B50= 00FEFDFB 00000017       1869              DC.L    $00FEFDFB,23
00001B58= 00FFBF80 00000002       1870              DC.L    $00FFBF80,2
00001B60= 00DCDCDC 00000001       1871              DC.L    $00DCDCDC,1
00001B68= 00FEFDFB 00000016       1872              DC.L    $00FEFDFB,22
00001B70= 00DCDCDC 00000001       1873              DC.L    $00DCDCDC,1
00001B78= 00FEFDFB 00000002       1874              DC.L    $00FEFDFB,2
00001B80= 00FFBF80 00000002       1875              DC.L    $00FFBF80,2
00001B88= 00DCDCDC 00000001       1876              DC.L    $00DCDCDC,1
00001B90= 00FEFDFB 00000001       1877              DC.L    $00FEFDFB,1
00001B98= 00DCDCDC 00000001       1878              DC.L    $00DCDCDC,1
00001BA0= 00FEFDFB 00000008       1879              DC.L    $00FEFDFB,8
00001BA8= 00DCDCDC 00000002       1880              DC.L    $00DCDCDC,2
00001BB0= 00FEFDFB 00000009       1881              DC.L    $00FEFDFB,9
00001BB8= 00DCDCDC 00000004       1882              DC.L    $00DCDCDC,4
00001BC0= 00FFBF80 00000003       1883              DC.L    $00FFBF80,3
00001BC8= 00DCDCDC 00000018       1884              DC.L    $00DCDCDC,24
00001BD0= 00FFBF80 0000001E       1885              DC.L    $00FFBF80,30
00001BD8= FFFFFFFF                1886              DC.L    $FFFFFFFF
00001BDC                          1887  
00001BDC                          1888  
00001BDC= 0060                    1889  CLOUD1W     DC.W    96
00001BDE                          1890  CLOUD1
00001BDE= 00FFBF80 00000020       1891              DC.L    $00FFBF80,32
00001BE6= 00DCDCDC 00000001       1892              DC.L    $00DCDCDC,1
00001BEE= 00FEFDFB 00000006       1893              DC.L    $00FEFDFB,6
00001BF6= 00FFBF80 0000000F       1894              DC.L    $00FFBF80,15
00001BFE= 00DCDCDC 00000001       1895              DC.L    $00DCDCDC,1
00001C06= 00FEFDFB 00000009       1896              DC.L    $00FEFDFB,9
00001C0E= 00FFBF80 0000000E       1897              DC.L    $00FFBF80,14
00001C16= 00FEFDFB 00000007       1898              DC.L    $00FEFDFB,7
00001C1E= 00DCDCDC 00000002       1899              DC.L    $00DCDCDC,2
00001C26= 00FEFDFB 00000001       1900              DC.L    $00FEFDFB,1
00001C2E= 00DCDCDC 00000001       1901              DC.L    $00DCDCDC,1
00001C36= 00FFBF80 0000000C       1902              DC.L    $00FFBF80,12
00001C3E= 00DCDCDC 00000001       1903              DC.L    $00DCDCDC,1
00001C46= 00FEFDFB 00000009       1904              DC.L    $00FEFDFB,9
00001C4E= 00DCDCDC 00000001       1905              DC.L    $00DCDCDC,1
00001C56= 00FEFDFB 00000001       1906              DC.L    $00FEFDFB,1
00001C5E= 00DCDCDC 00000001       1907              DC.L    $00DCDCDC,1
00001C66= 00FEFDFB 00000001       1908              DC.L    $00FEFDFB,1
00001C6E= 00FFBF80 0000000A       1909              DC.L    $00FFBF80,10
00001C76= 00DCDCDC 00000001       1910              DC.L    $00DCDCDC,1
00001C7E= 00FEFDFB 0000000E       1911              DC.L    $00FEFDFB,14
00001C86= 00FFBF80 00000006       1912              DC.L    $00FFBF80,6
00001C8E= 00FEFDFB 00000012       1913              DC.L    $00FEFDFB,18
00001C96= 00DCDCDC 00000001       1914              DC.L    $00DCDCDC,1
00001C9E= 00FFBF80 00000004       1915              DC.L    $00FFBF80,4
00001CA6= 00DCDCDC 00000001       1916              DC.L    $00DCDCDC,1
00001CAE= 00FEFDFB 0000000E       1917              DC.L    $00FEFDFB,14
00001CB6= 00DCDCDC 00000002       1918              DC.L    $00DCDCDC,2
00001CBE= 00FEFDFB 00000004       1919              DC.L    $00FEFDFB,4
00001CC6= 00DCDCDC 00000001       1920              DC.L    $00DCDCDC,1
00001CCE= 00FFBF80 00000002       1921              DC.L    $00FFBF80,2
00001CD6= 00DCDCDC 00000002       1922              DC.L    $00DCDCDC,2
00001CDE= 00FEFDFB 00000001       1923              DC.L    $00FEFDFB,1
00001CE6= 00DCDCDC 00000003       1924              DC.L    $00DCDCDC,3
00001CEE= 00FEFDFB 00000008       1925              DC.L    $00FEFDFB,8
00001CF6= 00DCDCDC 00000005       1926              DC.L    $00DCDCDC,5
00001CFE= 00FEFDFB 00000001       1927              DC.L    $00FEFDFB,1
00001D06= 00DCDCDC 00000002       1928              DC.L    $00DCDCDC,2
00001D0E= 00FFBF80 00000019       1929              DC.L    $00FFBF80,25
00001D16= FFFFFFFF                1930              DC.L    $FFFFFFFF
00001D1A                          1931  
00001D1A                          1932  
00001D1A= 00C6                    1933  CLOUD2W     DC.W    198
00001D1C                          1934  CLOUD2
00001D1C= 00FFBF80 00000014       1935              DC.L    $00FFBF80,20
00001D24= 00DCDCDC 00000004       1936              DC.L    $00DCDCDC,4
00001D2C= 00FFBF80 0000002B       1937              DC.L    $00FFBF80,43
00001D34= 00DCDCDC 00000001       1938              DC.L    $00DCDCDC,1
00001D3C= 00FEFDFB 00000008       1939              DC.L    $00FEFDFB,8
00001D44= 00FFBF80 00000028       1940              DC.L    $00FFBF80,40
00001D4C= 00FEFDFB 0000000B       1941              DC.L    $00FEFDFB,11
00001D54= 00FFBF80 00000026       1942              DC.L    $00FFBF80,38
00001D5C= 00FEFDFB 0000000C       1943              DC.L    $00FEFDFB,12
00001D64= 00FFBF80 00000026       1944              DC.L    $00FFBF80,38
00001D6C= 00FEFDFB 0000000C       1945              DC.L    $00FEFDFB,12
00001D74= 00FFBF80 00000026       1946              DC.L    $00FFBF80,38
00001D7C= 00FEFDFB 0000000C       1947              DC.L    $00FEFDFB,12
00001D84= 00FFBF80 00000021       1948              DC.L    $00FFBF80,33
00001D8C= 00DCDCDC 00000001       1949              DC.L    $00DCDCDC,1
00001D94= 00FEFDFB 00000003       1950              DC.L    $00FEFDFB,3
00001D9C= 00DCDCDC 00000001       1951              DC.L    $00DCDCDC,1
00001DA4= 00FEFDFB 0000000B       1952              DC.L    $00FEFDFB,11
00001DAC= 00DCDCDC 00000002       1953              DC.L    $00DCDCDC,2
00001DB4= 00FEFDFB 00000003       1954              DC.L    $00FEFDFB,3
00001DBC= 00FFBF80 0000001C       1955              DC.L    $00FFBF80,28
00001DC4= 00DCDCDC 00000001       1956              DC.L    $00DCDCDC,1
00001DCC= 00FEFDFB 00000005       1957              DC.L    $00FEFDFB,5
00001DD4= 00DCDCDC 00000001       1958              DC.L    $00DCDCDC,1
00001DDC= 00FEFDFB 0000000F       1959              DC.L    $00FEFDFB,15
00001DE4= 00DCDCDC 00000001       1960              DC.L    $00DCDCDC,1
00001DEC= 00FFBF80 00000001       1961              DC.L    $00FFBF80,1
00001DF4= 00FEFDFB 00000001       1962              DC.L    $00FEFDFB,1
00001DFC= 00DCDCDC 00000001       1963              DC.L    $00DCDCDC,1
00001E04= 00FFBF80 00000006       1964              DC.L    $00FFBF80,6
00001E0C= 00DCDCDC 00000003       1965              DC.L    $00DCDCDC,3
00001E14= 00FFBF80 0000000F       1966              DC.L    $00FFBF80,15
00001E1C= 00FEFDFB 0000001C       1967              DC.L    $00FEFDFB,28
00001E24= 00FFBF80 00000003       1968              DC.L    $00FFBF80,3
00001E2C= 00FEFDFB 00000004       1969              DC.L    $00FEFDFB,4
00001E34= 00FFBF80 0000000F       1970              DC.L    $00FFBF80,15
00001E3C= 00DCDCDC 00000001       1971              DC.L    $00DCDCDC,1
00001E44= 00FEFDFB 0000000C       1972              DC.L    $00FEFDFB,12
00001E4C= 00DCDCDC 00000002       1973              DC.L    $00DCDCDC,2
00001E54= 00FEFDFB 0000000D       1974              DC.L    $00FEFDFB,13
00001E5C= 00FFBF80 00000002       1975              DC.L    $00FFBF80,2
00001E64= 00DCDCDC 00000001       1976              DC.L    $00DCDCDC,1
00001E6C= 00FEFDFB 00000004       1977              DC.L    $00FEFDFB,4
00001E74= 00FFBF80 00000007       1978              DC.L    $00FFBF80,7
00001E7C= 00DCDCDC 00000003       1979              DC.L    $00DCDCDC,3
00001E84= 00FFBF80 00000004       1980              DC.L    $00FFBF80,4
00001E8C= 00DCDCDC 00000002       1981              DC.L    $00DCDCDC,2
00001E94= 00FEFDFB 0000001A       1982              DC.L    $00FEFDFB,26
00001E9C= 00DCDCDC 00000002       1983              DC.L    $00DCDCDC,2
00001EA4= 00FFBF80 00000002       1984              DC.L    $00FFBF80,2
00001EAC= 00FEFDFB 00000004       1985              DC.L    $00FEFDFB,4
00001EB4= 00FFBF80 00000003       1986              DC.L    $00FFBF80,3
00001EBC= 00DCDCDC 00000001       1987              DC.L    $00DCDCDC,1
00001EC4= 00FFBF80 00000003       1988              DC.L    $00FFBF80,3
00001ECC= 00FEFDFB 00000003       1989              DC.L    $00FEFDFB,3
00001ED4= 00DCDCDC 00000001       1990              DC.L    $00DCDCDC,1
00001EDC= 00FFBF80 00000003       1991              DC.L    $00FFBF80,3
00001EE4= 00DCDCDC 00000003       1992              DC.L    $00DCDCDC,3
00001EEC= 00FEFDFB 00000015       1993              DC.L    $00FEFDFB,21
00001EF4= 00DCDCDC 00000006       1994              DC.L    $00DCDCDC,6
00001EFC= 00FFBF80 00000002       1995              DC.L    $00FFBF80,2
00001F04= 00FEFDFB 00000004       1996              DC.L    $00FEFDFB,4
00001F0C= 00FFBF80 00000002       1997              DC.L    $00FFBF80,2
00001F14= 00FEFDFB 00000002       1998              DC.L    $00FEFDFB,2
00001F1C= 00DCDCDC 00000001       1999              DC.L    $00DCDCDC,1
00001F24= 00FFBF80 00000001       2000              DC.L    $00FFBF80,1
00001F2C= 00DCDCDC 00000001       2001              DC.L    $00DCDCDC,1
00001F34= 00FEFDFB 00000004       2002              DC.L    $00FEFDFB,4
00001F3C= 00FFBF80 00000004       2003              DC.L    $00FFBF80,4
00001F44= 00DCDCDC 00000008       2004              DC.L    $00DCDCDC,8
00001F4C= 00FEFDFB 00000008       2005              DC.L    $00FEFDFB,8
00001F54= 00DCDCDC 0000000C       2006              DC.L    $00DCDCDC,12
00001F5C= 00FFBF80 00000003       2007              DC.L    $00FFBF80,3
00001F64= 00DCDCDC 00000003       2008              DC.L    $00DCDCDC,3
00001F6C= 00FFBF80 00000008       2009              DC.L    $00FFBF80,8
00001F74= 00DCDCDC 00000001       2010              DC.L    $00DCDCDC,1
00001F7C= 00FEFDFB 00000002       2011              DC.L    $00FEFDFB,2
00001F84= 00FFBF80 00000005       2012              DC.L    $00FFBF80,5
00001F8C= 00DCDCDC 0000001B       2013              DC.L    $00DCDCDC,27
00001F94= 00FFBF80 00000040       2014              DC.L    $00FFBF80,64
00001F9C= FFFFFFFF                2015              DC.L    $FFFFFFFF
00001FA0                          2016  
00001FA0                          2017  
00001FA0= 0031                    2018  CLOUD3W     DC.W    49
00001FA2                          2019  CLOUD3
00001FA2= 00FFBF80 00000011       2020              DC.L    $00FFBF80,17
00001FAA= 00DCDCDC 00000001       2021              DC.L    $00DCDCDC,1
00001FB2= 00FEFDFB 00000003       2022              DC.L    $00FEFDFB,3
00001FBA= 00FFBF80 00000009       2023              DC.L    $00FFBF80,9
00001FC2= 00FEFDFB 00000004       2024              DC.L    $00FEFDFB,4
00001FCA= 00DCDCDC 00000001       2025              DC.L    $00DCDCDC,1
00001FD2= 00FFBF80 00000006       2026              DC.L    $00FFBF80,6
00001FDA= 00FEFDFB 00000001       2027              DC.L    $00FEFDFB,1
00001FE2= 00DCDCDC 00000001       2028              DC.L    $00DCDCDC,1
00001FEA= 00FEFDFB 00000006       2029              DC.L    $00FEFDFB,6
00001FF2= 00DCDCDC 00000001       2030              DC.L    $00DCDCDC,1
00001FFA= 00FFBF80 00000003       2031              DC.L    $00FFBF80,3
00002002= 00FEFDFB 0000000A       2032              DC.L    $00FEFDFB,10
0000200A= 00FFBF80 00000003       2033              DC.L    $00FFBF80,3
00002012= 00DCDCDC 00000001       2034              DC.L    $00DCDCDC,1
0000201A= 00FEFDFB 00000008       2035              DC.L    $00FEFDFB,8
00002022= 00DCDCDC 00000001       2036              DC.L    $00DCDCDC,1
0000202A= 00FFBF80 0000001C       2037              DC.L    $00FFBF80,28
00002032= FFFFFFFF                2038              DC.L    $FFFFFFFF
00002036                          2039  
00002036                          2040  
00002036= 00AF                    2041  CLOUD4W     DC.W    175
00002038                          2042  CLOUD4
00002038= 00FFBF80 0000003B       2043              DC.L    $00FFBF80,59
00002040= 00DCDCDC 00000001       2044              DC.L    $00DCDCDC,1
00002048= 00FEFDFB 00000006       2045              DC.L    $00FEFDFB,6
00002050= 00FFBF80 00000024       2046              DC.L    $00FFBF80,36
00002058= 00FEFDFB 00000009       2047              DC.L    $00FEFDFB,9
00002060= 00DCDCDC 00000001       2048              DC.L    $00DCDCDC,1
00002068= 00FFBF80 00000021       2049              DC.L    $00FFBF80,33
00002070= 00FEFDFB 0000000C       2050              DC.L    $00FEFDFB,12
00002078= 00FFBF80 0000001F       2051              DC.L    $00FFBF80,31
00002080= 00DCDCDC 00000001       2052              DC.L    $00DCDCDC,1
00002088= 00FEFDFB 00000005       2053              DC.L    $00FEFDFB,5
00002090= 00DCDCDC 00000001       2054              DC.L    $00DCDCDC,1
00002098= 00FEFDFB 00000006       2055              DC.L    $00FEFDFB,6
000020A0= 00DCDCDC 00000001       2056              DC.L    $00DCDCDC,1
000020A8= 00FFBF80 0000001E       2057              DC.L    $00FFBF80,30
000020B0= 00FEFDFB 0000000E       2058              DC.L    $00FEFDFB,14
000020B8= 00FFBF80 0000001E       2059              DC.L    $00FFBF80,30
000020C0= 00DCDCDC 00000001       2060              DC.L    $00DCDCDC,1
000020C8= 00FEFDFB 0000000D       2061              DC.L    $00FEFDFB,13
000020D0= 00FFBF80 00000019       2062              DC.L    $00FFBF80,25
000020D8= 00FEFDFB 00000004       2063              DC.L    $00FEFDFB,4
000020E0= 00DCDCDC 00000003       2064              DC.L    $00DCDCDC,3
000020E8= 00FEFDFB 0000000B       2065              DC.L    $00FEFDFB,11
000020F0= 00DCDCDC 00000001       2066              DC.L    $00DCDCDC,1
000020F8= 00FEFDFB 00000002       2067              DC.L    $00FEFDFB,2
00002100= 00FFBF80 00000016       2068              DC.L    $00FFBF80,22
00002108= 00FEFDFB 00000017       2069              DC.L    $00FEFDFB,23
00002110= 00FFBF80 0000000A       2070              DC.L    $00FFBF80,10
00002118= 00DCDCDC 00000002       2071              DC.L    $00DCDCDC,2
00002120= 00FFBF80 00000008       2072              DC.L    $00FFBF80,8
00002128= 00FEFDFB 00000018       2073              DC.L    $00FEFDFB,24
00002130= 00DCDCDC 00000001       2074              DC.L    $00DCDCDC,1
00002138= 00FFBF80 00000008       2075              DC.L    $00FFBF80,8
00002140= 00FEFDFB 00000005       2076              DC.L    $00FEFDFB,5
00002148= 00FFBF80 00000006       2077              DC.L    $00FFBF80,6
00002150= 00FEFDFB 00000010       2078              DC.L    $00FEFDFB,16
00002158= 00DCDCDC 00000001       2079              DC.L    $00DCDCDC,1
00002160= 00FEFDFB 00000006       2080              DC.L    $00FEFDFB,6
00002168= 00DCDCDC 00000002       2081              DC.L    $00DCDCDC,2
00002170= 00FFBF80 00000008       2082              DC.L    $00FFBF80,8
00002178= 00FEFDFB 00000005       2083              DC.L    $00FEFDFB,5
00002180= 00FFBF80 00000003       2084              DC.L    $00FFBF80,3
00002188= 00DCDCDC 00000005       2085              DC.L    $00DCDCDC,5
00002190= 00FEFDFB 0000000D       2086              DC.L    $00FEFDFB,13
00002198= 00DCDCDC 00000001       2087              DC.L    $00DCDCDC,1
000021A0= 00FEFDFB 00000006       2088              DC.L    $00FEFDFB,6
000021A8= 00DCDCDC 00000007       2089              DC.L    $00DCDCDC,7
000021B0= 00FFBF80 00000004       2090              DC.L    $00FFBF80,4
000021B8= 00DCDCDC 00000001       2091              DC.L    $00DCDCDC,1
000021C0= 00FEFDFB 00000003       2092              DC.L    $00FEFDFB,3
000021C8= 00DCDCDC 00000001       2093              DC.L    $00DCDCDC,1
000021D0= 00FFBF80 00000002       2094              DC.L    $00FFBF80,2
000021D8= 00DCDCDC 00000009       2095              DC.L    $00DCDCDC,9
000021E0= 00FEFDFB 0000000A       2096              DC.L    $00FEFDFB,10
000021E8= 00DCDCDC 00000002       2097              DC.L    $00DCDCDC,2
000021F0= 00FEFDFB 00000003       2098              DC.L    $00FEFDFB,3
000021F8= 00DCDCDC 0000000A       2099              DC.L    $00DCDCDC,10
00002200= 00FFBF80 00000003       2100              DC.L    $00FFBF80,3
00002208= 00DCDCDC 00000002       2101              DC.L    $00DCDCDC,2
00002210= 00FEFDFB 00000001       2102              DC.L    $00FEFDFB,1
00002218= 00DCDCDC 00000002       2103              DC.L    $00DCDCDC,2
00002220= 00FFBF80 00000002       2104              DC.L    $00FFBF80,2
00002228= 00DCDCDC 00000022       2105              DC.L    $00DCDCDC,34
00002230= 00FFBF80 00000035       2106              DC.L    $00FFBF80,53
00002238= FFFFFFFF                2107              DC.L    $FFFFFFFF
0000223C                          2108  
0000223C                          2109  
0000223C= 0089                    2110  CLOUD5W     DC.W    137
0000223E                          2111  CLOUD5
0000223E= 00FFBF80 0000002F       2112              DC.L    $00FFBF80,47
00002246= 00FEFDFB 00000008       2113              DC.L    $00FEFDFB,8
0000224E= 00DCDCDC 00000001       2114              DC.L    $00DCDCDC,1
00002256= 00FFBF80 00000019       2115              DC.L    $00FFBF80,25
0000225E= 00FEFDFB 0000000A       2116              DC.L    $00FEFDFB,10
00002266= 00DCDCDC 00000001       2117              DC.L    $00DCDCDC,1
0000226E= 00FFBF80 00000018       2118              DC.L    $00FFBF80,24
00002276= 00FEFDFB 0000000B       2119              DC.L    $00FEFDFB,11
0000227E= 00FFBF80 00000017       2120              DC.L    $00FFBF80,23
00002286= 00FEFDFB 00000009       2121              DC.L    $00FEFDFB,9
0000228E= 00DCDCDC 00000001       2122              DC.L    $00DCDCDC,1
00002296= 00FEFDFB 00000002       2123              DC.L    $00FEFDFB,2
0000229E= 00FFBF80 00000001       2124              DC.L    $00FFBF80,1
000022A6= 00FEFDFB 00000003       2125              DC.L    $00FEFDFB,3
000022AE= 00FFBF80 00000010       2126              DC.L    $00FFBF80,16
000022B6= 00DCDCDC 00000001       2127              DC.L    $00DCDCDC,1
000022BE= 00FEFDFB 0000000E       2128              DC.L    $00FEFDFB,14
000022C6= 00DCDCDC 00000001       2129              DC.L    $00DCDCDC,1
000022CE= 00FEFDFB 00000004       2130              DC.L    $00FEFDFB,4
000022D6= 00DCDCDC 00000001       2131              DC.L    $00DCDCDC,1
000022DE= 00FFBF80 0000000E       2132              DC.L    $00FFBF80,14
000022E6= 00FEFDFB 00000004       2133              DC.L    $00FEFDFB,4
000022EE= 00DCDCDC 00000001       2134              DC.L    $00DCDCDC,1
000022F6= 00FEFDFB 00000009       2135              DC.L    $00FEFDFB,9
000022FE= 00DCDCDC 00000001       2136              DC.L    $00DCDCDC,1
00002306= 00FEFDFB 00000006       2137              DC.L    $00FEFDFB,6
0000230E= 00FFBF80 0000000D       2138              DC.L    $00FFBF80,13
00002316= 00FEFDFB 00000016       2139              DC.L    $00FEFDFB,22
0000231E= 00DCDCDC 00000001       2140              DC.L    $00DCDCDC,1
00002326= 00FEFDFB 00000001       2141              DC.L    $00FEFDFB,1
0000232E= 00FFBF80 0000000B       2142              DC.L    $00FFBF80,11
00002336= 00DCDCDC 00000001       2143              DC.L    $00DCDCDC,1
0000233E= 00FEFDFB 00000002       2144              DC.L    $00FEFDFB,2
00002346= 00DCDCDC 00000001       2145              DC.L    $00DCDCDC,1
0000234E= 00FEFDFB 00000015       2146              DC.L    $00FEFDFB,21
00002356= 00DCDCDC 00000001       2147              DC.L    $00DCDCDC,1
0000235E= 00FFBF80 00000006       2148              DC.L    $00FFBF80,6
00002366= 00DCDCDC 00000001       2149              DC.L    $00DCDCDC,1
0000236E= 00FEFDFB 00000004       2150              DC.L    $00FEFDFB,4
00002376= 00DCDCDC 00000003       2151              DC.L    $00DCDCDC,3
0000237E= 00FEFDFB 0000000F       2152              DC.L    $00FEFDFB,15
00002386= 00DCDCDC 00000001       2153              DC.L    $00DCDCDC,1
0000238E= 00FEFDFB 00000004       2154              DC.L    $00FEFDFB,4
00002396= 00DCDCDC 00000001       2155              DC.L    $00DCDCDC,1
0000239E= 00FFBF80 00000004       2156              DC.L    $00FFBF80,4
000023A6= 00DCDCDC 00000020       2157              DC.L    $00DCDCDC,32
000023AE= 00FFBF80 00000025       2158              DC.L    $00FFBF80,37
000023B6= FFFFFFFF                2159              DC.L    $FFFFFFFF
000023BA                          2160  
000023BA                          2161  
000023BA= 005D                    2162  CLOUD6W     DC.W    93
000023BC                          2163  CLOUD6
000023BC= 00FFBF80 0000001E       2164              DC.L    $00FFBF80,30
000023C4= 00DCDCDC 00000001       2165              DC.L    $00DCDCDC,1
000023CC= 00FEFDFB 00000004       2166              DC.L    $00FEFDFB,4
000023D4= 00DCDCDC 00000001       2167              DC.L    $00DCDCDC,1
000023DC= 00FFBF80 00000011       2168              DC.L    $00FFBF80,17
000023E4= 00FEFDFB 00000007       2169              DC.L    $00FEFDFB,7
000023EC= 00DCDCDC 00000001       2170              DC.L    $00DCDCDC,1
000023F4= 00FFBF80 00000002       2171              DC.L    $00FFBF80,2
000023FC= 00DCDCDC 00000002       2172              DC.L    $00DCDCDC,2
00002404= 00FFBF80 0000000C       2173              DC.L    $00FFBF80,12
0000240C= 00FEFDFB 00000007       2174              DC.L    $00FEFDFB,7
00002414= 00DCDCDC 00000002       2175              DC.L    $00DCDCDC,2
0000241C= 00FEFDFB 00000005       2176              DC.L    $00FEFDFB,5
00002424= 00FFBF80 00000009       2177              DC.L    $00FFBF80,9
0000242C= 00FEFDFB 00000007       2178              DC.L    $00FEFDFB,7
00002434= 00DCDCDC 00000001       2179              DC.L    $00DCDCDC,1
0000243C= 00FEFDFB 00000007       2180              DC.L    $00FEFDFB,7
00002444= 00FFBF80 00000009       2181              DC.L    $00FFBF80,9
0000244C= 00FEFDFB 00000009       2182              DC.L    $00FEFDFB,9
00002454= 00DCDCDC 00000001       2183              DC.L    $00DCDCDC,1
0000245C= 00FEFDFB 00000005       2184              DC.L    $00FEFDFB,5
00002464= 00FFBF80 00000008       2185              DC.L    $00FFBF80,8
0000246C= 00FEFDFB 00000010       2186              DC.L    $00FEFDFB,16
00002474= 00FFBF80 00000007       2187              DC.L    $00FFBF80,7
0000247C= 00DCDCDC 00000001       2188              DC.L    $00DCDCDC,1
00002484= 00FEFDFB 00000010       2189              DC.L    $00FEFDFB,16
0000248C= 00DCDCDC 00000003       2190              DC.L    $00DCDCDC,3
00002494= 00FFBF80 00000003       2191              DC.L    $00FFBF80,3
0000249C= 00DCDCDC 00000004       2192              DC.L    $00DCDCDC,4
000024A4= 00FEFDFB 0000000B       2193              DC.L    $00FEFDFB,11
000024AC= 00DCDCDC 00000006       2194              DC.L    $00DCDCDC,6
000024B4= 00FFBF80 00000003       2195              DC.L    $00FFBF80,3
000024BC= 00DCDCDC 00000007       2196              DC.L    $00DCDCDC,7
000024C4= 00FEFDFB 00000006       2197              DC.L    $00FEFDFB,6
000024CC= 00DCDCDC 00000007       2198              DC.L    $00DCDCDC,7
000024D4= 00FFBF80 0000001B       2199              DC.L    $00FFBF80,27
000024DC= FFFFFFFF                2200              DC.L    $FFFFFFFF
000024E0                          2201  
000024E0                          2202  
000024E0= 0077                    2203  CLOUD7W     DC.W    119
000024E2                          2204  CLOUD7
000024E2= 00FFBF80 00000028       2205              DC.L    $00FFBF80,40
000024EA= 00DCDCDC 00000002       2206              DC.L    $00DCDCDC,2
000024F2= 00FEFDFB 00000004       2207              DC.L    $00FEFDFB,4
000024FA= 00DCDCDC 00000001       2208              DC.L    $00DCDCDC,1
00002502= 00FFBF80 00000016       2209              DC.L    $00FFBF80,22
0000250A= 00FEFDFB 00000006       2210              DC.L    $00FEFDFB,6
00002512= 00DCDCDC 00000001       2211              DC.L    $00DCDCDC,1
0000251A= 00FEFDFB 00000002       2212              DC.L    $00FEFDFB,2
00002522= 00FFBF80 00000003       2213              DC.L    $00FFBF80,3
0000252A= 00FEFDFB 00000004       2214              DC.L    $00FEFDFB,4
00002532= 00FFBF80 0000000A       2215              DC.L    $00FFBF80,10
0000253A= 00FEFDFB 00000002       2216              DC.L    $00FEFDFB,2
00002542= 00FFBF80 00000002       2217              DC.L    $00FFBF80,2
0000254A= 00FEFDFB 00000009       2218              DC.L    $00FEFDFB,9
00002552= 00DCDCDC 00000002       2219              DC.L    $00DCDCDC,2
0000255A= 00FEFDFB 00000006       2220              DC.L    $00FEFDFB,6
00002562= 00DCDCDC 00000001       2221              DC.L    $00DCDCDC,1
0000256A= 00FFBF80 00000007       2222              DC.L    $00FFBF80,7
00002572= 00FEFDFB 00000004       2223              DC.L    $00FEFDFB,4
0000257A= 00DCDCDC 00000001       2224              DC.L    $00DCDCDC,1
00002582= 00FEFDFB 00000012       2225              DC.L    $00FEFDFB,18
0000258A= 00FFBF80 00000006       2226              DC.L    $00FFBF80,6
00002592= 00DCDCDC 00000001       2227              DC.L    $00DCDCDC,1
0000259A= 00FEFDFB 00000004       2228              DC.L    $00FEFDFB,4
000025A2= 00DCDCDC 00000001       2229              DC.L    $00DCDCDC,1
000025AA= 00FEFDFB 00000008       2230              DC.L    $00FEFDFB,8
000025B2= 00DCDCDC 00000002       2231              DC.L    $00DCDCDC,2
000025BA= 00FEFDFB 00000008       2232              DC.L    $00FEFDFB,8
000025C2= 00FFBF80 00000006       2233              DC.L    $00FFBF80,6
000025CA= 00FEFDFB 00000011       2234              DC.L    $00FEFDFB,17
000025D2= 00DCDCDC 00000001       2235              DC.L    $00DCDCDC,1
000025DA= 00FEFDFB 00000006       2236              DC.L    $00FEFDFB,6
000025E2= 00DCDCDC 00000001       2237              DC.L    $00DCDCDC,1
000025EA= 00FFBF80 00000004       2238              DC.L    $00FFBF80,4
000025F2= 00DCDCDC 00000001       2239              DC.L    $00DCDCDC,1
000025FA= 00FEFDFB 00000011       2240              DC.L    $00FEFDFB,17
00002602= 00DCDCDC 00000001       2241              DC.L    $00DCDCDC,1
0000260A= 00FEFDFB 00000005       2242              DC.L    $00FEFDFB,5
00002612= 00DCDCDC 00000002       2243              DC.L    $00DCDCDC,2
0000261A= 00FFBF80 00000003       2244              DC.L    $00FFBF80,3
00002622= 00DCDCDC 00000004       2245              DC.L    $00DCDCDC,4
0000262A= 00FEFDFB 0000000C       2246              DC.L    $00FEFDFB,12
00002632= 00DCDCDC 00000004       2247              DC.L    $00DCDCDC,4
0000263A= 00FEFDFB 00000004       2248              DC.L    $00FEFDFB,4
00002642= 00DCDCDC 00000004       2249              DC.L    $00DCDCDC,4
0000264A= 00FFBF80 00000002       2250              DC.L    $00FFBF80,2
00002652= 00DCDCDC 00000007       2251              DC.L    $00DCDCDC,7
0000265A= 00FEFDFB 00000006       2252              DC.L    $00FEFDFB,6
00002662= 00DCDCDC 0000000F       2253              DC.L    $00DCDCDC,15
0000266A= 00FFBF80 00000003       2254              DC.L    $00FFBF80,3
00002672= 00DCDCDC 00000019       2255              DC.L    $00DCDCDC,25
0000267A= 00FFBF80 00000021       2256              DC.L    $00FFBF80,33
00002682= FFFFFFFF                2257              DC.L    $FFFFFFFF
00002686                          2258  
00002686                          2259  
00002686                          2260  -------------------- end include --------------------
00002686                          2261              
00002686                          2262  
00002686                          2263  START
00002686                          2264  
00002686                          2265  ; --- INITIALIZATION ----------------------------------------------------------
00002686                          2266  
00002686  007C 0700               2267              ORI.W   #$0700,SR
0000268A  4EB8 12AC               2268              JSR     SYSINIT
0000268E  4EB8 1146               2269              JSR     UTLINIT
00002692  4EB8 1468               2270              JSR     STAINIT
00002696                          2271              
00002696                          2272  .LOOP
00002696                          2273  
00002696                          2274  ; --- UPDATE ------------------------------------------------------------------
00002696                          2275  
00002696                          2276              ; READ INPUT DEVICES
00002696                          2277  
00002696  4E41                    2278              TRAP    #KBDUPDTN
00002698  4E42                    2279              TRAP    #MOUUPDTN
0000269A                          2280  
0000269A  4EB8 1478               2281              JSR     STAUPD
0000269E                          2282              
0000269E                          2283  ; --- SYNC --------------------------------------------------------------------
0000269E                          2284  
0000269E  4A39 000026C4           2285  .WINT       TST.B   (SCRINTCT)
000026A4  67F8                    2286              BEQ     .WINT
000026A6  4239 000026C4           2287              CLR.B   (SCRINTCT)
000026AC                          2288              
000026AC                          2289  ; --- PLOT --------------------------------------------------------------------
000026AC                          2290  
000026AC  4EB8 181E               2291              JSR     BACKPLOT
000026B0  4EB8 14DE               2292              JSR     STAPLOT
000026B4                          2293              
000026B4  4E40                    2294              TRAP    #SCRUPDTN
000026B6                          2295              
000026B6  60DE                    2296              BRA     .LOOP
000026B8                          2297              
000026B8  FFFF FFFF               2298              SIMHALT
000026BC                          2299              
000026BC                          2300  ; --- VARIABLES ---------------------------------------------------------------
000026BC                          2301              
000026BC                          2302              INCLUDE "SYSVARS.X68"       ; SYSTEM VARIABLES
000026BC                          2303  ; =============================================================================
000026BC                          2304  ; SYSTEM VARIABLES
000026BC                          2305  ; =============================================================================
000026BC                          2306  
000026BC                          2307  ; --- KEYBOARD RELATED VARIABLES ----------------------------------------------
000026BC                          2308  
000026BC                          2309  KBDVAL      DS.B    1                       ; KEY STATE
000026BD                          2310  KBDEDGE     DS.B    1                       ; KEY EDGE
000026BE                          2311  
000026BE                          2312  ; --- MOUSE RELATED VARIABLES -------------------------------------------------
000026BE                          2313  
000026BE                          2314  MOUPOS      DS.L    1                       ; MOUSE POSITION (16 BITS Y, 16 BITS X)
000026C2                          2315  MOUVAL      DS.B    1                       ; MOUSE VALUE (0,CTRL,ALT,SHIFT,DOUBLE,MID,RIGHT,LEFT)
000026C4                          2316              DS.W    0
000026C4                          2317  
000026C4                          2318  ; --- TIMED INTERRUPT RELATED VARIABLES ---------------------------------------
000026C4                          2319  
000026C4                          2320  SCRINTCT    DS.B    1                       ; INTERRUPT COUNTER
000026C5                          2321  SCRCYCCT    DS.B    1                       ; SCREEN CYCLE COUNTER
000026C6= 00                      2322  GAMCYCCT    DC.B    0                       ; GAME CYCLE COUNTER
000026C8                          2323              DS.W    0
000026C8                          2324              
000026C8                          2325  ; --- FILE PATHS --------------------------------------------------------------
000026C8                          2326  
000026C8= 44 41 54 41 2F 53 ...   2327  SCOPATH     DC.B     'DATA/SCORES.dat',0
000026D8                          2328              DS.W     0
000026D8                          2329  
000026D8                          2330  
000026D8                          2331  
000026D8                          2332  
000026D8                          2333  
000026D8                          2334  
000026D8                          2335  -------------------- end include --------------------
000026D8                          2336              INCLUDE "VARS.X68"          ; GAME VARIABLES
000026D8                          2337  ; =============================================================================
000026D8                          2338  ; GAME VARIABLES
000026D8                          2339  ; =============================================================================
000026D8                          2340  
000026D8                          2341  ; --- BIRD RELATED VARIABLES --------------------------------------------------
000026D8                          2342  
000026D8= 00F0                    2343  BIRDPOSY    DC.W    SCRHEIGH/2         ; BIRD POSITION Y
000026DA= 0000                    2344  BIRDVELY    DC.W    0                   ; BIRD SPEED Y
000026DC= BBBB                    2345  BIRDPCOL    DC.W    DKYELLOW            ; BIRD PEN COLOR
000026DE= FFFF                    2346  BIRDFCOL    DC.W    LGYELLOW            ; BIRD FILL COLOR
000026E0                          2347  
000026E0                          2348  ; --- SCOREBOARD RELATED VARIABLES --------------------------------------------
000026E0                          2349  
000026E0                          2350  SCORE       DS.W    1                   ; ACTUAL GAME SCORE
000026E2                          2351  HIGHSCO     DS.W    1                   ; HIGH SCORE
000026E4                          2352  
000026E4                          2353  ;  --- STATE RELATED VARIABLES ------------------------------------------------
000026E4                          2354  
000026E4                          2355  STACUR      DS.W    1                   ; CURRENT STATE
000026E6                          2356  STANEXT     DS.W    1                   ; NEXT STATE
000026E8                          2357  
000026E8                          2358  
000026E8                          2359  
000026E8                          2360  
000026E8                          2361  
000026E8                          2362  
000026E8                          2363  
000026E8                          2364  -------------------- end include --------------------
000026E8                          2365              INCLUDE "LIB/UTLVARS.X68"   ; UTIL CODE VARIABLES
000026E8                          2366  ; =============================================================================
000026E8                          2367  ; UTILITY VARIABLES
000026E8                          2368  ; =============================================================================
000026E8                          2369  
000026E8                          2370  UTLRNDIX    DS.B    1                       ; NEXT INDEX TO RANDOM NUMBER
000026EA                          2371              DS.W    0
000026EA                          2372  -------------------- end include --------------------
000026EA                          2373              INCLUDE "LIB/DMMVARS.X68"   ; DYNAMIC MEMORY VARIABLES
000026EA                          2374  ; =============================================================================
000026EA                          2375  ; DYNAMIC MEMORY MANAGEMENT VARIABLES (SYSTEM VARIABLES)
000026EA                          2376  ; =============================================================================
000026EA                          2377  
00002700                          2378              ORG     (*+DMMBSIZE-1)&-DMMBSIZE ; ALIGN TO DMMBSIZE
00002700                          2379  DMMDATA     DS.B    DMMBSIZE*DMMBNUM        ; DYNAMIC MEMORY ALLOCATION SPACE
00003380                          2380              DS.W    0                       ; JUST IN CASE (SIZE IS POW OF TWO)
00003380                          2381  -------------------- end include --------------------
00003380                          2382  
00003380                          2383              END    START

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
AGLADD              10C2
AGLADD:END          10D8
AGLCLEAN            1126
AGLCLEAN:END        1140
AGLCLEAN:LOOP       112A
AGLKILL             10AC
AGLPLOT             1100
AGLPLOT:END         1120
AGLPLOT:LOOP        1108
AGLUPD              10DC
AGLUPD:END          10FA
AGLUPD:LOOP         10E4
BACKPLOT            181E
BACKUPD             17EC
BACKUPD:NONEWCL     1818
BIRDFCOL            26DE
BIRDINIT            1642
BIRDPCOL            26DC
BIRDPLOT            16A4
BIRDPOSX            A0
BIRDPOSY            26D8
BIRDRAD             F
BIRDUPD             1652
BIRDUPD:COLBOT      1690
BIRDUPD:CORDUPD     167C
BIRDUPD:DONE        169E
BIRDUPD:NOCOL       1698
BIRDUPD:NOJUMP      1676
BIRDVELY            26DA
BLOCKSZ             4
CLDINIT             19AE
CLDPLOT             1A00
CLDSPMSK            FFFFFFFC
CLDTBL              1A28
CLDUPD              19D2
CLDUPD:NOKILL       19FA
CLOUD0              1A98
CLOUD0W             1A96
CLOUD1              1BDE
CLOUD1W             1BDC
CLOUD2              1D1C
CLOUD2W             1D1A
CLOUD3              1FA2
CLOUD3W             1FA0
CLOUD4              2038
CLOUD4W             2036
CLOUD5              223E
CLOUD5W             223C
CLOUD6              23BC
CLOUD6W             23BA
CLOUD7              24E2
CLOUD7W             24E0
CLOUDAGT            4
DARKGRAY            C0C0C
DIRTCLR             306284
DIRTHEIG            2D
DKYELLOW            BBBB
DMMALLOC            1092
DMMALLOC:END        10AA
DMMBNUM             32
DMMBSIZE            40
DMMDATA             2700
DMMFCOM             106C
DMMFFND             107A
DMMFIRST            1022
DMMFLOOP            1060
DMMFRCOM            1034
DMMFREE             10AC
DMMFRFND            1042
DMMFRLOP            1028
DMMFRSTO            105A
DMMINIT             1000
DMMINIT:LOOP        100E
DMMNEXT             1044
DMMNEXTO            107C
DMMSYSID            0
FLOHEIGH            3C
FLOPLOT             1856
GAMCYCCT            26C6
GAMEINIT            1554
GAMEPLOT            15CE
GAMEUPD             1560
GAMEUPD:NOPAUSE     1588
GOVINIT             1616
GOVPLOT             163C
GOVUPD              161A
GOVUPD:CONT         1638
GRASSCLR            35DE3B
HIGHSCO             26E2
HSCOLINE            1018
IMGPLOT             1A48
IMGPLOT:ENDFLAG     FFFFFFFF
IMGPLOT:LOOP1       1A58
IMGPLOT:LOOP2       1A66
IMGPLOT:SAMEROW     1A82
IMGPLOT:STARTX      1A94
INSINIT             154E
INSPLOT             1552
INSUPD              1550
ISCINIT             1510
ISCPLOT             1548
ISCUPD              1526
ISCUPD:CONT         1546
JUMPVELY            FFFFFFF6
KBDEDGE             26BD
KBDINIT             13EE
KBDPAUSE            1B
KBDSPACE            20
KBDUPD              13FC
KBDUPD:LOOP         1432
KBDUPD:PACK         142E
KBDUPDTN            1
KBDVAL              26BC
LGBROWN             306284
LGGREEN             35DE3B
LGYELLOW            FFFF
MASKNWCL            7F
MASKNWPP            3F
MOUINIT             143C
MOUPOS              26BE
MOUUPD              144A
MOUUPDTN            2
MOUVAL              26C2
NEWPIPE             159C
NEWPIPE:GOUPD       15C8
NORMGRAY            616161
PAUSINIT            15DC
PAUSINIT:CONT       15F4
PAUSPLOT            1614
PAUSUPD             15F8
PAUSUPD:CONT        1610
PIPEAGTP            1
PIPEFCOL            616161
PIPEGAPS            78
PIPEINIT            16E6
PIPEPCOL            C0C0C
PIPEPLOT            178C
PIPEUPD             16FE
PIPEUPD:COL         175E
PIPEUPD:END         1786
PIPEUPD:NOCOL       1778
PIPEUPD:NOKILL      1726
PIPEVELX            FFFFFFFB
PIPEWIDT            32
PPOPHEIG            F
PPOPOVER            5
SCOFCOL             306284
SCOINC              18E4
SCOINIT             18AE
SCOLINE             1017
SCOPATH             26C8
SCOPLOT             1902
SCOPLOT:HISCOTXT    195C
SCOPLOT:SCOTXT      1954
SCORE               26E0
SCOSAVE             1968
SCOSAVE:END         19A8
SCRCYCCT            26C5
SCRFPS              3C
SCRHEIGH            1E0
SCRINIT             1382
SCRINTCT            26C4
SCRINTN             1
SCRPLOT             13C6
SCRTIM              13E0
SCRUPDTN            0
SCRWIDTH            280
SKYBLUE             FFBF80
SKYCOLOR            FFBF80
SKYPLOT             1828
SNDDIE              0
SNDINIT             1316
SNDINIT:DONE        1334
SNDINIT:LOOP        1322
SNDINIT:SNDDIE      133A
SNDINIT:SNDJUMP     1346
SNDINIT:SNDLIST     1360
SNDINIT:SNDSCO      1353
SNDJUMP             1
SNDPLAY             1370
SNDPLTN             3
SNDSCO              2
STACUR              26E4
STAEMPTY            150E
STAGAME             2
STAGOVER            4
STAINIT             1468
STAINSTR            1
STAINTRO            0
STANEXT             26E6
STANONE             FFFFFFFF
STAPAUSE            3
STAPLOT             14DE
STAPLOT:PLTTBL      14FA
START               2686
START:LOOP          2696
START:WINT          269E
STAUPD              1478
STAUPD:DOUPD        149E
STAUPD:INITBL       14B6
STAUPD:UPDTBL       14CA
SYSINIT             12AC
TXTCOLOR            0
TXTFONT             4
TXTINIT             12FE
TXTSIZE             E
TXTSTYLE            1
UTLCHRWD            8
UTLINIT             1146
UTLPRINT            115C
UTLPRINT:ENDLOOP    116E
UTLPRINT:LOOP       1164
UTLRAND             118E
UTLRAND:RANDVEC     11AC
UTLRNDIX            26E8
WHITE               FEFDFB
