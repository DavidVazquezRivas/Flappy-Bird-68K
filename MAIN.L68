000029FE Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 08/01/2024 4:12:39

00000000                             1  ; =============================================================================
00000000                             2  ; TITLE       :
00000000                             3  ; DESCRIPTION :
00000000                             4  ; AUTHOR      :
00000000                             5  ; HISTORY     :
00000000                             6  ; =============================================================================
00000000                             7  
00001000                             8              ORG     $1000
00001000                             9              
00001000                            10  ; --- CODE INCLUDES -----------------------------------------------------------
00001000                            11  
00001000                            12              INCLUDE "SYSCONST.X68"          ; SYSTEM CONSTANTS
00001000                            13  ; =============================================================================
00001000                            14  ; SYSTEM CONSTANTS
00001000                            15  ; =============================================================================
00001000                            16  
00001000                            17  ; --- SCREEN RELATED CONSTANTS ------------------------------------------------
00001000                            18  
00001000  =0000003C                 19  SCRFPS      EQU     60                  ; SCREEN FRAMES PER SECOND
00001000  =00000280                 20  SCRWIDTH    EQU     640                 ; SCREEN WIDTH
00001000  =000001E0                 21  SCRHEIGH    EQU     480                 ; SCREEN HEIGHT
00001000                            22  
00001000                            23  ; --- TEXT OUTPUT RELATED CONSTANTS -------------------------------------------
00001000                            24  
00001000  =00000000                 25  TXTCOLOR    EQU     $0                  ; TEXT OUTPUT COLOR
00001000  =00000001                 26  TXTSTYLE    EQU     %0001               ; TEXT STYLE (STRIKEOUT,UNDERLINE,ITALIC,BOLD)
00001000  =0000000E                 27  TXTSIZE     EQU     14                  ; TEXT SIZE
00001000  =00000004                 28  TXTFONT     EQU     4                   ; TEXT FONT (CURRENT 'LUCIDA CONSOLE')
00001000                            29  
00001000                            30  ; --- KEYCODES ----------------------------------------------------------------
00001000                            31  
00001000  =00000020                 32  KBDSPACE    EQU     ' '
00001000  =0000001B                 33  KBDPAUSE    EQU     27
00001000                            34  
00001000                            35  ; --- SOUND IDENTIFIERS -------------------------------------------------------
00001000                            36  
00001000  =00000000                 37  SNDDIE      EQU     0
00001000  =00000001                 38  SNDJUMP     EQU     1
00001000  =00000002                 39  SNDSCO      EQU     2
00001000                            40  
00001000                            41  ; --- TRAP NUMBERS ------------------------------------------------------------
00001000                            42  
00001000  =00000000                 43  SCRUPDTN    EQU     0                   ; SCREEN UPDATE TRAP NUMBER
00001000  =00000001                 44  KBDUPDTN    EQU     1                   ; KEYBOARD UPDATE TRAP NUMBER
00001000  =00000002                 45  MOUUPDTN    EQU     2                   ; MOUSE UPDATE TRAP NUMBER
00001000  =00000003                 46  SNDPLTN     EQU     3                   ; SOUND PLAY TRAP NUMBER
00001000                            47  
00001000                            48  ; --- INTERRUPTION NUMBERS ----------------------------------------------------
00001000                            49  
00001000  =00000001                 50  SCRINTN     EQU     1                   ; SCREEN INTERRUPT TRAP NUMBER    
00001000                            51  
00001000                            52  
00001000                            53  
00001000                            54  
00001000                            55  
00001000                            56  
00001000                            57  
00001000                            58  
00001000                            59  
00001000                            60  
00001000                            61  
00001000                            62  
00001000                            63  
00001000                            64  -------------------- end include --------------------
00001000                            65              INCLUDE "CONST.X68"             ; GAME CONSTANTS
00001000                            66  ; =============================================================================
00001000                            67  ; GAME CONSTANTS
00001000                            68  ; =============================================================================
00001000                            69  
00001000                            70  ; --- COLORS CONSTANTS 00BBGGRR -----------------------------------------------
00001000                            71  
00001000  =0000BBBB                 72  DKYELLOW    EQU     $0000BBBB           ; DARK YELLOW COLOR
00001000  =0000FFFF                 73  LGYELLOW    EQU     $0000FFFF           ; LIGHT YELLOW COLOR
00001000  =000C0C0C                 74  DARKGRAY    EQU     $000C0C0C           ; DARK GRAY COLOR
00001000  =00616161                 75  NORMGRAY    EQU     $00616161           ; NORMAL (NOT DARK OR LIGHT) GRAY COLOR 
00001000  =00A3A3A3                 76  LGGRAY      EQU     $00A3A3A3           ; LIGHT GRAY COLOR
00001000  =00231505                 77  DARKBLUE    EQU     $00231505           ; DARK BLUE COLOR 
00001000  =00FFBF80                 78  SKYBLUE     EQU     $00FFBF80           ; SKY BLUE COLOR
00001000  =0018732C                 79  NRMGREEN    EQU     $0018732C           ; NORMAL (NOT DARK OR LIGHT) GREEN COLOR
00001000  =0035DE3B                 80  LGGREEN     EQU     $0035DE3B           ; LIGHT GREEN COLOR
00001000  =00306284                 81  LGBROWN     EQU     $00306284           ; LIGHT BROWN COLOR
00001000  =00FEFDFB                 82  WHITE       EQU     $00FEFDFB           ; WHITE COLOR
00001000  =00000000                 83  BLACK       EQU     $00000000           ; BLACK COLOR
00001000                            84  
00001000                            85  ; --- BIRD RELATED CONSTANTS --------------------------------------------------
00001000                            86  
00001000  =FFFFFFF6                 87  JUMPVELY    EQU     -10                 ; VELOCITY BIRD GETS WHEN JUMPING
00001000  =000000A0                 88  BIRDPOSX    EQU     SCRWIDTH/4          ; BIRD POSITION X
00001000  =0000000F                 89  BIRDRAD     EQU     15                  ; BIRD RADIUS
00001000                            90  
00001000                            91  ; --- PIPE RELATED CONSTANTS --------------------------------------------------
00001000                            92  
00001000  =000C0C0C                 93  PIPEPCOL    EQU     DARKGRAY            ; PIPE PEN COLOR
00001000  =00616161                 94  PIPEFCOL    EQU     NORMGRAY            ; PIPE FILL COLOR
00001000  =FFFFFFFB                 95  PIPEVELX    EQU     -5                  ; PIPE X SPEED
00001000  =00000032                 96  PIPEWIDT    EQU     50                  ; PIPE WIDTH
00001000  =00000078                 97  PIPEGAPS    EQU     120                 ; PIPE GAP SIZE
00001000  =00000002                 98  PIPEAGTP    EQU     2                   ; PIPE AGENT TYPE CODE
00001000  =0000003F                 99  MASKNWPP    EQU     %00111111           ; NEW PIPE MASK 
00001000  =00000005                100  PPOPOVER    EQU     5                   ; PIPE OPENING OVERFLOW
00001000  =0000000F                101  PPOPHEIG    EQU     15                  ; PIPE OPENING HEIGHT
00001000                           102  
00001000                           103  ; --- BACKGROUND RELATED CONSTANTS --------------------------------------------
00001000                           104  
00001000  =00FFBF80                105  SKYCOLOR    EQU     SKYBLUE             ; SKY BACKGROUND COLOR
00001000  =0035DE3B                106  GRASSCLR    EQU     LGGREEN             ; GRASS COLOR
00001000  =00306284                107  DIRTCLR     EQU     LGBROWN             ; DIRT COLOR
00001000  =0000003C                108  FLOHEIGH    EQU     60                  ; FLOOR HEIGHT
00001000  =0000002D                109  DIRTHEIG    EQU     45                  ; DIRT PART HEIGHT
00001000                           110  
00001000                           111  ; --- CLOUD (BACKGROUND) RELATED CONSTANTS ------------------------------------
00001000                           112  
00001000  =FFFFFFFC                113  CLDSPMSK    EQU     $FFFFFFFC           ; MASK TO INIT CLOUD SPEED
00001000  =000000FF                114  MASKNWCL    EQU     %11111111           ; MASK TO SPAWN NEW CLOUD
00001000  =00000001                115  CLOUDAGT    EQU     1                   ; CLOUD AGENT TYPE CODE
00001000                           116  
00001000                           117  ; --- SCOREBOARD RELATED CONSTANTS --------------------------------------------
00001000                           118  
00001000  =00306284                119  SCOFCOL     EQU     DIRTCLR             ; TEXT BACKGROUND COLOR
00001000  =00001017                120  SCOLINE     EQU     $1017               ; SCORE TEXT COORDINATE 
00001000  =00001018                121  HSCOLINE    EQU     $1018               ; HIGHSCORE TEXT COORDINATE
00001000                           122  
00001000                           123  ; --- STATE RELATED CONSTANTS -------------------------------------------------
00001000                           124  
00001000  =FFFFFFFF                125  STANONE     EQU     -1                  ; NON-EXISTENT STATE NUMBER
00001000  =00000000                126  STAINTRO    EQU     0                   ; INTRO SCREEN STATE NUMBER
00001000  =00000001                127  STAINSTR    EQU     1                   ; INSTRUCTION STATE NUMBER
00001000  =00000002                128  STAGAME     EQU     2                   ; GAME SCREEN STATE NUMBER
00001000  =00000003                129  STAPAUSE    EQU     3                   ; PAUSE SCREEN STATE NUMBER
00001000  =00000004                130  STAGOVER    EQU     4                   ; GAME OVER SCREEN STATE NUMBER
00001000                           131  
00001000                           132  ; --- IMAGE DRAWING CONSTANTS -------------------------------------------------
00001000                           133  
00001000  =00000004                134  BLOCKSZ     EQU     4                   ; BLOCK SIZE
00001000                           135  
00001000                           136  ; --- BUTTON RELATED CONSTANTS ------------------------------------------------
00001000                           137  
00001000  =0018732C                138  BUTCOLOR    EQU     NRMGREEN            ; BUTTON COLOR
00001000  =0035DE3B                139  BUTHVCLR    EQU     LGGREEN             ; BUTTON COLOR WHILE BEING HOVER
00001000  =00000003                140  BUTAGTP     EQU     3                   ; BUTTON AGENT TYPE CODE
00001000                           141  
00001000                           142  ; --- PAUSE STATE RELATED CONSTANTS -------------------------------------------
00001000                           143  
00001000  =00000096                144  PAUMEHEI    EQU     150                 ; PAUSE MENU HEIGHT
00001000  =000000C8                145  PAUMEWID    EQU     200                 ; PAUSE MENU WIDTH
00001000  =00000082                146  PAUBUTWD    EQU     130                 ; PAUSE MENU BUTTON WIDTH
00001000  =00000023                147  PAUBUTHG    EQU     35                  ; PAUSE MENU BUTTON HEIGHT
00001000                           148  
00001000                           149  ; --- GAME OVER STATE RELATED CONSTANTS ---------------------------------------
00001000                           150  
00001000  =00000064                151  GOVMEHEI    EQU     100                 ; GAME OVER MENU HEIGHT
00001000  =000000C8                152  GOVMEWID    EQU     200                 ; GAME OVER MENU WIDTH
00001000  =00000082                153  GOVBUTWD    EQU     130                 ; GAME OVER MENU BUTTON WIDTH
00001000  =00000023                154  GOVBUTHG    EQU     35                  ; GAME OVER MENU BUTTON HEIGHT
00001000                           155  
00001000                           156  
00001000                           157  
00001000                           158  
00001000                           159  
00001000                           160  -------------------- end include --------------------
00001000                           161              INCLUDE "LIB/DMMCONST.X68"      ; DYNAMIC MEMORY CONSTANTS
00001000                           162  ; =============================================================================
00001000                           163  ; DYNAMIC MEMORY MANAGEMENT CONSTANTS (SYSTEM CONSTANTS)
00001000                           164  ; =============================================================================
00001000                           165  
00001000  =00000040                166  DMMBSIZE    EQU     64                      ; BLOCK SIZE (BYTES). POWER OF TWO
00001000  =00000032                167  DMMBNUM     EQU     50                      ; NUMBER OF BLOCKS
00001000  =00000000                168  DMMSYSID    EQU     0                       ; SYSTEM OWNER ID (MUST BE 0)
00001000  =00000000                169  -------------------- end include --------------------
00001000                           170              INCLUDE "LIB/UTLCONST.X68"      ; UTIL CONSTANTS 
00001000                           171  ; ==============================================================================
00001000                           172  ; UTIL CONSTANTS
00001000                           173  ; ==============================================================================
00001000                           174  
00001000  =00000008                175  UTLCHRWD    EQU     8                       ; CHARACTER WIDTH IN PIXELS
00001000                           176  
00001000                           177  -------------------- end include --------------------
00001000                           178              INCLUDE "LIB/DMMCODE.X68"       ; DYNAMIC MEMORY CODE
00001000                           179  ; =============================================================================
00001000                           180  ; DYNAMIC MEMORY MANAGEMENT (SYSTEM CODE)
00001000                           181  ; DYNAMIC MEMORY IS A SET OF DMMBNUM SLOTS OF DMMBSIZE BYTES EACH ONE.
00001000                           182  ; DMMBSIZE MUST BE POWER OF TWO. A SLOT HAS:
00001000                           183  ; - HEADER - 1 WORD. SPECIFIES THE OWNER (0 MEANS OWNED BY SYSTEM)
00001000                           184  ; - DATA   - DMMBSIZE - 2 BYTES. MAY CONTAIN VARS AND ANY KIND OF DATA RELATED
00001000                           185  ;            THE THE OWNER. IF OWNER==0, DATA IS MEANINGLESS.
00001000                           186  ; =============================================================================
00001000                           187  
00001000                           188  ; -----------------------------------------------------------------------------
00001000                           189  DMMINIT
00001000                           190  ; INITIALIZES THE DYNAMIC MEMORY TO ALL OWNED BY SYSTEM.
00001000                           191  ; INPUT    - NONE
00001000                           192  ; OUTPUT   - NONE
00001000                           193  ; MODIFIES - NONE
00001000                           194  ; -----------------------------------------------------------------------------
00001000  48E7 8080                195              MOVEM.L D0/A0,-(A7)
00001004  41F9 00002AC0            196              LEA     DMMDATA,A0
0000100A  303C 0031                197              MOVE.W  #DMMBNUM-1,D0
0000100E  30BC 0000                198  .LOOP       MOVE.W  #DMMSYSID,(A0)
00001012  D1FC 00000040            199              ADD.L   #DMMBSIZE,A0
00001018  51C8 FFF4                200              DBRA.W  D0,.LOOP
0000101C  4CDF 0101                201              MOVEM.L (A7)+,D0/A0
00001020  4E75                     202              RTS
00001022                           203  
00001022                           204  ; -----------------------------------------------------------------------------
00001022                           205  DMMFIRST
00001022                           206  ; SEARCHES THE FIRST MEMORY SLOT NOT OWNED BY SYSTEM AND OUTPUTS A POINTER
00001022                           207  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
00001022                           208  ; INPUT    - NONE
00001022                           209  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
00001022                           210  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001022                           211  ; -----------------------------------------------------------------------------
00001022  41F9 00002AC0            212              LEA     DMMDATA,A0
00001028  4A58                     213  DMMFRLOP    TST.W   (A0)+
0000102A  6600 0016                214              BNE     DMMFRFND
0000102E  D1FC 0000003E            215              ADD.L   #DMMBSIZE-2,A0
00001034  B1FC 0000373F            216  DMMFRCOM    CMP.L   #DMMDATA+DMMBSIZE*DMMBNUM-1,A0
0000103A  6DEC                     217              BLT     DMMFRLOP
0000103C  207C 00000000            218              MOVE.L  #0,A0
00001042  4E75                     219  DMMFRFND    RTS
00001044                           220  
00001044                           221  ; -----------------------------------------------------------------------------
00001044                           222  DMMNEXT
00001044                           223  ; SEARCHES THE NEXT MEMORY SLOT NOT OWNED BY SYSTEM AND OUTPUTS A POINTER
00001044                           224  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
00001044                           225  ; INPUT    - A0   : POINTER WITHIN THE CURRENT SLOT
00001044                           226  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
00001044                           227  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001044                           228  ; -----------------------------------------------------------------------------
00001044  2F00                     229              MOVE.L  D0,-(A7)
00001046  2008                     230              MOVE.L  A0,D0
00001048  C0BC FFFFFFC0            231              AND.L   #-DMMBSIZE,D0           ; TAKE ADVANTAGE OF ALIGNMENT
0000104E  0680 00000040            232              ADD.L   #DMMBSIZE,D0
00001054  2040                     233              MOVE.L  D0,A0
00001056  201F                     234              MOVE.L  (A7)+,D0
00001058  60DA                     235              BRA     DMMFRCOM
0000105A                           236  
0000105A                           237  ; -----------------------------------------------------------------------------
0000105A                           238  DMMFRSTO
0000105A                           239  ; SEARCHES THE FIRST MEMORY SLOT WITH THE SPECIFIED ID AND OUTPUTS A POINTER
0000105A                           240  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
0000105A                           241  ; INPUT    - D0.W : ID TO SEARCH
0000105A                           242  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
0000105A                           243  ; MODIFIES - NONE (ASIDE OF OUTPUT)
0000105A                           244  ; -----------------------------------------------------------------------------
0000105A  41F9 00002AC0            245              LEA     DMMDATA,A0
00001060  B058                     246  DMMFLOOP    CMP.W   (A0)+,D0
00001062  6700 0016                247              BEQ     DMMFFND
00001066  D1FC 0000003E            248              ADD.L   #DMMBSIZE-2,A0
0000106C  B1FC 0000373F            249  DMMFCOM     CMP.L   #DMMDATA+DMMBSIZE*DMMBNUM-1,A0
00001072  6DEC                     250              BLT     DMMFLOOP
00001074  207C 00000000            251              MOVE.L  #0,A0
0000107A  4E75                     252  DMMFFND     RTS
0000107C                           253  
0000107C                           254  ; -----------------------------------------------------------------------------
0000107C                           255  DMMNEXTO
0000107C                           256  ; SEARCHES THE NEXT MEMORY SLOT WITH THE SPECIFIED ID AND OUTPUTS A POINTER
0000107C                           257  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
0000107C                           258  ; INPUT    - D0.W : ID TO SEARCH
0000107C                           259  ;            A0   : POINTER WITHIN THE CURRENT SLOT
0000107C                           260  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
0000107C                           261  ; MODIFIES - NONE (ASIDE OF OUTPUT)
0000107C                           262  ; -----------------------------------------------------------------------------
0000107C  2F00                     263              MOVE.L  D0,-(A7)
0000107E  2008                     264              MOVE.L  A0,D0
00001080  C0BC FFFFFFC0            265              AND.L   #-DMMBSIZE,D0           ; TAKE ADVANTAGE OF ALIGNMENT
00001086  0680 00000040            266              ADD.L   #DMMBSIZE,D0
0000108C  2040                     267              MOVE.L  D0,A0
0000108E  201F                     268              MOVE.L  (A7)+,D0
00001090  60DA                     269              BRA     DMMFCOM
00001092                           270  
00001092                           271  ; -----------------------------------------------------------------------------
00001092                           272  DMMALLOC
00001092                           273  ; SEARCHES THE FIRST FREE (SYS OWNED) SLOT, ASSIGNS TO THE SPECIFIED OWNER
00001092                           274  ; AND RETURNS A POINTER TO THE CORRESPONDING DATA (SLOT ADDRESS + 2)
00001092                           275  ; INPUT    - D0.W : ID TO ASSIGN
00001092                           276  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FREE SPACE
00001092                           277  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001092                           278  ; -----------------------------------------------------------------------------
00001092  3F00                     279              MOVE.W  D0,-(A7)
00001094  4240                     280              CLR.W   D0
00001096  4EB8 105A                281              JSR     DMMFRSTO
0000109A  301F                     282              MOVE.W  (A7)+,D0
0000109C  B1FC 00000000            283              CMP.L   #0,A0
000010A2  6700 0006                284              BEQ     .END
000010A6  3140 FFFE                285              MOVE.W  D0,-2(A0)
000010AA  4E75                     286  .END        RTS
000010AC                           287  
000010AC                           288  ; -----------------------------------------------------------------------------
000010AC                           289  DMMFREE
000010AC                           290  ; FREES THE SLOT TO WHICH THE PROVIDED POINTER BELONGS BY SETTING ITS OWNED TO
000010AC                           291  ; SYSTEM (0)
000010AC                           292  ; INPUT    - A0   : POINTER BELONGING TO THE SLOT TO FREE
000010AC                           293  ; OUTPUT   - NONE
000010AC                           294  ; MODIFIES - NONE
000010AC                           295  ; -----------------------------------------------------------------------------
000010AC  48E7 8080                296              MOVEM.L D0/A0,-(A7)
000010B0  2008                     297              MOVE.L  A0,D0
000010B2  C0BC FFFFFFC0            298              AND.L   #-DMMBSIZE,D0           ; TAKE ADVANTAGE OF ALIGNMENT
000010B8  2040                     299              MOVE.L  D0,A0
000010BA  4250                     300              CLR.W   (A0)
000010BC  4CDF 0101                301              MOVEM.L (A7)+,D0/A0
000010C0  4E75                     302              RTS
000010C2                           303  
000010C2                           304  -------------------- end include --------------------
000010C2                           305              INCLUDE "LIB/AGLCODE.X68"       ; AGENTS CODE "OBJECTS"
000010C2                           306  ; =============================================================================
000010C2                           307  ; AGENT MANAGEMENT
000010C2                           308  ; EACH AGENT HAS A DATA BLOCK FROM DMM AS FOLLOWS:
000010C2                           309  ; +0 - LONG : UPDATE SUBROUTINE POINTER
000010C2                           310  ; +4 - LONG : PLOT SUBROUTINE POINTER
000010C2                           311  ; +8:END    : DATA (AGENT SPECIFIC)
000010C2                           312  ; =============================================================================
000010C2                           313  
000010C2                           314  ; -----------------------------------------------------------------------------
000010C2                           315  AGLADD
000010C2                           316  ; CREATES A NEW AGENT
000010C2                           317  ; INPUT    - A1 - POINTER TO AGENT INIT FUNCTION
000010C2                           318  ;            A2 - POINTER TO AGENT UPDATE FUNCTION
000010C2                           319  ;            A3 - POINTER TO AGENT PLOT FUNCTION
000010C2                           320  ;            A4 - POINTER TO INITIALIZATION PARAMETER ADREES 1
000010C2                           321  ;            A5 - POINTER TO INITIALIZATION PARAMETER ADREES 2
000010C2                           322  ;            A6 - POINTER TO INITIALIZATION PARAMETER ADREES 3
000010C2                           323  ;            D0 - AGENT TYPE (USED AS OWNER BY DMM)
000010C2                           324  ;            D1 - AGENT INITIALIZATION PARAMETER DATA 1
000010C2                           325  ;            D2 - AGENT INITIALIZATION PARAMETER DATA 2
000010C2                           326  ;            D3 - AGENT INITIALIZATION PARAMETER DATA 3
000010C2                           327  ;            D4 - AGENT INITIALIZATION PARAMETER DATA 4
000010C2                           328  ;            D5 - AGENT INITIALIZATION PARAMETER DATA 5
000010C2                           329  ;            D6 - AGENT INITIALIZATION PARAMETER DATA 6
000010C2                           330  ;            D7 - AGENT INITIALIZATION PARAMETER DARA 7
000010C2                           331  ; OUTPUT   - NONE
000010C2                           332  ; MODIFIES - NONE
000010C2                           333  ; -----------------------------------------------------------------------------
000010C2  2F08                     334              MOVE.L  A0,-(A7)
000010C4  4EB8 1092                335              JSR     DMMALLOC
000010C8  B1FC 00000000            336              CMP.L   #0,A0
000010CE  6700 0008                337              BEQ     .END
000010D2  20CA                     338              MOVE.L  A2,(A0)+
000010D4  20CB                     339              MOVE.L  A3,(A0)+
000010D6  4E91                     340              JSR     (A1)
000010D8  205F                     341  .END        MOVE.L  (A7)+,A0
000010DA  4E75                     342              RTS
000010DC                           343  
000010DC                           344  ; -----------------------------------------------------------------------------
000010DC                           345  AGLUPD
000010DC                           346  ; UPDATES THE AGENT LIST. PRIOR TO CALLING THE UPDATE FUNCTIONS, A0 IS SET
000010DC                           347  ; TO THE DATA BLOCK OF THE CORRESPONDING SLOT.
000010DC                           348  ; INPUT    - NONE
000010DC                           349  ; OUTPUT   - NONE
000010DC                           350  ; MODIFIES - NONE
000010DC                           351  ; -----------------------------------------------------------------------------
000010DC  48E7 00C0                352              MOVEM.L A0-A1,-(A7)
000010E0  4EB8 1022                353              JSR     DMMFIRST
000010E4  B1FC 00000000            354  .LOOP       CMP.L   #0,A0
000010EA  6700 000E                355              BEQ     .END
000010EE  2250                     356              MOVE.L  (A0),A1
000010F0  5088                     357              ADD.L   #8,A0
000010F2  4E91                     358              JSR     (A1)
000010F4  4EB8 1044                359              JSR     DMMNEXT
000010F8  60EA                     360              BRA     .LOOP
000010FA  4CDF 0300                361  .END        MOVEM.L (A7)+,A0-A1
000010FE  4E75                     362              RTS
00001100                           363  
00001100                           364  ; -----------------------------------------------------------------------------
00001100                           365  AGLUPDT
00001100                           366  ; UPDATES THE AGENT LIST ONLY OF THE SPECIFIED TYPE A0 IS SET
00001100                           367  ; TO THE DATA BLOCK OF THE CORRESPONDING SLOT.
00001100                           368  ; INPUT     - DO.W AGENT TYPE TO UPDATE
00001100                           369  ; OUTPUT    - NONE
00001100                           370  ; MODIFIES  - NONE
00001100                           371  ; -----------------------------------------------------------------------------
00001100                           372  
00001100  48E7 00C0                373              MOVEM.L A0-A1,-(A7)
00001104  4EB8 105A                374              JSR     DMMFRSTO
00001108  B1FC 00000000            375  .LOOP       CMP.L   #0,A0
0000110E  6700 000E                376              BEQ     .END
00001112  2250                     377              MOVE.L  (A0),A1
00001114  5088                     378              ADD.L   #8,A0
00001116  4E91                     379              JSR     (A1)
00001118  4EB8 107C                380              JSR     DMMNEXTO
0000111C  60EA                     381              BRA     .LOOP
0000111E                           382              
0000111E  4CDF 0300                383  .END        MOVEM.L (A7)+,A0-A1
00001122  4E75                     384              RTS
00001124                           385  
00001124                           386  
00001124                           387  ; -----------------------------------------------------------------------------
00001124                           388  AGLPLOT
00001124                           389  ; PLOTS THE AGENT LIST. PRIOR TO CALLING THE UPDATE FUNCTIONS, A0 IS SET
00001124                           390  ; TO THE DATA BLOCK OF THE CORRESPONDING SLOT. PLOTS AGENTS IN AGENT TYPE ORDER
00001124                           391  ; INPUT    - NONE
00001124                           392  ; OUTPUT   - NONE
00001124                           393  ; MODIFIES - NONE
00001124                           394  ; NOTE : 8 IS THE MAX AGENT TYPES
00001124                           395  ; -----------------------------------------------------------------------------
00001124  48E7 00C0                396              MOVEM.L A0-A1,-(A7)
00001128                           397              
00001128  4200                     398              CLR.B   D0                      ; CURRENT AGENT TYPE UPDATING
0000112A  5200                     399  .LOOP1      ADDQ.B  #1,D0    
0000112C  4EB8 105A                400              JSR     DMMFRSTO
00001130  B1FC 00000000            401  .LOOP2      CMP.L   #0,A0
00001136  6700 0010                402              BEQ     .NEXTTP
0000113A  2268 0004                403              MOVE.L  4(A0),A1
0000113E  5088                     404              ADD.L   #8,A0
00001140  4E91                     405              JSR     (A1)
00001142  4EB8 107C                406              JSR     DMMNEXTO
00001146  60E8                     407              BRA     .LOOP2
00001148  B03C 0008                408  .NEXTTP     CMP.B   #8,D0
0000114C  6DDC                     409              BLT     .LOOP1
0000114E                           410              
0000114E  4CDF 0300                411  .END        MOVEM.L (A7)+,A0-A1
00001152  4E75                     412              RTS
00001154                           413              
00001154                           414  ; -----------------------------------------------------------------------------
00001154                           415  AGLPLOTT
00001154                           416  ; PLOTS THE AGENT LIST ONLY OF THE SPECIFIED TYPE. PRIOR TO CALLING THE UPDATE 
00001154                           417  ; FUNCTIONS, A0 IS SET TO THE DATA BLOCK OF THE CORRESPONDING SLOT. 
00001154                           418  ; INPUT    - D0.W AGENT TYPE TO PLOT
00001154                           419  ; OUTPUT   - NONE
00001154                           420  ; MODIFIES - NONE
00001154                           421  ; NOTE : 8 IS THE MAX AGENT TYPES
00001154                           422  ; -----------------------------------------------------------------------------          
00001154                           423  
00001154  48E7 00C0                424              MOVEM.L A0-A1,-(A7)
00001158                           425              
00001158  4EB8 105A                426              JSR     DMMFRSTO
0000115C  B1FC 00000000            427  .LOOP       CMP.L   #0,A0
00001162  6700 0010                428              BEQ     .END
00001166  2268 0004                429              MOVE.L  4(A0),A1
0000116A  5088                     430              ADD.L   #8,A0
0000116C  4E91                     431              JSR     (A1)
0000116E  4EB8 107C                432              JSR     DMMNEXTO
00001172  60E8                     433              BRA     .LOOP
00001174                           434  
00001174  4CDF 0300                435  .END        MOVEM.L (A7)+,A0-A1  
00001178  4E75                     436              RTS
0000117A                           437  
0000117A                           438  ; -----------------------------------------------------------------------------
0000117A                           439  AGLCLEAN
0000117A                           440  ; KILLS EVERY AGENT ON AGENLIST OF THE SPECIFIED TYPE
0000117A                           441  ; INPUT     - D0.W - AGENT TYPE (USED AS OWNER BY DMM)
0000117A                           442  ; OUTPUT    - KILLS EVERY AGENT ON AGENTLIST
0000117A                           443  ; MODIFIES  - NONE
0000117A                           444  ; -----------------------------------------------------------------------------
0000117A  48E7 00C0                445              MOVEM.L A0-A1,-(A7)
0000117E                           446              
0000117E  4EB8 105A                447  .LOOP       JSR     DMMFRSTO
00001182  B1FC 00000000            448              CMP.L   #0,A0
00001188  6700 000A                449              BEQ     .END
0000118C  4EB9 000010AC            450              JSR     AGLKILL
00001192  60EA                     451              BRA     .LOOP
00001194                           452              
00001194  4CDF 0300                453  .END        MOVEM.L (A7)+,A0-A1
00001198  4E75                     454              RTS
0000119A                           455  
0000119A                           456              
0000119A                           457  
0000119A                           458  
0000119A                           459  ; -----------------------------------------------------------------------------
0000119A  =000010AC                460  AGLKILL     EQU     DMMFREE
0000119A                           461  ; KILLS THE AGENT BY RELEASING ITS MEMORY
0000119A                           462  ; INPUT    - A0 POINTER WITHIN THE AGENT MEMORY
0000119A                           463  ; OUTPUT   - NONE
0000119A                           464  ; MODIFIES - NONE
0000119A                           465  ; NOTE     - IT IS JUST A WRAPPER FOR DMMFREE
0000119A                           466  ; -----------------------------------------------------------------------------
0000119A                           467  
0000119A                           468  
0000119A                           469  
0000119A                           470  
0000119A                           471  
0000119A                           472  
0000119A                           473  -------------------- end include --------------------
0000119A                           474              INCLUDE "LIB/UTLCODE.X68"       ; UTIL SUBRUTINES
0000119A                           475  ; =============================================================================
0000119A                           476  ; UTILITY CODE
0000119A                           477  ; =============================================================================
0000119A                           478  
0000119A                           479  ; -----------------------------------------------------------------------------
0000119A                           480  UTLINIT
0000119A                           481  ; INITIALIZES UTILITY CODE
0000119A                           482  ; INPUT    - NONE
0000119A                           483  ; OUTPUT   - NONE
0000119A                           484  ; MODIFIES - NONE
0000119A                           485  ; -----------------------------------------------------------------------------
0000119A  48E7 C000                486              MOVEM.L D0-D1,-(A7)
0000119E  103C 0008                487              MOVE.B  #8,D0
000011A2  4E4F                     488              TRAP    #15
000011A4  13C1 00002A9C            489              MOVE.B  D1,(UTLRNDIX)
000011AA  4CDF 0003                490              MOVEM.L (A7)+,D0-D1
000011AE  4E75                     491              RTS
000011B0                           492              
000011B0                           493  ; -----------------------------------------------------------------------------
000011B0                           494  UTLPRINT
000011B0                           495  ; PRINT SCREEN CENTERED TEXT
000011B0                           496  ; INPUT    : A2 POINTER TO ZERO-TERMINATED STRING
000011B0                           497  ;            D0.B SCREEN ROW TO PRINT TEXT
000011B0                           498  ; OUTPUT   : D0.B NEXT ROW
000011B0                           499  ; MODIFIES : NONE (ASIDE OF OUTPUT)
000011B0                           500  ; -----------------------------------------------------------------------------
000011B0  48E7 C060                501              MOVEM.L D0-D1/A1-A2,-(A7)
000011B4  4201                     502              CLR.B   D1
000011B6  224A                     503              MOVE.L  A2,A1
000011B8  4A1A                     504  .LOOP       TST.B   (A2)+
000011BA  6700 0006                505              BEQ     .ENDLOOP
000011BE  5201                     506              ADDQ.B  #1,D1
000011C0  60F6                     507              BRA     .LOOP
000011C2  E209                     508  .ENDLOOP    LSR.B   #1,D1
000011C4  0401 0028                509              SUB.B   #(SCRWIDTH/UTLCHRWD)/2,D1
000011C8  4401                     510              NEG.B   D1
000011CA  E141                     511              ASL.W   #8,D1
000011CC  8240                     512              OR.W    D0,D1
000011CE  103C 000B                513              MOVE.B  #11,D0
000011D2  4E4F                     514              TRAP    #15
000011D4  103C 000D                515              MOVE.B  #13,D0
000011D8  4E4F                     516              TRAP    #15
000011DA  4CDF 0603                517              MOVEM.L (A7)+,D0-D1/A1-A2
000011DE  5200                     518              ADDQ.B  #1,D0
000011E0  4E75                     519              RTS
000011E2                           520  
000011E2                           521  ; -----------------------------------------------------------------------------
000011E2                           522  UTLRAND
000011E2                           523  ; PROVIDES A PSEUDO-RANDOM BYTE
000011E2                           524  ; INPUT    - NONE
000011E2                           525  ; OUTPUT   - D0.L RANDOM VALUE (ONLY BYTE)
000011E2                           526  ; MODIFIES - NONE (ASIDE OF OUTPUT)
000011E2                           527  ; -----------------------------------------------------------------------------
000011E2  2F08                     528              MOVE.L  A0,-(A7)
000011E4  41F9 00001200            529              LEA     .RANDVEC,A0
000011EA  4280                     530              CLR.L   D0
000011EC  1039 00002A9C            531              MOVE.B  (UTLRNDIX),D0
000011F2  1030 0800                532              MOVE.B  (A0,D0.L),D0
000011F6  5239 00002A9C            533              ADDQ.B  #1,(UTLRNDIX)
000011FC  205F                     534              MOVE.L  (A7)+,A0
000011FE  4E75                     535              RTS
00001200                           536  
00001200                           537  
00001200= A2 EE 9A 0C F5 24 ...    538  .RANDVEC    DC.B    162, 238, 154, 12 , 245, 36 , 32 , 103
00001208= 2A A3 51 26 E0 AC ...    539              DC.B    42 , 163, 81 , 38 , 224, 172, 19 , 69
00001210= 75 51 CA FD 33 EB ...    540              DC.B    117, 81 , 202, 253, 51 , 235, 108, 154
00001218= 60 CC E7 B8 9A EB ...    541              DC.B    96 , 204, 231, 184, 154, 235, 34 , 203
00001220= 1D 76 B5 95 B0 89 ...    542              DC.B    29 , 118, 181, 149, 176, 137, 62 , 108
00001228= 39 15 48 C9 6E CA ...    543              DC.B    57 , 21 , 72 , 201, 110, 202, 159, 41
00001230= 43 E7 E2 7C 37 25 ...    544              DC.B    67 , 231, 226, 124, 55 , 37 , 84 , 62
00001238= E9 94 CE E9 E4 52 ...    545              DC.B    233, 148, 206, 233, 228, 82 , 243, 78
00001240= 37 6D 9A 84 A2 28 ...    546              DC.B    55 , 109, 154, 132, 162, 40 , 30 , 39
00001248= 19 E2 C6 77 80 D4 ...    547              DC.B    25 , 226, 198, 119, 128, 212, 232, 225
00001250= 0A 5A 32 67 33 C2 ...    548              DC.B    10 , 90 , 50 , 103, 51 , 194, 222, 40
00001258= 59 80 DC 0E 57 FC ...    549              DC.B    89 , 128, 220, 14 , 87 , 252, 243, 252
00001260= 8A AB BC F7 07 4D ...    550              DC.B    138, 171, 188, 247, 7  , 77 , 29 , 234
00001268= EF D5 77 6E 1E BB ...    551              DC.B    239, 213, 119, 110, 30 , 187, 131, 23
00001270= D6 E0 2A 8F BD 28 ...    552              DC.B    214, 224, 42 , 143, 189, 40 , 212, 130
00001278= 13 4F 66 EC 0A 64 ...    553              DC.B    19 , 79 , 102, 236, 10 , 100, 122, 188
00001280= 56 52 9A 16 9B 90 ...    554              DC.B    86 , 82 , 154, 22 , 155, 144, 7  , 199
00001288= 06 8A A4 F7 01 DA ...    555              DC.B    6  , 138, 164, 247, 1  , 218, 166, 82
00001290= F2 E7 77 28 B1 76 ...    556              DC.B    242, 231, 119, 40 , 177, 118, 220, 102
00001298= A4 42 E3 81 B1 67 ...    557              DC.B    164, 66 , 227, 129, 177, 103, 165, 108
000012A0= BF CE FA 16 BF 38 ...    558              DC.B    191, 206, 250, 22 , 191, 56 , 30 , 161
000012A8= D1 8B 50 0C 5F 49 ...    559              DC.B    209, 139, 80 , 12 , 95 , 73 , 168, 56
000012B0= DE 4C 14 A2 40 DC ...    560              DC.B    222, 76 , 20 , 162, 64 , 220, 93 , 12
000012B8= B6 9B 0A 38 5D AB ...    561              DC.B    182, 155, 10 , 56 , 93 , 171, 89 , 6
000012C0= E2 1B DD 75 15 82 ...    562              DC.B    226, 27 , 221, 117, 21 , 130, 101, 18
000012C8= 8A 26 51 30 9F 47 ...    563              DC.B    138, 38 , 81 , 48 , 159, 71 , 57 , 21
000012D0= 1E 8A BB 71 C6 6E ...    564              DC.B    30 , 138, 187, 113, 198, 110, 185, 152
000012D8= 9F 47 E5 34 94 27 ...    565              DC.B    159, 71 , 229, 52 , 148, 39 , 77 , 6
000012E0= 7D 06 D6 BA 30 0F ...    566              DC.B    125, 6  , 214, 186, 48 , 15 , 212, 22
000012E8= EC 7F 7E 03 CF 2D ...    567              DC.B    236, 127, 126, 3  , 207, 45 , 193, 2
000012F0= 94 5B 23 F2 8B CD ...    568              DC.B    148, 91 , 35 , 242, 139, 205, 248, 237
000012F8= 74 33 EC B9 0F D5 ...    569              DC.B    116, 51 , 236, 185, 15 , 213, 221, 6
00001300                           570  
00001300                           571  
00001300                           572  -------------------- end include --------------------
00001300                           573              INCLUDE "SYSTEM.X68"            ; SYSTEM CODE
00001300                           574  ; =============================================================================
00001300                           575  ; SYSTEM
00001300                           576  ; =============================================================================
00001300                           577  
00001300                           578  ; -----------------------------------------------------------------------------
00001300                           579  SYSINIT
00001300                           580  ; INITIALIZE SYSTEM
00001300                           581  ; INPUT     : NONE
00001300                           582  ; OUTPUT    : NONE
00001300                           583  ; MODIFIES  : NONE
00001300                           584  ; -----------------------------------------------------------------------------
00001300                           585  
00001300                           586              ; INSTALL TRAPS AND INTERRUPTIONS
00001300  21FC 0000141A 0080       587              MOVE.L  #SCRPLOT,($80+SCRUPDTN*4)
00001308  21FC 00001450 0084       588              MOVE.L  #KBDUPD,($80+KBDUPDTN*4)
00001310  21FC 0000149E 0088       589              MOVE.L  #MOUUPD,($80+MOUUPDTN*4)
00001318  21FC 000013C4 008C       590              MOVE.L  #SNDPLAY,($80+SNDPLTN*4)
00001320  21FC 00001434 0064       591              MOVE.L  #SCRTIM,($60+SCRINTN*4)
00001328                           592              
00001328  7200                     593              MOVE.L  #TXTCOLOR,D1
0000132A  4EB9 00001354            594              JSR     TXTINIT
00001330  4EB9 00001442            595              JSR     KBDINIT
00001336  4EB9 00001490            596              JSR     MOUINIT
0000133C  4EB9 0000136A            597              JSR     SNDINIT
00001342  4EB9 000013D6            598              JSR     SCRINIT
00001348  4EB8 1000                599              JSR     DMMINIT
0000134C                           600              
0000134C                           601              ; SET USER MODE AND ALLOW INTERRUPTIONS
0000134C  40E7                     602              MOVE.W  SR,-(A7)
0000134E  0257 D8FF                603              ANDI.W  #$D8FF,(A7)
00001352  4E73                     604              RTE
00001354                           605              
00001354                           606  ; -----------------------------------------------------------------------------
00001354                           607  TXTINIT
00001354                           608  ; INITIALIZES THE TEXT OUTPUT
00001354                           609  ; INPUT     : D1.L TEXT COLOR 
00001354                           610  ; OUTPUT    : NONE
00001354                           611  ; MODIFIES  : NONE
00001354                           612  ; -----------------------------------------------------------------------------
00001354                           613  
00001354  48E7 E000                614              MOVEM.L D0-D2,-(A7)
00001358                           615              
00001358  243C 040E0001            616              MOVE.L  #TXTFONT<<24|TXTSIZE<<16|TXTSTYLE,D2
0000135E  103C 0015                617              MOVE.B  #21,D0
00001362  4E4F                     618              TRAP    #15
00001364                           619              
00001364  4CDF 0007                620              MOVEM.L (A7)+,D0-D2
00001368  4E75                     621              RTS     
0000136A                           622         
0000136A                           623  ; -----------------------------------------------------------------------------
0000136A                           624  SNDINIT
0000136A                           625  ; INITIALIZES SOUND SYSTEM
0000136A                           626  ; INPUT     : NONE
0000136A                           627  ; OUTPUT    : NONE
0000136A                           628  ; MODIFIES  : NONE
0000136A                           629  ; -----------------------------------------------------------------------------
0000136A                           630  
0000136A  48E7 C0C0                631              MOVEM.L D0-D1/A0-A1,-(A7)
0000136E                           632              
0000136E  4201                     633              CLR.B   D1
00001370  41F9 000013B4            634              LEA     .SNDLIST,A0
00001376  2018                     635  .LOOP       MOVE.L  (A0)+,D0
00001378  6700 000E                636              BEQ     .DONE
0000137C  2240                     637              MOVE.L  D0,A1
0000137E  103C 0047                638              MOVE.B  #71,D0
00001382  4E4F                     639              TRAP    #15
00001384  5201                     640              ADDQ.B  #1,D1
00001386  60EE                     641              BRA     .LOOP
00001388                           642              
00001388  4CDF 0303                643  .DONE       MOVEM.L (A7)+,D0-D1/A0-A1
0000138C  4E75                     644              RTS
0000138E                           645              
0000138E= 53 4E 44 2F 44 49 ...    646  .SNDDIE     DC.B    'SND/DIE.wav',0
0000139A= 53 4E 44 2F 4A 55 ...    647  .SNDJUMP    DC.B    'SND/JUMP.wav',0
000013A7= 53 4E 44 2F 53 43 ...    648  .SNDSCO     DC.B    'SND/SCO.wav',0
000013B4                           649              DS.W    0                       ; WORD ALIGN
000013B4= 0000138E 0000139A ...    650  .SNDLIST    DC.L    .SNDDIE,.SNDJUMP,.SNDSCO,0
000013C4                           651              
000013C4                           652  ; ------------------------------------------------------------------------------
000013C4                           653  SNDPLAY
000013C4                           654  ; PLAY SOUND
000013C4                           655  ; INPUT    : D7 SOUND ID
000013C4                           656  ; OUTPUT   : NONE
000013C4                           657  ; MODIFIES : NONE
000013C4                           658  ; ------------------------------------------------------------------------------
000013C4                           659  
000013C4  48A7 C000                660              MOVEM.W D0-D1,-(A7)
000013C8                           661              
000013C8  103C 0048                662              MOVE.B  #72,D0
000013CC  1207                     663              MOVE.B  D7,D1
000013CE  4E4F                     664              TRAP    #15
000013D0                           665              
000013D0  4C9F 0003                666              MOVEM.W (A7)+,D0-D1
000013D4  4E73                     667              RTE
000013D6                           668  
000013D6                           669  ; -----------------------------------------------------------------------------
000013D6                           670  SCRINIT
000013D6                           671  ; INIT SCREEN. SET SCREEN RESOLUTION, SET WINDOWED MODE, CLEAR SCREEN,
000013D6                           672  ; ENABLE DOUBLE BUFFER, ENABLE TIMED INTERRUPT.
000013D6                           673  ; INPUT     : NONE
000013D6                           674  ; OUTPUT    : NONE
000013D6                           675  ; MODIFIES  : NONE
000013D6                           676  ; -----------------------------------------------------------------------------
000013D6                           677  
000013D6  48E7 C000                678              MOVEM.L D0-D1,-(A7)
000013DA                           679              
000013DA                           680              ; SET SCREEN RESOLUTION
000013DA  103C 0021                681              MOVE.B  #33,D0
000013DE  223C 028001E0            682              MOVE.L  #SCRWIDTH<<16|SCRHEIGH,D1
000013E4  4E4F                     683              TRAP    #15
000013E6                           684              
000013E6                           685              ; SET WINDOWED MODE
000013E6  7201                     686              MOVE.L  #1,D1
000013E8  4E4F                     687              TRAP    #15
000013EA                           688              
000013EA                           689              ; CLEAR SCREEN
000013EA  103C 000B                690              MOVE.B  #11,D0
000013EE  323C FF00                691              MOVE.W  #$FF00,D1
000013F2  4E4F                     692              TRAP    #15
000013F4                           693              
000013F4                           694              ; ENABLE DOUBLE BUFFER
000013F4  103C 005C                695              MOVE.B  #92,D0
000013F8  123C 0011                696              MOVE.B  #17,D1
000013FC  4E4F                     697              TRAP    #15
000013FE                           698              
000013FE                           699              ; ENABLE TIMED INTERRUPT
000013FE  103C 0020                700              MOVE.B  #32,D0
00001402  123C 0006                701              MOVE.B  #6,D1
00001406  143C 0081                702              MOVE.B  #$80|SCRINTN,D2
0000140A  7610                     703              MOVE.L  #1000/SCRFPS,D3
0000140C  4E4F                     704              TRAP    #15
0000140E                           705              
0000140E                           706              ; CLEAR INTERRUPT COUNTER
0000140E  4279 00002A3C            707              CLR.W   (SCRINTCT)
00001414                           708              
00001414  4CDF 0003                709              MOVEM.L (A7)+,D0-D1
00001418  4E75                     710              RTS
0000141A                           711              
0000141A                           712  ; -----------------------------------------------------------------------------
0000141A                           713  SCRPLOT
0000141A                           714  ; UPDATES DOUBLE BUFFER
0000141A                           715  ; INPUT    : NONE
0000141A                           716  ; OUTPUT   : NONE
0000141A                           717  ; MODIFIES : NONE
0000141A                           718  ; -----------------------------------------------------------------------------
0000141A                           719  
0000141A  48A7 C000                720              MOVEM.W D0-D1,-(A7)
0000141E                           721              
0000141E                           722              ; SWITCH BUFFERS
0000141E  103C 005E                723              MOVE.B  #94,D0
00001422  4E4F                     724              TRAP    #15
00001424                           725              
00001424                           726              ; CLEAN HIDDEN BUFFER
00001424  103C 000B                727              MOVE.B  #11,D0
00001428  323C FF00                728              MOVE.W  #$FF00,D1
0000142C  4E4F                     729              TRAP    #15
0000142E  4C9F 0003                730              MOVEM.W (A7)+,D0-D1
00001432  4E73                     731              RTE
00001434                           732  
00001434                           733  ; -----------------------------------------------------------------------------
00001434                           734  SCRTIM
00001434                           735  ; TIMED INTERRUPT SERVICE ROUTINE, COUNTS TIME FALLING
00001434                           736  ; INPUT     : NONE
00001434                           737  ; OUTPUT    : NONE
00001434                           738  ; MODIFIES  : NONE
00001434                           739  ; -----------------------------------------------------------------------------
00001434                           740  
00001434  5239 00002A3C            741              ADDQ.B  #1,(SCRINTCT)
0000143A  5239 00002A3D            742              ADDQ.B  #1,(SCRCYCCT)
00001440  4E73                     743              RTE
00001442                           744              
00001442                           745  ; -----------------------------------------------------------------------------
00001442                           746  KBDINIT
00001442                           747  ; INIT KEYBOARD
00001442                           748  ; INPUT     : NONE
00001442                           749  ; OUTPUT    : NONE
00001442                           750  ; MODIFIES  : NONE
00001442                           751  ; -----------------------------------------------------------------------------
00001442                           752  
00001442  4239 00002A34            753              CLR.B   (KBDVAL)
00001448  4239 00002A35            754              CLR.B   (KBDEDGE)
0000144E  4E75                     755              RTS
00001450                           756              
00001450                           757  ; -----------------------------------------------------------------------------
00001450                           758  KBDUPD
00001450                           759  ; UPDATE KEYBOARD INFO
00001450                           760  ; 0 -> SPACE
00001450                           761  ; INPUT     : NONE
00001450                           762  ; OUTPUT    : NONE
00001450                           763  ; MODIFIES  : NONE
00001450                           764  ; -----------------------------------------------------------------------------
00001450                           765  
00001450  48E7 F000                766              MOVEM.L D0-D3,-(A7)
00001454                           767              
00001454                           768              ; READ KEYBOARD
00001454  103C 0013                769              MOVE.B  #19,D0
00001458  223C 00001B20            770              MOVE.L  #KBDPAUSE<<8|KBDSPACE,D1
0000145E  4E4F                     771              TRAP    #15
00001460                           772              
00001460                           773              ; CONVERT TO DESIRED FORMAT
00001460  4EB9 00001482            774              JSR     .PACK
00001466                           775  
00001466                           776              ; COMPUTE KBDEDGE
00001466  1039 00002A34            777              MOVE.B  (KBDVAL),D0
0000146C  4600                     778              NOT.B   D0
0000146E  C042                     779              AND.W   D2,D0
00001470  13C0 00002A35            780              MOVE.B  D0,(KBDEDGE)
00001476                           781              
00001476                           782              ; STORE KBDVAL
00001476  13C2 00002A34            783              MOVE.B  D2,(KBDVAL)
0000147C                           784              
0000147C  4CDF 000F                785              MOVEM.L (A7)+,D0-D3
00001480  4E73                     786              RTE
00001482                           787  
00001482  363C 0003                788  .PACK       MOVE.W  #3,D3
00001486  E189                     789  .LOOP       LSL.L   #8,D1
00001488  E312                     790              ROXL.B  #1,D2
0000148A  51CB FFFA                791              DBRA.W  D3,.LOOP
0000148E  4E75                     792              RTS
00001490                           793  
00001490                           794  ; -----------------------------------------------------------------------------
00001490                           795  MOUINIT
00001490                           796  ; INPUT     : NONE
00001490                           797  ; OUTPUT    : NONE
00001490                           798  ; MODIFIES  : NONE
00001490                           799  ; -----------------------------------------------------------------------------
00001490                           800  
00001490  42B9 00002A36            801              CLR.L   MOUPOS
00001496  4239 00002A3A            802              CLR.B   MOUVAL
0000149C  4E75                     803              RTS
0000149E                           804              
0000149E                           805  ; -----------------------------------------------------------------------------
0000149E                           806  MOUUPD
0000149E                           807  ; INPUT     : NONE
0000149E                           808  ; OUTPUT    : NONE
0000149E                           809  ; MODIFIES  : NONE
0000149E                           810  ; -----------------------------------------------------------------------------
0000149E                           811  
0000149E  48E7 C000                812              MOVEM.L D0-D1,-(A7)
000014A2                           813              
000014A2  103C 003D                814              MOVE.B  #61,D0
000014A6  4201                     815              CLR.B   D1
000014A8  4E4F                     816              TRAP    #15
000014AA  13C0 00002A3A            817              MOVE.B  D0,(MOUVAL)
000014B0  23C1 00002A36            818              MOVE.L  D1,(MOUPOS)
000014B6                           819              
000014B6  4CDF 0003                820              MOVEM.L (A7)+,D0-D1
000014BA  4E73                     821              RTE
000014BC                           822  
000014BC                           823  
000014BC                           824  
000014BC                           825  
000014BC                           826  
000014BC                           827  
000014BC                           828  
000014BC                           829  
000014BC                           830  
000014BC                           831  
000014BC                           832  
000014BC                           833  
000014BC                           834  
000014BC                           835  -------------------- end include --------------------
000014BC                           836              INCLUDE "STATES.X68"            ; STATES MANAGEMENT
000014BC                           837  ; =============================================================================
000014BC                           838  ; GAME STATE MANAGEMENT
000014BC                           839  ; =============================================================================
000014BC                           840  
000014BC                           841  ; -----------------------------------------------------------------------------
000014BC                           842  STAINIT
000014BC                           843  ; INITALIZES THE STATE MANAGER
000014BC                           844  ; INPUT    - NONE
000014BC                           845  ; OUTPUT   - NONE
000014BC                           846  ; MODIFIES - NONE
000014BC                           847  ; -----------------------------------------------------------------------------
000014BC  33FC FFFF 00002A5C       848              MOVE.W  #STANONE,(STACUR)
000014C4  4279 00002A5E            849              CLR.W   (STANEXT)
000014CA  4E75                     850              RTS
000014CC                           851  
000014CC                           852  ; -----------------------------------------------------------------------------
000014CC                           853  STAUPD
000014CC                           854  ; PERFORMS STATE UPDATE AND INIT IF NECESSARY
000014CC                           855  ; INPUT    - NONE
000014CC                           856  ; OUTPUT   - NONE
000014CC                           857  ; MODIFIES - NONE
000014CC                           858  ; -----------------------------------------------------------------------------
000014CC  48E7 8080                859              MOVEM.L D0/A0,-(A7)
000014D0  4280                     860              CLR.L   D0
000014D2  3039 00002A5E            861              MOVE.W  (STANEXT),D0
000014D8  B079 00002A5C            862              CMP.W   (STACUR),D0
000014DE  6700 0012                863              BEQ     .DOUPD
000014E2  33C0 00002A5C            864              MOVE.W  D0,(STACUR)             ; IF STATE CHANGED, DO INIT
000014E8  E588                     865              LSL.L   #2,D0
000014EA  2040                     866              MOVE.L  D0,A0
000014EC  2068 150A                867              MOVE.L  .INITBL(A0),A0
000014F0  4E90                     868              JSR     (A0)
000014F2  4280                     869  .DOUPD      CLR.L   D0                      ; IN ANY CASE, DO UPDATE
000014F4  3039 00002A5C            870              MOVE.W  (STACUR),D0
000014FA  E588                     871              LSL.L   #2,D0
000014FC  2040                     872              MOVE.L  D0,A0
000014FE  2068 151E                873              MOVE.L  .UPDTBL(A0),A0
00001502  4E90                     874              JSR     (A0)
00001504  4CDF 0101                875              MOVEM.L (A7)+,D0/A0
00001508  4E75                     876              RTS
0000150A= 00001564 000015AA ...    877  .INITBL     DC.L    ISCINIT,INSINIT,GAMEINIT,PAUSINIT,GOVINIT
0000151E= 00001582 000015AC ...    878  .UPDTBL     DC.L    ISCUPD,INSUPD,GAMEUPD,PAUSUPD,GOVUPD
00001532                           879  
00001532                           880  ; -----------------------------------------------------------------------------
00001532                           881  STAPLOT
00001532                           882  ; PERFORMS STATE PLOT
00001532                           883  ; INPUT    - NONE
00001532                           884  ; OUTPUT   - NONE
00001532                           885  ; MODIFIES - NONE
00001532                           886  ; -----------------------------------------------------------------------------
00001532  48E7 8080                887              MOVEM.L D0/A0,-(A7)
00001536  4280                     888              CLR.L   D0
00001538  3039 00002A5C            889              MOVE.W  (STACUR),D0
0000153E  E588                     890              LSL.L   #2,D0
00001540  2040                     891              MOVE.L  D0,A0
00001542  2068 154E                892              MOVE.L  .PLTTBL(A0),A0
00001546  4E90                     893              JSR     (A0)
00001548  4CDF 0101                894              MOVEM.L (A7)+,D0/A0
0000154C  4E75                     895              RTS
0000154E= 000015A4 000015AE ...    896  .PLTTBL     DC.L    ISCPLOT,INSPLOT,GAMEPLOT,PAUSPLOT,GOVPLOT
00001562                           897  
00001562                           898  ; -----------------------------------------------------------------------------
00001562                           899  STAEMPTY
00001562                           900  ; EMPTY SUBROUTINE FOR CASES WITH NOTHING TO DO
00001562                           901  ; INPUT    - NONE
00001562                           902  ; OUTPUT   - NONE
00001562                           903  ; MODIFIES - NONE
00001562                           904  ; NOTE     - JUST A PLACEHOLDER. NOTHING TO DO.
00001562                           905  ; -----------------------------------------------------------------------------
00001562  4E75                     906              RTS
00001564                           907  
00001564                           908  
00001564                           909  
00001564                           910  
00001564                           911  
00001564                           912  
00001564                           913  
00001564                           914  
00001564                           915  -------------------- end include --------------------
00001564                           916              INCLUDE "INTRO.X68"             ; INTRO STATE MANAGEMENT
00001564                           917  ; =============================================================================
00001564                           918  ; INTRO SCREEN MANAGEMENT
00001564                           919  ; =============================================================================
00001564                           920  
00001564                           921  ; ------------------------------------------------------------------------------
00001564                           922  ISCINIT
00001564                           923  ; INTRO SCREEN INIT
00001564                           924  ; INPUT    : NONE
00001564                           925  ; OUTPUT   : NONE
00001564                           926  ; MODIFIES : NONE
00001564                           927  ; ------------------------------------------------------------------------------
00001564                           928              ; INIT GAME VARIABLES
00001564  4EB9 000018D8            929              JSR BIRDINIT
0000156A  4EB9 00001B44            930              JSR SCOINIT
00001570                           931              ; CLEAN PIPES AND BUTTONS
00001570  303C 0002                932              MOVE.W  #PIPEAGTP,D0
00001574  4EB8 117A                933              JSR AGLCLEAN
00001578  303C 0003                934              MOVE.W  #BUTAGTP,D0
0000157C  4EB8 117A                935              JSR AGLCLEAN
00001580  4E75                     936              RTS
00001582                           937  
00001582                           938  ; ------------------------------------------------------------------------------
00001582                           939  ISCUPD
00001582                           940  ; INTRO SCREEN UPDATE
00001582                           941  ; INPUT    : NONE
00001582                           942  ; OUTPUT   : NONE
00001582                           943  ; MODIFIES : NONE
00001582                           944  ; ------------------------------------------------------------------------------
00001582                           945              
00001582  4EB9 00001A82            946              JSR BACKUPD
00001588  4EB8 10DC                947              JSR AGLUPD
0000158C  1039 00002A35            948              MOVE.B  (KBDEDGE),D0
00001592  C03C 0001                949              AND.B   #1,D0
00001596  6700 000A                950              BEQ     .CONT
0000159A  33FC 0002 00002A5E       951              MOVE.W  #STAGAME,(STANEXT)      
000015A2                           952  .CONT
000015A2  4E75                     953              RTS
000015A4                           954  
000015A4                           955  ; ------------------------------------------------------------------------------
000015A4                           956  ISCPLOT
000015A4                           957  ; INTRO SCREEN PLOT
000015A4                           958  ; INPUT    : NONE
000015A4                           959  ; OUTPUT   : NONE
000015A4                           960  ; MODIFIES : NONE
000015A4                           961  ; ------------------------------------------------------------------------------
000015A4  4EB8 1124                962              JSR AGLPLOT
000015A8  4E75                     963              RTS
000015AA                           964  
000015AA                           965  
000015AA                           966  
000015AA                           967  
000015AA                           968  
000015AA                           969  
000015AA                           970  
000015AA                           971  
000015AA                           972  
000015AA                           973  
000015AA                           974  -------------------- end include --------------------
000015AA                           975              INCLUDE "INSTRUCTIONS.X68"      ; INSTRUCTIONS STATE MANAGEMENT
000015AA                           976  ; =============================================================================
000015AA                           977  ; INSTRUCTION SCREEN MANAGEMENT
000015AA                           978  ; =============================================================================
000015AA                           979  
000015AA                           980  ; ------------------------------------------------------------------------------
000015AA                           981  INSINIT
000015AA                           982  ; INSTRUCTIONS SCREEN INIT
000015AA                           983  ; INPUT    : NONE
000015AA                           984  ; OUTPUT   : NONE
000015AA                           985  ; MODIFIES : NONE
000015AA                           986  ; ------------------------------------------------------------------------------
000015AA  4E75                     987              RTS
000015AC                           988  
000015AC                           989  ; ------------------------------------------------------------------------------
000015AC                           990  INSUPD
000015AC                           991  ; INSTRUCTIONS SCREEN UPDATE
000015AC                           992  ; INPUT    : NONE
000015AC                           993  ; OUTPUT   : NONE
000015AC                           994  ; MODIFIES : NONE
000015AC                           995  ; ------------------------------------------------------------------------------
000015AC  4E75                     996              RTS
000015AE                           997  
000015AE                           998  ; ------------------------------------------------------------------------------
000015AE                           999  INSPLOT
000015AE                          1000  ; INSTRUCTIONS SCREEN PLOT
000015AE                          1001  ; INPUT    : NONE
000015AE                          1002  ; OUTPUT   : NONE
000015AE                          1003  ; MODIFIES : NONE
000015AE                          1004  ; ------------------------------------------------------------------------------
000015AE  4E75                    1005              RTS
000015B0                          1006  
000015B0                          1007  
000015B0                          1008  
000015B0                          1009  
000015B0                          1010  
000015B0                          1011  
000015B0                          1012  
000015B0                          1013  
000015B0                          1014  
000015B0                          1015  
000015B0                          1016  -------------------- end include --------------------
000015B0                          1017              INCLUDE "GAME.X68"              ; GAME STATE MANAGEMENT
000015B0                          1018  ; =============================================================================
000015B0                          1019  ; GAME MANAGEMENT
000015B0                          1020  ; =============================================================================
000015B0                          1021  
000015B0                          1022  ; -----------------------------------------------------------------------------
000015B0                          1023  GAMEINIT
000015B0                          1024  ; INITIALIZES GAME.
000015B0                          1025  ; INPUT    : NONE
000015B0                          1026  ; OUTPUT   : NONE
000015B0                          1027  ; MODIFIES : NONE
000015B0                          1028  ; ------------------------------------------------------------------------------        
000015B0  13F9 00002A3E 00002A3D  1029              MOVE.B  (GAMCYCCT),(SCRCYCCT)
000015BA                          1030              ; CLEAN BUTTONS
000015BA  303C 0003               1031              MOVE.W  #BUTAGTP,D0
000015BE  4EB8 117A               1032              JSR AGLCLEAN
000015C2  4E75                    1033              RTS
000015C4                          1034              
000015C4                          1035  ; -----------------------------------------------------------------------------
000015C4                          1036  GAMEUPD
000015C4                          1037  ; UPDATES GAME.
000015C4                          1038  ; INPUT     : NONE
000015C4                          1039  ; OUTPUT    : NONE
000015C4                          1040  ; MODIFIES  : NONE
000015C4                          1041  ; -----------------------------------------------------------------------------
000015C4                          1042  
000015C4  4EB9 00001A82           1043              JSR     BACKUPD
000015CA  1F00                    1044              MOVE.B  D0,-(A7)
000015CC  1039 00002A35           1045              MOVE.B  (KBDEDGE),D0
000015D2  0800 0001               1046              BTST    #1,D0
000015D6  6700 0014               1047              BEQ     .NOPAUSE
000015DA  33FC 0003 00002A5E      1048              MOVE.W  #STAPAUSE, (STANEXT)
000015E2  13F9 00002A3D 00002A3E  1049              MOVE.B  (SCRCYCCT),(GAMCYCCT)
000015EC                          1050              
000015EC  4EB9 00001600           1051  .NOPAUSE    JSR     NEWPIPE
000015F2  4EB8 10DC               1052              JSR     AGLUPD
000015F6  4EB9 000018E8           1053              JSR     BIRDUPD
000015FC                          1054              
000015FC  101F                    1055              MOVE.B  (A7)+,D0
000015FE  4E75                    1056              RTS
00001600                          1057  
00001600                          1058  ; -----------------------------------------------------------------------------
00001600                          1059  NEWPIPE
00001600                          1060  ; CREATES A NEW PIPE IN CASE IT'S NECESSARY.
00001600                          1061  ; INPUT     : NONE
00001600                          1062  ; OUTPUT    : NONE
00001600                          1063  ; MODIFIES  : NONE
00001600                          1064  ; -----------------------------------------------------------------------------
00001600                          1065  
00001600  48E7 8070               1066              MOVEM.L D0/A1-A3,-(A7)
00001604                          1067              
00001604  1039 00002A3D           1068              MOVE.B  (SCRCYCCT),D0
0000160A  0200 003F               1069              ANDI.B  #MASKNWPP,D0
0000160E  6600 001C               1070              BNE     .GOUPD
00001612  43F9 0000197C           1071              LEA     PIPEINIT,A1
00001618  45F9 00001994           1072              LEA     PIPEUPD,A2
0000161E  47F9 00001A22           1073              LEA     PIPEPLOT,A3
00001624  303C 0002               1074              MOVE    #PIPEAGTP,D0
00001628  4EB8 10C2               1075              JSR     AGLADD
0000162C                          1076              
0000162C  4CDF 0E01               1077  .GOUPD      MOVEM.L (A7)+,D0/A1-A3
00001630  4E75                    1078              RTS
00001632                          1079  
00001632                          1080  ; -----------------------------------------------------------------------------
00001632                          1081  GAMEPLOT
00001632                          1082  ; PLOTS THE GAME.
00001632                          1083  ; INPUT     : NONE
00001632                          1084  ; OUTPUT    : NONE
00001632                          1085  ; MODIFIES  : NONE
00001632                          1086  ; -----------------------------------------------------------------------------
00001632                          1087              
00001632  4EB9 00001B98           1088              JSR     SCOPLOT
00001638  4EB8 1124               1089              JSR     AGLPLOT
0000163C  6000 02FC               1090              BRA     BIRDPLOT
00001640                          1091           
00001640                          1092  
00001640                          1093  
00001640                          1094  
00001640                          1095  
00001640                          1096  
00001640                          1097  
00001640                          1098  
00001640                          1099  
00001640                          1100  
00001640                          1101  
00001640                          1102  
00001640                          1103  
00001640                          1104  
00001640                          1105  -------------------- end include --------------------
00001640                          1106              INCLUDE "PAUSE.X68"             ; PAUSE STATE MANAGEMENT
00001640                          1107  ; =============================================================================
00001640                          1108  ; PAUSE SCREEN MANAGEMENT
00001640                          1109  ; =============================================================================
00001640                          1110  
00001640                          1111  ; ------------------------------------------------------------------------------
00001640                          1112  PAUSINIT
00001640                          1113  ; PAUSE SCREEN INIT
00001640                          1114  ; INPUT    : NONE
00001640                          1115  ; OUTPUT   : NONE
00001640                          1116  ; MODIFIES : NONE
00001640                          1117  ; ------------------------------------------------------------------------------
00001640                          1118  
00001640  48E7 FC78               1119              MOVEM.L  A1-A4/D0-D5,-(A7)
00001644                          1120              
00001644                          1121              ; INIT RESUME BUTTON
00001644  43F9 00001D1E           1122              LEA     BUTINIT,A1
0000164A  45F9 00001D3A           1123              LEA     BUTUPD,A2
00001650  47F9 00001D98           1124              LEA     BUTPLOT,A3
00001656  303C 0003               1125              MOVE    #BUTAGTP,D0
0000165A  49F9 00002A7A           1126              LEA     PAUTXTB1,A4
00001660  323C 00FF               1127              MOVE.W  #SCRWIDTH/2-PAUBUTWD/2,D1
00001664  363C 0181               1128              MOVE.W  #SCRWIDTH/2+PAUBUTWD/2,D3
00001668  343C 00CD               1129              MOVE.W  #SCRHEIGH/2-PAUBUTHG,D2
0000166C  383C 00F0               1130              MOVE.W  #SCRHEIGH/2,D4
00001670  3A3C 0002               1131              MOVE.W  #STAGAME,D5
00001674  4EB8 10C2               1132              JSR     AGLADD
00001678                          1133              
00001678                          1134              ; INIT LEAVE BUTTON
00001678  43F9 00001D1E           1135              LEA     BUTINIT,A1
0000167E  45F9 00001D3A           1136              LEA     BUTUPD,A2
00001684  47F9 00001D98           1137              LEA     BUTPLOT,A3
0000168A  303C 0003               1138              MOVE    #BUTAGTP,D0
0000168E  49F9 00002A81           1139              LEA     PAUTXTB2,A4
00001694  323C 00FF               1140              MOVE.W  #SCRWIDTH/2-PAUBUTWD/2,D1
00001698  363C 0181               1141              MOVE.W  #SCRWIDTH/2+PAUBUTWD/2,D3
0000169C  343C 0101               1142              MOVE.W  #SCRHEIGH/2+PAUBUTHG/2,D2
000016A0  383C 0124               1143              MOVE.W  #SCRHEIGH/2+3*PAUBUTHG/2,D4
000016A4  3A3C 0000               1144              MOVE.W  #STAINTRO,D5
000016A8  4EB8 10C2               1145              JSR     AGLADD
000016AC                          1146              
000016AC  4CDF 1E3F               1147              MOVEM.L  (A7)+,A1-A4/D0-D5
000016B0  4E75                    1148              RTS
000016B2                          1149  
000016B2                          1150  ; ------------------------------------------------------------------------------
000016B2                          1151  PAUSUPD
000016B2                          1152  ; PAUSE SCREEN UPDATE
000016B2                          1153  ; INPUT    : NONE
000016B2                          1154  ; OUTPUT   : NONE
000016B2                          1155  ; MODIFIES : NONE
000016B2                          1156  ; ------------------------------------------------------------------------------
000016B2                          1157          
000016B2  1F00                    1158              MOVE.B  D0,-(A7)
000016B4                          1159              
000016B4                          1160              ; CHECK IF KEY PRESSED TO RESUME GAME
000016B4  1039 00002A35           1161              MOVE.B  (KBDEDGE),D0
000016BA  0800 0001               1162              BTST    #1,D0
000016BE  6700 000A               1163              BEQ     .CONT
000016C2  33FC 0002 00002A5E      1164              MOVE.W  #STAGAME, (STANEXT)   
000016CA                          1165              
000016CA  303C 0003               1166  .CONT       MOVE.W  #BUTAGTP,D0
000016CE  4EB8 10DC               1167              JSR     AGLUPD
000016D2                          1168              
000016D2  101F                    1169              MOVE.B  (A7)+,D0     
000016D4  4E75                    1170              RTS
000016D6                          1171  
000016D6                          1172  ; ------------------------------------------------------------------------------
000016D6                          1173  PAUSPLOT
000016D6                          1174  ; PAUSE SCREEN PLOT
000016D6                          1175  ; INPUT    : NONE
000016D6                          1176  ; OUTPUT   : NONE
000016D6                          1177  ; MODIFIES : NONE
000016D6                          1178  ; ------------------------------------------------------------------------------
000016D6                          1179  
000016D6  48E7 F820               1180              MOVEM.L D0-D4/A2,-(A7)
000016DA                          1181  
000016DA                          1182              ; PLOT ITEMS (SCORE, BIRD, CLOUDS AND PIPES)
000016DA  4EB9 00001B98           1183              JSR     SCOPLOT
000016E0  303C 0001               1184              MOVE.W  #CLOUDAGT,D0
000016E4  4EB8 1154               1185              JSR     AGLPLOTT
000016E8  303C 0002               1186              MOVE.W  #PIPEAGTP,D0
000016EC  4EB8 1154               1187              JSR     AGLPLOTT
000016F0  4EB9 0000193A           1188              JSR     BIRDPLOT
000016F6                          1189              
000016F6                          1190              ; PLOT MENU BACKGROUND
000016F6  4281                    1191              CLR.L   D1                      ; SET PEN COLOR
000016F8  103C 0050               1192              MOVE.B  #80,D0  
000016FC  4E4F                    1193              TRAP    #15
000016FE  223C 00A3A3A3           1194              MOVE.L  #LGGRAY,D1              ; SET FILL COLOR
00001704  5200                    1195              ADDQ.B  #1,D0
00001706  4E4F                    1196              TRAP    #15
00001708  323C 00DC               1197              MOVE.W  #SCRWIDTH/2-PAUMEWID/2,D1
0000170C  363C 01A4               1198              MOVE.W  #SCRWIDTH/2+PAUMEWID/2,D3
00001710  343C 00A5               1199              MOVE.W  #SCRHEIGH/2-PAUMEHEI/2,D2
00001714  383C 013B               1200              MOVE.W  #SCRHEIGH/2+PAUMEHEI/2,D4
00001718  103C 0057               1201              MOVE.B  #87,D0
0000171C  4E4F                    1202              TRAP    #15
0000171E                          1203              
0000171E                          1204              ; PLOT MENU TITLE
0000171E  223C 00231505           1205              MOVE.L  #DARKBLUE,D1
00001724  103C 0050               1206              MOVE.B  #80,D0
00001728  4E4F                    1207              TRAP    #15
0000172A  5200                    1208              ADDQ.B  #1,D0
0000172C  4E4F                    1209              TRAP    #15
0000172E  323C 00FF               1210              MOVE.W  #SCRWIDTH/2-PAUBUTWD/2,D1
00001732  363C 0181               1211              MOVE.W  #SCRWIDTH/2+PAUBUTWD/2,D3
00001736  0442 0011               1212              SUB.W   #PAUBUTHG/2,D2
0000173A  3802                    1213              MOVE.W  D2,D4
0000173C  0644 0023               1214              ADD.W   #PAUBUTHG,D4
00001740  103C 0057               1215              MOVE.B  #87,D0
00001744  4E4F                    1216              TRAP    #15
00001746  3601                    1217              MOVE.W  D1,D3
00001748  0441 0011               1218              SUB.W   #PAUBUTHG/2,D1
0000174C  0643 0011               1219              ADD.W   #PAUBUTHG/2,D3
00001750  5200                    1220              ADDQ.B  #1,D0
00001752  4E4F                    1221              TRAP    #15
00001754  0641 0082               1222              ADD.W   #PAUBUTWD,D1
00001758  0643 0082               1223              ADD.W   #PAUBUTWD,D3
0000175C  4E4F                    1224              TRAP    #15
0000175E  223C 00FEFDFB           1225              MOVE.L  #WHITE,D1
00001764  4EB8 1354               1226              JSR     TXTINIT
00001768  4240                    1227              CLR.W   D0              ; COUNT TEXT LENGTH
0000176A  43F9 00002A74           1228              LEA     PAUTITLE,A1
00001770  4A19                    1229  .LOOP       TST.B   (A1)+
00001772  6700 0008               1230              BEQ     .ENDLOOP
00001776  0600 000C               1231              ADD.B   #TXTSIZE-2,D0
0000177A  60F4                    1232              BRA     .LOOP
0000177C                          1233  .ENDLOOP    
0000177C  323C 0140               1234              MOVE.W  #SCRWIDTH/2,D1
00001780  E248                    1235              LSR.W   #1,D0
00001782  9240                    1236              SUB.W   D0,D1
00001784  0642 0011               1237              ADD.W   #PAUBUTHG/2,D2
00001788  5D42                    1238              SUB.W   #TXTSIZE/2-1,D2
0000178A  43F9 00002A74           1239              LEA     PAUTITLE,A1
00001790  103C 005F               1240              MOVE.B  #95,D0
00001794  4E4F                    1241              TRAP    #15
00001796                          1242  
00001796                          1243              
00001796                          1244              
00001796                          1245              ; PLOT BUTTONS
00001796  303C 0003               1246              MOVE.W  #BUTAGTP,D0
0000179A  4EB8 1154               1247              JSR     AGLPLOTT
0000179E                          1248              
0000179E  4CDF 041F               1249              MOVEM.L (A7)+,D0-D4/A2
000017A2  4E75                    1250              RTS
000017A4                          1251  
000017A4                          1252  
000017A4                          1253  
000017A4                          1254  
000017A4                          1255  
000017A4                          1256  
000017A4                          1257  
000017A4                          1258  
000017A4                          1259  
000017A4                          1260  
000017A4                          1261  
000017A4                          1262  
000017A4                          1263  
000017A4                          1264  
000017A4                          1265  
000017A4                          1266  
000017A4                          1267  
000017A4                          1268  
000017A4                          1269  -------------------- end include --------------------
000017A4                          1270              INCLUDE "GOVER.X68"             ; GAME OVER STATE MANAGEMENT
000017A4                          1271  ; =============================================================================
000017A4                          1272  ; GAME OVER SCREEN MANAGEMENT
000017A4                          1273  ; =============================================================================
000017A4                          1274  
000017A4                          1275  ; ------------------------------------------------------------------------------
000017A4                          1276  GOVINIT
000017A4                          1277  ; GAME OVER SCREEN INIT
000017A4                          1278  ; INPUT    : NONE
000017A4                          1279  ; OUTPUT   : NONE
000017A4                          1280  ; MODIFIES : NONE
000017A4                          1281  ; ------------------------------------------------------------------------------
000017A4                          1282  
000017A4  48E7 FC78               1283              MOVEM.L  A1-A4/D0-D5,-(A7)
000017A8                          1284              
000017A8  4EB9 00001BF0           1285              JSR     SCOSAVE
000017AE                          1286              ; INIT PLAY AGAIN BUTTON
000017AE  43F9 00001D1E           1287              LEA     BUTINIT,A1
000017B4  45F9 00001D3A           1288              LEA     BUTUPD,A2
000017BA  47F9 00001D98           1289              LEA     BUTPLOT,A3
000017C0  303C 0003               1290              MOVE    #BUTAGTP,D0
000017C4  49F9 00002A91           1291              LEA     GOVTXTB1,A4
000017CA  323C 00FF               1292              MOVE.W  #SCRWIDTH/2-GOVBUTWD/2,D1
000017CE  363C 0181               1293              MOVE.W  #SCRWIDTH/2+GOVBUTWD/2,D3
000017D2  343C 00DF               1294              MOVE.W  #SCRHEIGH/2-GOVBUTHG/2,D2
000017D6  383C 0101               1295              MOVE.W  #SCRHEIGH/2+GOVBUTHG/2,D4
000017DA  3A3C 0000               1296              MOVE.W  #STAINTRO,D5
000017DE  4EB8 10C2               1297              JSR     AGLADD
000017E2                          1298  
000017E2  4CDF 1E3F               1299              MOVEM.L  (A7)+,A1-A4/D0-D5
000017E6  4E75                    1300              RTS
000017E8                          1301  
000017E8                          1302  ; ------------------------------------------------------------------------------
000017E8                          1303  GOVUPD
000017E8                          1304  ; GAME OVER SCREEN UPDATE
000017E8                          1305  ; INPUT    : NONE
000017E8                          1306  ; OUTPUT   : NONE
000017E8                          1307  ; MODIFIES : NONE
000017E8                          1308  ; ------------------------------------------------------------------------------
000017E8                          1309  
000017E8  3F00                    1310              MOVE.W  D0,-(A7)
000017EA                          1311  
000017EA  4EB9 00001A82           1312              JSR     BACKUPD
000017F0  4EB8 10DC               1313              JSR     AGLUPD
000017F4                          1314              ; CHECK IF KEY PRESSED
000017F4  1039 00002A35           1315              MOVE.B  (KBDEDGE),D0
000017FA  6700 000A               1316              BEQ     .CONT
000017FE  33FC 0000 00002A5E      1317              MOVE.W  #STAINTRO,(STANEXT)   
00001806                          1318     
00001806  301F                    1319  .CONT       MOVE.W  (A7)+,D0
00001808  4E75                    1320              RTS
0000180A                          1321  
0000180A                          1322  ; ------------------------------------------------------------------------------
0000180A                          1323  GOVPLOT
0000180A                          1324  ; GAME OVER SCREEN PLOT
0000180A                          1325  ; INPUT    : NONE
0000180A                          1326  ; OUTPUT   : NONE
0000180A                          1327  ; MODIFIES : NONE
0000180A                          1328  ; ------------------------------------------------------------------------------
0000180A                          1329  
0000180A  48E7 F820               1330              MOVEM.L D0-D4/A2,-(A7)
0000180E                          1331  
0000180E                          1332              ; PLOT ITEMS (SCORE, BIRD, CLOUDS AND PIPES)
0000180E  4EB9 00001B98           1333              JSR     SCOPLOT
00001814  303C 0001               1334              MOVE.W  #CLOUDAGT,D0
00001818  4EB8 1154               1335              JSR     AGLPLOTT
0000181C  303C 0002               1336              MOVE.W  #PIPEAGTP,D0
00001820  4EB8 1154               1337              JSR     AGLPLOTT
00001824  4EB9 0000193A           1338              JSR     BIRDPLOT
0000182A                          1339              
0000182A                          1340              ; PLOT MENU BACKGROUND
0000182A  4281                    1341              CLR.L   D1                      ; SET PEN COLOR
0000182C  103C 0050               1342              MOVE.B  #80,D0  
00001830  4E4F                    1343              TRAP    #15
00001832  223C 00A3A3A3           1344              MOVE.L  #LGGRAY,D1              ; SET FILL COLOR
00001838  5200                    1345              ADDQ.B  #1,D0
0000183A  4E4F                    1346              TRAP    #15
0000183C  323C 00DC               1347              MOVE.W  #SCRWIDTH/2-GOVMEWID/2,D1
00001840  363C 01A4               1348              MOVE.W  #SCRWIDTH/2+GOVMEWID/2,D3
00001844  343C 00BE               1349              MOVE.W  #SCRHEIGH/2-GOVMEHEI/2,D2
00001848  383C 0122               1350              MOVE.W  #SCRHEIGH/2+GOVMEHEI/2,D4
0000184C  103C 0057               1351              MOVE.B  #87,D0
00001850  4E4F                    1352              TRAP    #15
00001852                          1353              
00001852                          1354              ; PLOT MENU TITLE
00001852  223C 00231505           1355              MOVE.L  #DARKBLUE,D1
00001858  103C 0050               1356              MOVE.B  #80,D0
0000185C  4E4F                    1357              TRAP    #15
0000185E  5200                    1358              ADDQ.B  #1,D0
00001860  4E4F                    1359              TRAP    #15
00001862  323C 00FF               1360              MOVE.W  #SCRWIDTH/2-GOVBUTWD/2,D1
00001866  363C 0181               1361              MOVE.W  #SCRWIDTH/2+GOVBUTWD/2,D3
0000186A  0442 0011               1362              SUB.W   #GOVBUTHG/2,D2
0000186E  3802                    1363              MOVE.W  D2,D4
00001870  0644 0023               1364              ADD.W   #GOVBUTHG,D4
00001874  103C 0057               1365              MOVE.B  #87,D0
00001878  4E4F                    1366              TRAP    #15
0000187A  3601                    1367              MOVE.W  D1,D3
0000187C  0441 0011               1368              SUB.W   #GOVBUTHG/2,D1
00001880  0643 0011               1369              ADD.W   #GOVBUTHG/2,D3
00001884  5200                    1370              ADDQ.B  #1,D0
00001886  4E4F                    1371              TRAP    #15
00001888  0641 0082               1372              ADD.W   #GOVBUTWD,D1
0000188C  0643 0082               1373              ADD.W   #GOVBUTWD,D3
00001890  4E4F                    1374              TRAP    #15
00001892  223C 00FEFDFB           1375              MOVE.L  #WHITE,D1
00001898  4EB8 1354               1376              JSR     TXTINIT
0000189C  4240                    1377              CLR.W   D0              ; COUNT TEXT LENGTH
0000189E  43F9 00002A87           1378              LEA     GOVTITLE,A1
000018A4  4A19                    1379  .LOOP       TST.B   (A1)+
000018A6  6700 0008               1380              BEQ     .ENDLOOP
000018AA  0600 000C               1381              ADD.B   #TXTSIZE-2,D0
000018AE  60F4                    1382              BRA     .LOOP
000018B0                          1383  .ENDLOOP    
000018B0  323C 0140               1384              MOVE.W  #SCRWIDTH/2,D1
000018B4  E248                    1385              LSR.W   #1,D0
000018B6  9240                    1386              SUB.W   D0,D1
000018B8  0642 0011               1387              ADD.W   #GOVBUTHG/2,D2
000018BC  5D42                    1388              SUB.W   #TXTSIZE/2-1,D2
000018BE  43F9 00002A87           1389              LEA     GOVTITLE,A1
000018C4  103C 005F               1390              MOVE.B  #95,D0
000018C8  4E4F                    1391              TRAP    #15
000018CA                          1392  
000018CA                          1393              ; PLOT BUTTONS
000018CA  303C 0003               1394              MOVE.W  #BUTAGTP,D0
000018CE  4EB8 1154               1395              JSR     AGLPLOTT
000018D2                          1396              
000018D2  4CDF 041F               1397              MOVEM.L (A7)+,D0-D4/A2
000018D6  4E75                    1398              RTS
000018D8                          1399  
000018D8                          1400  
000018D8                          1401  
000018D8                          1402  
000018D8                          1403  
000018D8                          1404  
000018D8                          1405  
000018D8                          1406  
000018D8                          1407  
000018D8                          1408  
000018D8                          1409  
000018D8                          1410  
000018D8                          1411  -------------------- end include --------------------
000018D8                          1412              INCLUDE "BIRD.X68"              ; PLAYER (BIRD) MANAGEMENT
000018D8                          1413  ; =============================================================================
000018D8                          1414  ; BIRD MANAGEMENT
000018D8                          1415  ; =============================================================================
000018D8                          1416  
000018D8                          1417  ; -----------------------------------------------------------------------------
000018D8                          1418  BIRDINIT
000018D8                          1419  ; INITIALIZE BIRD.
000018D8                          1420  ; INPUT     : NONE 
000018D8                          1421  ; OUTPUT    : NONE
000018D8                          1422  ; MODIFIES  : NONE
000018D8                          1423  ; -----------------------------------------------------------------------------
000018D8  33FC 00F0 00002A50      1424              MOVE.W  #SCRHEIGH/2,(BIRDPOSY)
000018E0  4279 00002A52           1425              CLR.W   BIRDVELY
000018E6  4E75                    1426              RTS
000018E8                          1427              
000018E8                          1428  ; -----------------------------------------------------------------------------
000018E8                          1429  BIRDUPD
000018E8                          1430  ; UPDATES THE BIRD.
000018E8                          1431  ; INPUT    : NONE 
000018E8                          1432  ; OUTPUT   : NONE
000018E8                          1433  ; MODIFIES : NONE
000018E8                          1434  ; -----------------------------------------------------------------------------
000018E8                          1435  
000018E8  48E7 E000               1436              MOVEM.L D0-D2,-(A7)
000018EC                          1437  
000018EC                          1438              ; UPDATE VELOCITY
000018EC  1439 00002A35           1439              MOVE.B  (KBDEDGE),D2        ; CHECK IF SHOULD JUMP
000018F2  0802 0000               1440              BTST    #0,D2
000018F6  6700 0014               1441              BEQ     .NOJUMP
000018FA                          1442              
000018FA  1E3C 0001               1443              MOVE.B  #SNDJUMP,D7         ; PLAY SOUND
000018FE  4E43                    1444              TRAP    #SNDPLTN
00001900  33FC FFF6 00002A52      1445              MOVE.W  #JUMPVELY,(BIRDVELY)
00001908  6000 0008               1446              BRA     .CORDUPD
0000190C                          1447              
0000190C  5279 00002A52           1448  .NOJUMP     ADDQ.W  #1,BIRDVELY          ; ACCELERATE
00001912                          1449              
00001912                          1450              ; UPDATE BIRD COORDINATES
00001912  3039 00002A50           1451  .CORDUPD    MOVE.W  (BIRDPOSY),D0
00001918  D079 00002A52           1452              ADD.W   (BIRDVELY),D0
0000191E                          1453              
0000191E                          1454              ; CHECK SCREEN COLLISIONS
0000191E  B07C 0195               1455              CMP.W   #SCRHEIGH-FLOHEIGH-BIRDRAD,D0
00001922  6D00 000A               1456              BLT     .NOCOL
00001926                          1457          
00001926                          1458              ; COLLISION BOT
00001926  33FC 0004 00002A5E      1459  .COLBOT     MOVE.W  #STAGOVER,(STANEXT)
0000192E                          1460              
0000192E                          1461              ; STORE POSITION
0000192E  33C0 00002A50           1462  .NOCOL      MOVE.W  D0,(BIRDPOSY)
00001934                          1463  
00001934  4CDF 0007               1464  .DONE       MOVEM.L (A7)+,D0-D2
00001938                          1465              
00001938  4E75                    1466              RTS
0000193A                          1467  
0000193A                          1468  ; -----------------------------------------------------------------------------
0000193A                          1469  BIRDPLOT
0000193A                          1470  ; PLOT THE BIRD.
0000193A                          1471  ; INPUT    : NONE 
0000193A                          1472  ; OUTPUT   : NONE
0000193A                          1473  ; MODIFIES : NONE
0000193A                          1474  ; -----------------------------------------------------------------------------
0000193A                          1475  
0000193A  48E7 F800               1476              MOVEM.L D0-D4,-(A7)
0000193E                          1477  
0000193E                          1478              ; SET PEN COLOR
0000193E  103C 0050               1479              MOVE.B  #80,D0
00001942  4281                    1480              CLR.L   D1
00001944  3239 00002A54           1481              MOVE.W  (BIRDPCOL),D1
0000194A  4E4F                    1482              TRAP    #15
0000194C                          1483              
0000194C                          1484              ; SET FILL COLOR
0000194C  103C 0051               1485              MOVE.B  #81,D0
00001950  3239 00002A56           1486              MOVE.W  (BIRDFCOL),D1
00001956  4E4F                    1487              TRAP    #15
00001958                          1488  
00001958                          1489              ; DEFINE COORDINATES
00001958  323C 0091               1490              MOVE.W  #(BIRDPOSX)-BIRDRAD,D1
0000195C  363C 00AF               1491              MOVE.W  #(BIRDPOSX)+BIRDRAD,D3
00001960  3439 00002A50           1492              MOVE.W  (BIRDPOSY),D2
00001966  3802                    1493              MOVE.W  D2,D4
00001968  0442 000F               1494              SUB.W  #BIRDRAD,D2
0000196C  0644 000F               1495              ADD.W  #BIRDRAD,D4
00001970                          1496              
00001970                          1497              ; DRAW CIRCLE
00001970  103C 0058               1498              MOVE.B  #88,D0
00001974  4E4F                    1499              TRAP    #15
00001976                          1500              
00001976  4CDF 001F               1501              MOVEM.L (A7)+,D0-D4
0000197A                          1502  
0000197A  4E75                    1503              RTS
0000197C                          1504  
0000197C                          1505  
0000197C                          1506  
0000197C                          1507  
0000197C                          1508  
0000197C                          1509  
0000197C                          1510  
0000197C                          1511  
0000197C                          1512  
0000197C                          1513  
0000197C                          1514  
0000197C                          1515  
0000197C                          1516  
0000197C                          1517  -------------------- end include --------------------
0000197C                          1518              INCLUDE "PIPE.X68"              ; OBSTACLE (PIPE) MANAGEMENT
0000197C                          1519  ; =============================================================================
0000197C                          1520  ; PIPE MANAGEMENT (AGENT)
0000197C                          1521  ; PIPEPOSX (W) (A0)
0000197C                          1522  ; PIPETOPH (B) 2(A0)
0000197C                          1523  ; =============================================================================
0000197C                          1524  
0000197C                          1525  ; -----------------------------------------------------------------------------
0000197C                          1526  PIPEINIT
0000197C                          1527  ; INITIALIZE PIPE.
0000197C                          1528  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
0000197C                          1529  ; OUTPUT    : NONE
0000197C                          1530  ; MODIFIES  : NONE
0000197C                          1531  ; -----------------------------------------------------------------------------
0000197C                          1532  
0000197C  2F00                    1533              MOVE.L  D0,-(A7)
0000197E                          1534              
0000197E  30BC 0280               1535              MOVE.W  #SCRWIDTH,(A0)
00001982  4EB8 11E2               1536              JSR UTLRAND         ; RANDOM NUMBER BETWEEN 0-255
00001986  0680 00000096           1537              ADD.L   #(SCRHEIGH-PIPEGAPS-FLOHEIGH)/2,D0
0000198C  1140 0002               1538              MOVE.B  D0,2(A0)
00001990                          1539              
00001990  201F                    1540              MOVE.L  (A7)+,D0
00001992  4E75                    1541              RTS
00001994                          1542              
00001994                          1543  ; -----------------------------------------------------------------------------
00001994                          1544  PIPEUPD
00001994                          1545  ; UPDATES PIPE.
00001994                          1546  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
00001994                          1547  ; OUTPUT    : NONE
00001994                          1548  ; MODIFIES  : NONE
00001994                          1549  ; -----------------------------------------------------------------------------
00001994  48E7 C000               1550              MOVEM.L D0-D1,-(A7)
00001998                          1551              
00001998  3039 00002A5C           1552              MOVE.W  (STACUR),D0
0000199E  B07C 0002               1553              CMP.W   #STAGAME,D0
000019A2  6600 0078               1554              BNE     .END
000019A6                          1555  
000019A6                          1556              ; UPDATE POSITION
000019A6  0650 FFFB               1557              ADD.W   #PIPEVELX,(A0)
000019AA                          1558  
000019AA                          1559  ; CHECK AND HANDLE COLLISIONS
000019AA                          1560              
000019AA                          1561              ; COLLISION WITH SCREEN
000019AA  3010                    1562              MOVE.W  (A0),D0
000019AC  0640 0032               1563              ADD.W   #PIPEWIDT,D0
000019B0  6A00 000A               1564              BPL     .NOKILL
000019B4  4EB8 10AC               1565              JSR AGLKILL
000019B8  6000 0062               1566              BRA     .END
000019BC                          1567              
000019BC                          1568              ; COLLISION WITH BIRD
000019BC  B07C 00E1               1569  .NOKILL     CMP.W   #BIRDPOSX+BIRDRAD+PIPEWIDT,D0
000019C0  6A00 004C               1570              BPL     .NOCOL
000019C4  B07C 0091               1571              CMP.W   #BIRDPOSX-BIRDRAD,D0
000019C8  6B00 0044               1572              BMI     .NOCOL
000019CC                          1573  
000019CC                          1574              
000019CC                          1575              ; BIRD IS IN PIPE X RANGE
000019CC  4280                    1576              CLR.L   D0
000019CE  1028 0002               1577              MOVE.B  2(A0),D0
000019D2  3239 00002A50           1578              MOVE.W  (BIRDPOSY),D1
000019D8  0441 000F               1579              SUB.W   #BIRDRAD,D1
000019DC  B041                    1580              CMP.W   D1,D0
000019DE  6A00 0014               1581              BPL     .COL
000019E2  0640 0078               1582              ADD.W   #PIPEGAPS,D0
000019E6  0641 001E               1583              ADD.W   #2*BIRDRAD,D1
000019EA  B041                    1584              CMP.W   D1,D0
000019EC  6B00 0006               1585              BMI     .COL
000019F0                          1586  
000019F0  6000 001C               1587              BRA     .NOCOL
000019F4                          1588  
000019F4                          1589              ; STOP ALL SOUNDS
000019F4  103C 004C               1590  .COL        MOVE.B  #76,D0
000019F8  7403                    1591              MOVE.L  #3,D2
000019FA  4E4F                    1592              TRAP    #15
000019FC                          1593              
000019FC  1E3C 0000               1594              MOVE.B  #SNDDIE,D7  ; PLAY DIE SOUND
00001A00  4E43                    1595              TRAP    #SNDPLTN
00001A02                          1596              
00001A02  33FC 0004 00002A5E      1597              MOVE.W  #STAGOVER,(STANEXT)
00001A0A                          1598              
00001A0A  6000 0010               1599              BRA     .END
00001A0E                          1600  
00001A0E                          1601              ; SCORE INCREASE
00001A0E  0C50 005F               1602  .NOCOL      CMP.W   #BIRDPOSX-PIPEWIDT-BIRDRAD,(A0)
00001A12  6600 0008               1603              BNE     .END
00001A16  4EB9 00001B7A           1604              JSR     SCOINC
00001A1C                          1605              
00001A1C  4CDF 0003               1606  .END        MOVEM.L  (A7)+,D0-D1
00001A20  4E75                    1607              RTS
00001A22                          1608  
00001A22                          1609  ; -----------------------------------------------------------------------------
00001A22                          1610  PIPEPLOT
00001A22                          1611  ; PLOT THE PIPE.
00001A22                          1612  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
00001A22                          1613  ; OUTPUT    : NONE
00001A22                          1614  ; MODIFIES  : NONE
00001A22                          1615  ; -----------------------------------------------------------------------------
00001A22                          1616      
00001A22  48E7 F800               1617              MOVEM.L D0-D4,-(A7)
00001A26                          1618              
00001A26                          1619              ; SET PEN AND FILL COLORS
00001A26  103C 0050               1620              MOVE.B  #80,D0
00001A2A  223C 000C0C0C           1621              MOVE.L  #PIPEPCOL,D1
00001A30  4E4F                    1622              TRAP    #15
00001A32  103C 0051               1623              MOVE.B  #81,D0
00001A36  223C 00616161           1624              MOVE.L  #PIPEFCOL,D1
00001A3C  4E4F                    1625              TRAP    #15
00001A3E                          1626              
00001A3E                          1627              ; PLOT TOP HALF
00001A3E  3210                    1628              MOVE.W  (A0),D1
00001A40  4242                    1629              CLR.W   D2
00001A42  3601                    1630              MOVE.W  D1,D3
00001A44  0643 0032               1631              ADD.W   #PIPEWIDT,D3
00001A48  4244                    1632              CLR.W   D4
00001A4A  1828 0002               1633              MOVE.B  2(A0),D4
00001A4E  103C 0057               1634              MOVE.B  #87,D0
00001A52  4E4F                    1635              TRAP    #15
00001A54                          1636              ; PLOT TOP PIPE OPENING
00001A54  3404                    1637              MOVE.W  D4,D2
00001A56  0442 000F               1638              SUB.W   #PPOPHEIG,D2
00001A5A  5B41                    1639              SUB.W   #PPOPOVER,D1
00001A5C  5A43                    1640              ADD.W   #PPOPOVER,D3
00001A5E  4E4F                    1641              TRAP    #15
00001A60                          1642              
00001A60                          1643              
00001A60                          1644              ; PLOT BOTTOM HALF
00001A60  5A41                    1645              ADD.W   #PPOPOVER,D1
00001A62  5B43                    1646              SUB.W   #PPOPOVER,D3
00001A64  3404                    1647              MOVE.W  D4,D2
00001A66  0642 0078               1648              ADD.W   #PIPEGAPS,D2
00001A6A  383C 01A4               1649              MOVE.W  #SCRHEIGH-FLOHEIGH,D4
00001A6E  4E4F                    1650              TRAP    #15
00001A70                          1651              ;PLOT BOTTOM PIPE OPNENING
00001A70  5B41                    1652              SUB.W   #PPOPOVER,D1
00001A72  5A43                    1653              ADD.W   #PPOPOVER,D3
00001A74  3802                    1654              MOVE.W  D2,D4
00001A76  0644 000F               1655              ADD.W   #PPOPHEIG,D4
00001A7A  4E4F                    1656              TRAP    #15
00001A7C                          1657              
00001A7C  4CDF 001F               1658              MOVEM.L (A7)+,D0-D4
00001A80  4E75                    1659              RTS
00001A82                          1660  
00001A82                          1661  
00001A82                          1662  
00001A82                          1663  
00001A82                          1664  
00001A82                          1665  
00001A82                          1666  
00001A82                          1667  
00001A82                          1668  
00001A82                          1669  
00001A82                          1670  
00001A82                          1671  
00001A82                          1672  
00001A82                          1673  -------------------- end include --------------------
00001A82                          1674              INCLUDE "BACKGROUND.X68"        ; BACKGROUND MANAGEMENT
00001A82                          1675  ; =============================================================================
00001A82                          1676  ; BACKGROUND MANAGEMENT
00001A82                          1677  ; =============================================================================
00001A82                          1678  
00001A82                          1679  ; -----------------------------------------------------------------------------
00001A82                          1680  BACKUPD
00001A82                          1681  ; UPDATES BACKGROUND
00001A82                          1682  ; INPUT     : NONE
00001A82                          1683  ; OUTPUT    : NONE
00001A82                          1684  ; MODIFIES  : NONE
00001A82                          1685  ; -----------------------------------------------------------------------------
00001A82                          1686              
00001A82  48E7 8070               1687              MOVEM.L D0/A1-A3,-(A7)
00001A86                          1688              
00001A86                          1689              ; CREATE NEW CLOUD
00001A86  1039 00002A3D           1690              MOVE.B  (SCRCYCCT),D0
00001A8C  0200 00FF               1691              ANDI.B  #MASKNWCL,D0
00001A90  6600 001C               1692              BNE     .NONEWCL
00001A94  43F9 00001C36           1693              LEA     CLDINIT,A1
00001A9A  45F9 00001C5A           1694              LEA     CLDUPD,A2
00001AA0  47F9 00001C88           1695              LEA     CLDPLOT,A3
00001AA6  303C 0001               1696              MOVE    #CLOUDAGT,D0
00001AAA  4EB8 10C2               1697              JSR     AGLADD
00001AAE                          1698              
00001AAE  4CDF 0E01               1699  .NONEWCL    MOVEM.L (A7)+,D0/A1-A3
00001AB2  4E75                    1700              RTS
00001AB4                          1701  
00001AB4                          1702  ; -----------------------------------------------------------------------------
00001AB4                          1703  BACKPLOT
00001AB4                          1704  ; DRAWS BACKGROUND
00001AB4                          1705  ; INPUT     : NONE
00001AB4                          1706  ; OUTPUT    : NONE
00001AB4                          1707  ; MODIFIES  : NONE
00001AB4                          1708  ; -----------------------------------------------------------------------------
00001AB4                          1709  
00001AB4  4EB9 00001ABE           1710              JSR SKYPLOT
00001ABA  6000 0030               1711              BRA FLOPLOT
00001ABE                          1712              
00001ABE                          1713  ; -----------------------------------------------------------------------------
00001ABE                          1714  SKYPLOT
00001ABE                          1715  ; DRAWS THE SKY BACKGROUND
00001ABE                          1716  ; INPUT     : NONE
00001ABE                          1717  ; OUTPUT    : NONE
00001ABE                          1718  ; MODIFIES  : NONE
00001ABE                          1719  ; -----------------------------------------------------------------------------
00001ABE                          1720              
00001ABE  48E7 F800               1721              MOVEM.L D0-D4,-(A7)
00001AC2                          1722              ; SET PEN COLOR
00001AC2  223C 00FFBF80           1723              MOVE.L  #SKYCOLOR,D1
00001AC8  103C 0050               1724              MOVE.B  #80,D0
00001ACC  4E4F                    1725              TRAP    #15
00001ACE                          1726              
00001ACE                          1727              ; SET FILL COLOR
00001ACE  103C 0051               1728              MOVE.B  #81,D0
00001AD2  4E4F                    1729              TRAP    #15
00001AD4                          1730              
00001AD4                          1731              ; SET COORDS AND DRAW
00001AD4  103C 0057               1732              MOVE.B  #87,D0
00001AD8  4241                    1733              CLR.W   D1
00001ADA  4242                    1734              CLR.W   D2
00001ADC  363C 0280               1735              MOVE.W  #SCRWIDTH,D3
00001AE0  383C 01E0               1736              MOVE.W  #SCRHEIGH,D4
00001AE4  4E4F                    1737              TRAP    #15
00001AE6                          1738              
00001AE6  4CDF 001F               1739              MOVEM.L (A7)+,D0-D4
00001AEA  4E75                    1740              RTS
00001AEC                          1741              
00001AEC                          1742  ; -----------------------------------------------------------------------------
00001AEC                          1743  FLOPLOT
00001AEC                          1744  ; DRAWS THE FLOOR BACKGROUND
00001AEC                          1745  ; INPUT     : NONE
00001AEC                          1746  ; OUTPUT    : NONE
00001AEC                          1747  ; MODIFIES  : NONE
00001AEC                          1748  ; -----------------------------------------------------------------------------
00001AEC                          1749  
00001AEC  48E7 F800               1750              MOVEM.L D0-D4,-(A7)
00001AF0                          1751              
00001AF0                          1752              ; DRAW GRASS
00001AF0  4281                    1753              CLR.L   D1                      ; SET PEN COLOR
00001AF2  103C 0050               1754              MOVE.B  #80,D0
00001AF6  4E4F                    1755              TRAP    #15
00001AF8  223C 0035DE3B           1756              MOVE.L  #GRASSCLR,D1            ; SET FILL COLOR
00001AFE  103C 0051               1757              MOVE.B  #81,D0                  
00001B02  4E4F                    1758              TRAP    #15
00001B04  103C 0057               1759              MOVE.B  #87,D0                  ; SET COORDS AND DRAW
00001B08  72FF                    1760              MOVE.L  #-1,D1
00001B0A  343C 01A4               1761              MOVE.W  #SCRHEIGH-FLOHEIGH,D2
00001B0E  363C 0280               1762              MOVE.W  #SCRWIDTH,D3
00001B12  383C 01B3               1763              MOVE.W  #SCRHEIGH-DIRTHEIG,D4
00001B16  4E4F                    1764              TRAP    #15
00001B18                          1765              
00001B18                          1766              ; DRAW DIRT
00001B18  223C 00306284           1767              MOVE.L  #DIRTCLR,D1             ; SET PEN COLOR
00001B1E  103C 0050               1768              MOVE.B  #80,D0
00001B22  4E4F                    1769              TRAP    #15
00001B24  223C 00306284           1770              MOVE.L  #DIRTCLR,D1             ; SET FILL COLOR
00001B2A  103C 0051               1771              MOVE.B  #81,D0                  
00001B2E  4E4F                    1772              TRAP    #15
00001B30  103C 0057               1773              MOVE.B  #87,D0
00001B34  4241                    1774              CLR.W   D1
00001B36  3404                    1775              MOVE.W  D4,D2
00001B38  383C 01E0               1776              MOVE.W  #SCRHEIGH,D4
00001B3C  4E4F                    1777              TRAP    #15
00001B3E                          1778              
00001B3E  4CDF 001F               1779              MOVEM.L (A7)+,D0-D4
00001B42  4E75                    1780              RTS
00001B44                          1781  
00001B44                          1782  
00001B44                          1783  
00001B44                          1784  
00001B44                          1785  -------------------- end include --------------------
00001B44                          1786              INCLUDE "SCORE.X68"             ; SCORE MANAGEMENT
00001B44                          1787  ; =============================================================================
00001B44                          1788  ; SCOREBOARD MANAGEMENT
00001B44                          1789  ; =============================================================================
00001B44                          1790  
00001B44                          1791  ; ------------------------------------------------------------------------------
00001B44                          1792  SCOINIT
00001B44                          1793  ; INITIALIZE SCOREBOARD
00001B44                          1794  ; INPUT    : NONE 
00001B44                          1795  ; OUTPUT   : NONE
00001B44                          1796  ; MODIFIES : NONE
00001B44                          1797  ; ------------------------------------------------------------------------------
00001B44                          1798  
00001B44  48E7 E0C0               1799              MOVEM.L D0-D2/A0-A1,-(A7)
00001B48  4279 00002A58           1800              CLR.W   (SCORE)
00001B4E  4279 00002A5A           1801              CLR.W   (HIGHSCO)
00001B54                          1802              
00001B54                          1803              ; OPEN FILE
00001B54  43F9 00002A40           1804              LEA     SCOPATH,A1
00001B5A  103C 0033               1805              MOVE.B  #51,D0
00001B5E  4E4F                    1806              TRAP    #15
00001B60                          1807              
00001B60                          1808              ; READ HIGH SCORE
00001B60  43F9 00002A5A           1809              LEA     HIGHSCO,A1
00001B66  7402                    1810              MOVE.L  #2,D2
00001B68  103C 0035               1811              MOVE.B  #53,D0
00001B6C  4E4F                    1812              TRAP    #15
00001B6E                          1813              
00001B6E                          1814              ; CLOSE FILE
00001B6E  103C 0038               1815              MOVE.B  #56,D0
00001B72  4E4F                    1816              TRAP    #15
00001B74                          1817              
00001B74  4CDF 0307               1818              MOVEM.L (A7)+,D0-D2/A0-A1
00001B78  4E75                    1819              RTS
00001B7A                          1820              
00001B7A                          1821  ; -----------------------------------------------------------------------------
00001B7A                          1822  SCOINC
00001B7A                          1823  ; INCREASES THE SCORE BY 1
00001B7A                          1824  ; INPUT     : NONE
00001B7A                          1825  ; OUTPUT    : SCORE = SCORE + 1
00001B7A                          1826  ; MODIFIES  : NONE (APART FROM OUTPUT)
00001B7A                          1827  ; -----------------------------------------------------------------------------
00001B7A  48E7 A100               1828              MOVEM.L D0/D2/D7,-(A7)
00001B7E                          1829  
00001B7E  5279 00002A58           1830              ADDQ.W  #1,(SCORE)
00001B84                          1831              ; STOP ALL SOUNDS
00001B84  103C 004C               1832              MOVE.B  #76,D0
00001B88  7403                    1833              MOVE.L  #3,D2
00001B8A  4E4F                    1834              TRAP    #15
00001B8C                          1835              
00001B8C                          1836              ; PLAY SOUND
00001B8C  1E3C 0002               1837              MOVE.B  #SNDSCO,D7
00001B90  4E43                    1838              TRAP    #SNDPLTN
00001B92                          1839              
00001B92  4CDF 0085               1840              MOVEM.L (A7)+,D0/D2/D7
00001B96  4E75                    1841              RTS
00001B98                          1842              
00001B98                          1843  ; ------------------------------------------------------------------------------
00001B98                          1844  SCOPLOT
00001B98                          1845  ; PLOT THE SCOREBOARD
00001B98                          1846  ; INPUT    : NONE 
00001B98                          1847  ; OUTPUT   : NONE
00001B98                          1848  ; MODIFIES : NONE
00001B98                          1849  ; ------------------------------------------------------------------------------
00001B98                          1850  
00001B98  48E7 C040               1851              MOVEM.L D0-D1/A1,-(A7)
00001B9C                          1852  
00001B9C                          1853              ; SET BACKGROUND COLOR
00001B9C  103C 0051               1854              MOVE.B  #81,D0
00001BA0  223C 00306284           1855              MOVE.L  #SCOFCOL,D1
00001BA6  4E4F                    1856              TRAP    #15
00001BA8                          1857              
00001BA8                          1858              ; SET SCORE LINE POSITION
00001BA8  103C 000B               1859              MOVE.B  #11,D0
00001BAC  323C 1017               1860              MOVE.W  #SCOLINE,D1
00001BB0  4E4F                    1861              TRAP    #15
00001BB2                          1862              
00001BB2                          1863              ; PLOT THE SCORE
00001BB2  7200                    1864              MOVE.L  #BLACK,D1
00001BB4  4EB8 1354               1865              JSR     TXTINIT
00001BB8  43F9 00002A60           1866              LEA     SCOTXT,A1
00001BBE  4281                    1867              CLR.L   D1
00001BC0  3239 00002A58           1868              MOVE.W  (SCORE),D1
00001BC6  103C 0011               1869              MOVE.B  #17,D0
00001BCA  4E4F                    1870              TRAP    #15
00001BCC                          1871              
00001BCC                          1872              ; SET HIGH SCORE LINE POSITION
00001BCC  103C 000B               1873              MOVE.B  #11,D0
00001BD0  323C 1018               1874              MOVE.W  #HSCOLINE,D1
00001BD4  4E4F                    1875              TRAP    #15
00001BD6                          1876              
00001BD6                          1877              ; PLOT THE HIGHSCORE
00001BD6  43F9 00002A68           1878              LEA     HISCOTXT,A1
00001BDC  4281                    1879              CLR.L   D1
00001BDE  3239 00002A5A           1880              MOVE.W  (HIGHSCO),D1
00001BE4  103C 0011               1881              MOVE.B  #17,D0
00001BE8  4E4F                    1882              TRAP    #15
00001BEA                          1883              
00001BEA  4CDF 0203               1884              MOVEM.L (A7)+,D0-D1/A1
00001BEE  4E75                    1885              RTS
00001BF0                          1886  
00001BF0                          1887  ; ------------------------------------------------------------------------------
00001BF0                          1888  SCOSAVE
00001BF0                          1889  ; SAVES THE HIGH SCORE
00001BF0                          1890  ; INPUT    : NONE 
00001BF0                          1891  ; OUTPUT   : NONE
00001BF0                          1892  ; MODIFIES : NONE
00001BF0                          1893  ; ------------------------------------------------------------------------------
00001BF0                          1894  
00001BF0  48E7 E0C0               1895              MOVEM.L A0-A1/D0-D2,-(A7)
00001BF4                          1896              ; IF ACTUAL SCORE > HIGH SCORE
00001BF4  3039 00002A58           1897              MOVE.W  (SCORE),D0
00001BFA  3239 00002A5A           1898              MOVE.W  (HIGHSCO),D1
00001C00  B240                    1899              CMP.W   D0,D1
00001C02  6C00 002C               1900              BGE     .END
00001C06                          1901              
00001C06                          1902              ; OPEN FILE
00001C06  43F9 00002A40           1903              LEA     SCOPATH,A1
00001C0C  103C 0033               1904              MOVE.B  #51,D0
00001C10  4E4F                    1905              TRAP    #15
00001C12                          1906              
00001C12                          1907              ; SAVE NEW HIGH SCORE
00001C12  33F9 00002A58 00002A5A  1908              MOVE.W  (SCORE),(HIGHSCO)
00001C1C  43F9 00002A5A           1909              LEA     HIGHSCO,A1
00001C22  7402                    1910              MOVE.L  #2,D2
00001C24  103C 0036               1911              MOVE.B  #54,D0
00001C28  4E4F                    1912              TRAP    #15
00001C2A                          1913              
00001C2A                          1914              ; CLOSE FILE
00001C2A  103C 0038               1915              MOVE.B  #56,D0
00001C2E  4E4F                    1916              TRAP    #15
00001C30                          1917              
00001C30                          1918              
00001C30  4CDF 0307               1919  .END        MOVEM.L (A7)+,A0-A1/D0-D2
00001C34  4E75                    1920              RTS
00001C36                          1921  
00001C36                          1922  
00001C36                          1923  
00001C36                          1924  
00001C36                          1925  
00001C36                          1926  
00001C36                          1927  
00001C36                          1928  -------------------- end include --------------------
00001C36                          1929              INCLUDE "CLOUD.X68"             ; CLOUD MANAGEMENT
00001C36                          1930  ; =============================================================================
00001C36                          1931  ; CLOUD MANAGEMENT (AGENT)
00001C36                          1932  ; CLOUDPOSX  (W) (A0)
00001C36                          1933  ; CLOUDPOSY  (W) 2(A0)
00001C36                          1934  ; CLOUDSPEED (W) 4(A0)
00001C36                          1935  ; CLOUDTYPE  (W) 6(A0)
00001C36                          1936  ; =============================================================================
00001C36                          1937  
00001C36                          1938  ; -----------------------------------------------------------------------------
00001C36                          1939  CLDINIT
00001C36                          1940  ; INITIALIZE CLOUD.
00001C36                          1941  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
00001C36                          1942  ; OUTPUT    : NONE
00001C36                          1943  ; MODIFIES  : NONE
00001C36                          1944  ; -----------------------------------------------------------------------------
00001C36                          1945  
00001C36  2F00                    1946              MOVE.L  D0,-(A7)
00001C38                          1947  
00001C38                          1948              ; INIT POSITION
00001C38  30BC 0280               1949              MOVE.W  #SCRWIDTH,(A0)
00001C3C  4EB8 11E2               1950              JSR UTLRAND             ; RANDOM NUMBER BETWEEN 0-255
00001C40  3140 0002               1951              MOVE.W  D0,2(A0)
00001C44                          1952              ; INIT CLOUD TYPE
00001C44  C03C 0007               1953              AND.B   #7,D0
00001C48  3140 0006               1954              MOVE.W  D0,6(A0)
00001C4C                          1955              ; INIT SPEED
00001C4C  82BC FFFFFFFC           1956              OR.L    #CLDSPMSK,D1
00001C52  3141 0004               1957              MOVE.W  D1,4(A0)
00001C56                          1958              
00001C56  201F                    1959              MOVE.L (A7)+,D0
00001C58  4E75                    1960              RTS
00001C5A                          1961  
00001C5A                          1962  ; -----------------------------------------------------------------------------
00001C5A                          1963  CLDUPD
00001C5A                          1964  ; UPDATES CLOUD.
00001C5A                          1965  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
00001C5A                          1966  ; OUTPUT    : NONE
00001C5A                          1967  ; MODIFIES  : NONE
00001C5A                          1968  ; -----------------------------------------------------------------------------
00001C5A                          1969              
00001C5A  48E7 8040               1970              MOVEM.L D0/A1,-(A7)
00001C5E                          1971              
00001C5E                          1972              ; UPDATE POSITION
00001C5E  3028 0004               1973              MOVE.W  4(A0),D0
00001C62  D050                    1974              ADD.W   (A0),D0
00001C64  3080                    1975              MOVE.W  D0,(A0)
00001C66                          1976              
00001C66                          1977  ; CHECK AND HANDLE COLISION
00001C66                          1978              ; SELECT CLOUD WIDTH
00001C66  3028 0006               1979              MOVE.W  6(A0),D0
00001C6A  E558                    1980              ROL.W   #2,D0           ; TIMES 4 TIMES SINCE WE ACCESS LONG
00001C6C  43F9 00001CB0           1981              LEA     CLDTBL,A1
00001C72  2271 0000               1982              MOVE.L  (A1,D0.W),A1
00001C76  3011                    1983              MOVE.W  (A1),D0
00001C78                          1984              
00001C78  D050                    1985              ADD.W   (A0),D0
00001C7A  6E00 0006               1986              BGT     .NOKILL
00001C7E  4EB8 10AC               1987              JSR AGLKILL             ; KILL AGENT
00001C82                          1988              
00001C82  4CDF 0201               1989  .NOKILL     MOVEM.L (A7)+,D0/A1       
00001C86  4E75                    1990              RTS
00001C88                          1991  
00001C88                          1992  ; -----------------------------------------------------------------------------
00001C88                          1993  CLDPLOT
00001C88                          1994  ; PLOTS CLOUD.
00001C88                          1995  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
00001C88                          1996  ; OUTPUT    : NONE
00001C88                          1997  ; MODIFIES  : NONE
00001C88                          1998  ; -----------------------------------------------------------------------------
00001C88                          1999              
00001C88  48E7 B140               2000              MOVEM.L D0/D2-D3/D7/A1,-(A7)
00001C8C                          2001              
00001C8C                          2002              ; SELECT THE CLOUD TYPE
00001C8C  3028 0006               2003              MOVE.W  6(A0),D0
00001C90  E558                    2004              ROL.W   #2,D0           ; TIMES 4 TIMES SINCE WE ACCESS LONG
00001C92  43F9 00001CB0           2005              LEA     CLDTBL,A1
00001C98  2271 0000               2006              MOVE.L  (A1,D0.W),A1
00001C9C                          2007              
00001C9C                          2008              ; PLOT IMAGE
00001C9C  3E19                    2009              MOVE.W  (A1)+,D7        ; ASSUME CLOUDX IS RIGHT NEXT TO CLOUDXW
00001C9E  3428 0002               2010              MOVE.W  2(A0),D2
00001CA2  3610                    2011              MOVE.W  (A0),D3
00001CA4  4EB9 00001CD0           2012              JSR     IMGPLOT
00001CAA                          2013              
00001CAA  4CDF 028D               2014              MOVEM.L (A7)+,D0/D2-D3/D7/A1
00001CAE  4E75                    2015              RTS
00001CB0                          2016                
00001CB0= 00001E0E                2017  CLDTBL      DC.L    CLOUD0W
00001CB4= 00001F54                2018              DC.L    CLOUD1W
00001CB8= 00002092                2019              DC.L    CLOUD2W
00001CBC= 00002318                2020              DC.L    CLOUD3W
00001CC0= 000023AE                2021              DC.L    CLOUD4W
00001CC4= 000025B4                2022              DC.L    CLOUD5W
00001CC8= 00002732                2023              DC.L    CLOUD6W
00001CCC= 00002858                2024              DC.L    CLOUD7W
00001CD0                          2025  
00001CD0                          2026  
00001CD0                          2027  
00001CD0                          2028  -------------------- end include --------------------
00001CD0                          2029              INCLUDE "IMAGE.X68"             ; IMAGE DRAWING ROUTINES
00001CD0                          2030  ; =============================================================================
00001CD0                          2031  ; IMAGE LIBRARY. IT CONTAINS ROUTINES TO DRAW IMAGES. EVERY IMAGE DATA SHOULD 
00001CD0                          2032  ; HAVE N LONG PAIRS, THE FIRST OF THE PAIR MEANS THE COLOR OF A BLOCK IN 
00001CD0                          2033  ; FORMAT $00BBGGRR AND THE SECOND IS THE AMMOUNT OF BLOCKS IN A ROW WITH 
00001CD0                          2034  ; THE SAME COLOR.
00001CD0                          2035  ; EVERY IMAGE DATA IS ENDING WITH THE FLAG $FFFFFFFF
00001CD0                          2036  ; =============================================================================
00001CD0                          2037  
00001CD0                          2038  ; -----------------------------------------------------------------------------
00001CD0                          2039  IMGPLOT
00001CD0                          2040  ; PLOTS AN IMAGE IN THE GIVEN COORDINATES
00001CD0                          2041  ; INPUT:    A1 POINTER TO IMAGE DATA
00001CD0                          2042  ;           D2.W Y START
00001CD0                          2043  ;           D3.W X START
00001CD0                          2044  ;           D7.W IMAGE WIDTH
00001CD0                          2045  ; NOTE : WON'T USE IMAGE HEIGHT TO MANAGE IMAGE END, AS WE ASSUME IMAGE DATA
00001CD0                          2046  ;        IS ENDING WITH THE FLAG $FFFFFFFF
00001CD0                          2047  ; -----------------------------------------------------------------------------
00001CD0                          2048  
00001CD0  48E7 FF40               2049              MOVEM.L A1/D0-D7,-(A7)
00001CD4                          2050              
00001CD4  33C3 00001D1C           2051              MOVE.W  D3,(.STARTX)  ; STORE STARTING X
00001CDA  3A03                    2052              MOVE.W  D3,D5   
00001CDC  DA47                    2053              ADD.W   D7,D5       ; X ENDING COORD
00001CDE                          2054              
00001CDE                          2055              
00001CDE                          2056              ; SET PEN AND FILL COLOR
00001CDE  2219                    2057              MOVE.L  (A1)+,D1
00001CE0  103C 0050               2058  .LOOP1      MOVE.B  #80,D0
00001CE4  4E4F                    2059              TRAP    #15
00001CE6  5200                    2060              ADDQ.B  #1,D0
00001CE8  4E4F                    2061              TRAP    #15
00001CEA                          2062              
00001CEA                          2063              ; DRAW BLOCK
00001CEA  2C19                    2064              MOVE.L  (A1)+,D6
00001CEC  5386                    2065              SUBQ.L  #1,D6            
00001CEE  3203                    2066  .LOOP2      MOVE.W  D3,D1       ; BLOCK START X
00001CF0  5843                    2067              ADDQ.W  #BLOCKSZ,D3 ; BLOCK END X
00001CF2  3802                    2068              MOVE.W  D2,D4       
00001CF4  5844                    2069              ADDQ.W  #BLOCKSZ,D4 ; BLOCK END Y
00001CF6  103C 0057               2070              MOVE.B  #87,D0
00001CFA  4E4F                    2071              TRAP    #15
00001CFC                          2072              
00001CFC  BA43                    2073              CMP.W   D3,D5
00001CFE  6C00 000A               2074              BGE     .SAMEROW
00001D02                          2075              ; MOVE TO NEXT ROW
00001D02  3639 00001D1C           2076              MOVE.W  (.STARTX),D3
00001D08  5842                    2077              ADDQ.W  #BLOCKSZ,D2
00001D0A  51CE FFE2               2078  .SAMEROW    DBRA    D6,.LOOP2
00001D0E                          2079              
00001D0E  2219                    2080              MOVE.L  (A1)+,D1
00001D10  B27C FFFF               2081              CMP.W   #.ENDFLAG,D1
00001D14  66CA                    2082              BNE     .LOOP1
00001D16                          2083              
00001D16                          2084              
00001D16  4CDF 02FF               2085              MOVEM.L (A7)+,A1/D0-D7
00001D1A  4E75                    2086              RTS
00001D1C                          2087         
00001D1C  =FFFFFFFF               2088  .ENDFLAG    EQU     $FFFFFFFF
00001D1C                          2089  
00001D1C                          2090  .STARTX     DS.W    1
00001D1E                          2091  
00001D1E                          2092  
00001D1E                          2093  
00001D1E                          2094  
00001D1E                          2095  
00001D1E                          2096  
00001D1E                          2097  
00001D1E                          2098  -------------------- end include --------------------
00001D1E                          2099              INCLUDE "BUTTON.X68"            ; BUTTONS MANAGEMENT
00001D1E                          2100  ; =============================================================================
00001D1E                          2101  ; BUTTON MANAGEMENT (AGENT)
00001D1E                          2102  ; BUTTON LEFT POS X (W)         (A0)
00001D1E                          2103  ; BUTTON TOP POS Y (W)          2(A0)
00001D1E                          2104  ; BUTTON RIGHT POS X (W)        4(A0)
00001D1E                          2105  ; BUTTON BOTTOM POS Y (W)       6(A0)
00001D1E                          2106  ; BUTTON POINTER TO TEXT (L)    10(A0)
00001D1E                          2107  ; BUTTON NEXT STATE (W)         14(A0)
00001D1E                          2108  ; BUTTON STATE (BOOL HOVER)     16(A0)
00001D1E                          2109  ; =============================================================================
00001D1E                          2110  
00001D1E                          2111  ; ------------------------------------------------------------------------------
00001D1E                          2112  BUTINIT
00001D1E                          2113  ; INITS A BUTTON
00001D1E                          2114  ; INPUT    : A0 POINTER TO INSTANCE VARIABLES
00001D1E                          2115  ;            A4 POINTER TO ZERO-TERMINATED STRING
00001D1E                          2116  ;            D1.W LEFT POS X
00001D1E                          2117  ;            D2.W TOP POS Y
00001D1E                          2118  ;            D3.W RIGHT POS X
00001D1E                          2119  ;            D4.W BOT POS Y
00001D1E                          2120  ;            D5.W STATE TO CHANGE WHEN PRESSED
00001D1E                          2121  ; OUTPUT   : NONE
00001D1E                          2122  ; MODIFIES : NONE
00001D1E                          2123  ; ------------------------------------------------------------------------------
00001D1E                          2124              
00001D1E  3081                    2125              MOVE.W  D1,(A0)
00001D20  3142 0002               2126              MOVE.W  D2,2(A0)
00001D24  3143 0004               2127              MOVE.W  D3,4(A0)
00001D28  3144 0006               2128              MOVE.W  D4,6(A0)
00001D2C  214C 000A               2129              MOVE.L  A4,10(A0)
00001D30  3145 000E               2130              MOVE.W  D5,14(A0)
00001D34  4228 0010               2131              CLR.B   16(A0)
00001D38                          2132              
00001D38  4E75                    2133              RTS
00001D3A                          2134  
00001D3A                          2135  ; ------------------------------------------------------------------------------
00001D3A                          2136  BUTUPD
00001D3A                          2137  ; UPDATES BUTTON STATUS
00001D3A                          2138  ; INPUT    : A0 POINTER TO INSTANCE VARIABLES
00001D3A                          2139  ; OUTPUT   : NONE
00001D3A                          2140  ; MODIFIES : NONE
00001D3A                          2141  ; ------------------------------------------------------------------------------
00001D3A                          2142  
00001D3A  48E7 C000               2143              MOVEM.L D0-D1,-(A7)
00001D3E                          2144              
00001D3E                          2145              ; CHECK IF HOVER
00001D3E  2239 00002A36           2146              MOVE.L  (MOUPOS),D1
00001D44  3001                    2147              MOVE.W  D1,D0           ; X MOUSE POS
00001D46  C2BC FFFF0000           2148              AND.L   #$FFFF0000,D1
00001D4C  E199                    2149              ROL.L   #8,D1           
00001D4E  E199                    2150              ROL.L   #8,D1           ; Y MOUSE POS
00001D50  B050                    2151              CMP.W   (A0),D0
00001D52  6D00 003A               2152              BLT     .NOHOVER
00001D56  B068 0004               2153              CMP.W   4(A0),D0
00001D5A  6E00 0032               2154              BGT     .NOHOVER
00001D5E  B268 0002               2155              CMP.W   2(A0),D1
00001D62  6D00 002A               2156              BLT     .NOHOVER
00001D66  B268 0006               2157              CMP.W   6(A0),D1
00001D6A  6E00 0022               2158              BGT     .NOHOVER
00001D6E                          2159              ; SET STATE TO HOVER
00001D6E  117C 0001 0010          2160              MOVE.B  #1,16(A0)
00001D74                          2161              
00001D74                          2162              ; CHANGE STATE IN CASE MOUSE IS PRESSED
00001D74  1039 00002A3A           2163              MOVE.B  MOUVAL,D0
00001D7A  C03C 0007               2164              AND.B   #7,D0           ; LEFT, RIGHT OR MID MOUSE BUTTON WORKS
00001D7E  6700 0012               2165              BEQ     .END
00001D82  33E8 000E 00002A5E      2166              MOVE.W  14(A0),(STANEXT)
00001D8A  6000 0006               2167              BRA     .END
00001D8E                          2168              
00001D8E                          2169              
00001D8E                          2170              ; SET STATE TO NOT HOVER
00001D8E  4228 0010               2171  .NOHOVER    CLR.B   16(A0)
00001D92                          2172  
00001D92  4CDF 0003               2173  .END        MOVEM.L (A7)+,D0-D1
00001D96  4E75                    2174              RTS
00001D98                          2175  
00001D98                          2176  ; ------------------------------------------------------------------------------
00001D98                          2177  BUTPLOT
00001D98                          2178  ; PLOTS THE BUTTON
00001D98                          2179  ; INPUT    : A0 POINTER TO INSTANCE VARIABLES
00001D98                          2180  ; OUTPUT   : NONE
00001D98                          2181  ; MODIFIES : NONE
00001D98                          2182  ; ------------------------------------------------------------------------------
00001D98                          2183              
00001D98  48E7 FCC0               2184              MOVEM.L A0-A1/D0-D5,-(A7)
00001D9C                          2185              
00001D9C                          2186              ; SET COLORS
00001D9C  223C 0018732C           2187              MOVE.L  #BUTCOLOR,D1    ; SET PEN COLOR
00001DA2  103C 0050               2188              MOVE.B  #80,D0
00001DA6  4E4F                    2189              TRAP    #15
00001DA8  1028 0010               2190              MOVE.B  16(A0),D0       ; SET FILL COLOR
00001DAC  6700 0008               2191              BEQ     .NOHOVER
00001DB0  223C 0035DE3B           2192              MOVE.L  #BUTHVCLR,D1
00001DB6  103C 0051               2193  .NOHOVER    MOVE.B  #81,D0
00001DBA  4E4F                    2194              TRAP    #15
00001DBC                          2195              ; SET COORDS
00001DBC  103C 0057               2196              MOVE.B  #87,D0
00001DC0  3210                    2197              MOVE.W  (A0),D1
00001DC2  3428 0002               2198              MOVE.W  2(A0),D2
00001DC6  3628 0004               2199              MOVE.W  4(A0),D3
00001DCA  3828 0006               2200              MOVE.W  6(A0),D4
00001DCE  4E4F                    2201              TRAP    #15
00001DD0                          2202              
00001DD0                          2203              ; DRAW BUTTON TEXT
00001DD0  2A01                    2204              MOVE.L  D1,D5
00001DD2  7200                    2205              MOVE.L  #BLACK,D1
00001DD4  4EB8 1354               2206              JSR     TXTINIT
00001DD8  4240                    2207              CLR.W   D0              ; COUNT TEXT LENGTH
00001DDA  2268 000A               2208              MOVE.L  10(A0),A1
00001DDE  4A19                    2209  .LOOP       TST.B   (A1)+
00001DE0  6700 0008               2210              BEQ     .ENDLOOP
00001DE4  0600 000C               2211              ADD.B   #TXTSIZE-2,D0
00001DE8  60F4                    2212              BRA     .LOOP
00001DEA  2205                    2213  .ENDLOOP    MOVE.L  D5,D1
00001DEC  9641                    2214              SUB.W   D1,D3           ; BUTTON WIDTH
00001DEE  9640                    2215              SUB.W   D0,D3           
00001DF0  E24B                    2216              LSR.W   #1,D3           ; LEFT TEXT MARGIN
00001DF2  D243                    2217              ADD.W   D3,D1           ; X TEXT POSITION
00001DF4  9842                    2218              SUB.W   D2,D4           ; BUTTON HEIGHT
00001DF6  0444 000C               2219              SUB.W   #TXTSIZE-2,D4     
00001DFA  E24C                    2220              LSR.W   #1,D4           ; TOP TEXT MARGIN
00001DFC  D444                    2221              ADD.W   D4,D2           ; Y TEXT POSITION
00001DFE  2268 000A               2222              MOVEA.L 10(A0),A1
00001E02  103C 005F               2223              MOVE.B  #95,D0
00001E06  4E4F                    2224              TRAP    #15
00001E08                          2225              
00001E08                          2226              
00001E08  4CDF 033F               2227              MOVEM.L (A7)+,A0-A1/D0-D5
00001E0C  4E75                    2228              RTS
00001E0E                          2229  
00001E0E                          2230  
00001E0E                          2231  
00001E0E                          2232  
00001E0E                          2233  
00001E0E                          2234  
00001E0E                          2235  
00001E0E                          2236  
00001E0E                          2237  
00001E0E                          2238  
00001E0E                          2239  
00001E0E                          2240  
00001E0E                          2241  
00001E0E                          2242  
00001E0E                          2243  
00001E0E                          2244  
00001E0E                          2245  
00001E0E                          2246  
00001E0E                          2247  -------------------- end include --------------------
00001E0E                          2248              
00001E0E                          2249  ; --- DATA INCLUDES -----------------------------------------------------------
00001E0E                          2250  
00001E0E                          2251              INCLUDE "DATA/CLOUDSDATA.X68"    ; CLOUD IMAGES DATA
00001E0E                          2252  ; =============================================================================
00001E0E                          2253  ; THIS FILE HAS BEEN GENERATED BY CLOUDSCONVERTER.JAVA FROM CLOUD IMAGES.
00001E0E                          2254  ; TO IMPROVE PERFORMANCE, EACH BLOCK ACTS LIKE A PIXEL, BUT IT'S ACTUALLY A 
00001E0E                          2255  ; 4x4 SQUARE. IMAGES ARE ADDAPTED TO IMAGE.X68 DRAWING.
00001E0E                          2256  ; =============================================================================
00001E0E                          2257  
00001E0E                          2258  
00001E0E                          2259  ; -----------------------------------------------------------------------------
00001E0E                          2260  ; EVERY CLOUD DATA STORES:
00001E0E                          2261  ; ONE WORD TO STORE THE CLOUD WIDTH IN BLOCKS.
00001E0E                          2262  ; TWO LONGS PAIRS STORING A COLOR AND THE AMMOUNT OF BLOCKS WITH THE SAME COLOR
00001E0E                          2263  ; IN A ROW.
00001E0E                          2264  ; EVERY IMAGE ENDS WITH A FLAG $FFFFFFFF
00001E0E                          2265  ; -----------------------------------------------------------------------------
00001E0E                          2266  
00001E0E= 0070                    2267  CLOUD0W     DC.W    112
00001E10                          2268  CLOUD0
00001E10= 00FFBF80 0000002C       2269              DC.L    $00FFBF80,44
00001E18= 00FEFDFB 00000008       2270              DC.L    $00FEFDFB,8
00001E20= 00DCDCDC 00000001       2271              DC.L    $00DCDCDC,1
00001E28= 00FFBF80 00000012       2272              DC.L    $00FFBF80,18
00001E30= 00FEFDFB 0000000B       2273              DC.L    $00FEFDFB,11
00001E38= 00FFBF80 00000010       2274              DC.L    $00FFBF80,16
00001E40= 00FEFDFB 0000000D       2275              DC.L    $00FEFDFB,13
00001E48= 00FFBF80 00000007       2276              DC.L    $00FFBF80,7
00001E50= 00DCDCDC 00000001       2277              DC.L    $00DCDCDC,1
00001E58= 00FEFDFB 00000005       2278              DC.L    $00FEFDFB,5
00001E60= 00FFBF80 00000001       2279              DC.L    $00FFBF80,1
00001E68= 00DCDCDC 00000001       2280              DC.L    $00DCDCDC,1
00001E70= 00FEFDFB 0000000D       2281              DC.L    $00FEFDFB,13
00001E78= 00DCDCDC 00000001       2282              DC.L    $00DCDCDC,1
00001E80= 00FFBF80 00000005       2283              DC.L    $00FFBF80,5
00001E88= 00FEFDFB 00000016       2284              DC.L    $00FEFDFB,22
00001E90= 00DCDCDC 00000001       2285              DC.L    $00DCDCDC,1
00001E98= 00FFBF80 00000005       2286              DC.L    $00FFBF80,5
00001EA0= 00FEFDFB 00000002       2287              DC.L    $00FEFDFB,2
00001EA8= 00DCDCDC 00000001       2288              DC.L    $00DCDCDC,1
00001EB0= 00FEFDFB 00000013       2289              DC.L    $00FEFDFB,19
00001EB8= 00DCDCDC 00000001       2290              DC.L    $00DCDCDC,1
00001EC0= 00FFBF80 00000004       2291              DC.L    $00FFBF80,4
00001EC8= 00FEFDFB 00000017       2292              DC.L    $00FEFDFB,23
00001ED0= 00FFBF80 00000002       2293              DC.L    $00FFBF80,2
00001ED8= 00DCDCDC 00000001       2294              DC.L    $00DCDCDC,1
00001EE0= 00FEFDFB 00000016       2295              DC.L    $00FEFDFB,22
00001EE8= 00DCDCDC 00000001       2296              DC.L    $00DCDCDC,1
00001EF0= 00FEFDFB 00000002       2297              DC.L    $00FEFDFB,2
00001EF8= 00FFBF80 00000002       2298              DC.L    $00FFBF80,2
00001F00= 00DCDCDC 00000001       2299              DC.L    $00DCDCDC,1
00001F08= 00FEFDFB 00000001       2300              DC.L    $00FEFDFB,1
00001F10= 00DCDCDC 00000001       2301              DC.L    $00DCDCDC,1
00001F18= 00FEFDFB 00000008       2302              DC.L    $00FEFDFB,8
00001F20= 00DCDCDC 00000002       2303              DC.L    $00DCDCDC,2
00001F28= 00FEFDFB 00000009       2304              DC.L    $00FEFDFB,9
00001F30= 00DCDCDC 00000004       2305              DC.L    $00DCDCDC,4
00001F38= 00FFBF80 00000003       2306              DC.L    $00FFBF80,3
00001F40= 00DCDCDC 00000018       2307              DC.L    $00DCDCDC,24
00001F48= 00FFBF80 0000001E       2308              DC.L    $00FFBF80,30
00001F50= FFFFFFFF                2309              DC.L    $FFFFFFFF
00001F54                          2310  
00001F54                          2311  
00001F54= 0060                    2312  CLOUD1W     DC.W    96
00001F56                          2313  CLOUD1
00001F56= 00FFBF80 00000020       2314              DC.L    $00FFBF80,32
00001F5E= 00DCDCDC 00000001       2315              DC.L    $00DCDCDC,1
00001F66= 00FEFDFB 00000006       2316              DC.L    $00FEFDFB,6
00001F6E= 00FFBF80 0000000F       2317              DC.L    $00FFBF80,15
00001F76= 00DCDCDC 00000001       2318              DC.L    $00DCDCDC,1
00001F7E= 00FEFDFB 00000009       2319              DC.L    $00FEFDFB,9
00001F86= 00FFBF80 0000000E       2320              DC.L    $00FFBF80,14
00001F8E= 00FEFDFB 00000007       2321              DC.L    $00FEFDFB,7
00001F96= 00DCDCDC 00000002       2322              DC.L    $00DCDCDC,2
00001F9E= 00FEFDFB 00000001       2323              DC.L    $00FEFDFB,1
00001FA6= 00DCDCDC 00000001       2324              DC.L    $00DCDCDC,1
00001FAE= 00FFBF80 0000000C       2325              DC.L    $00FFBF80,12
00001FB6= 00DCDCDC 00000001       2326              DC.L    $00DCDCDC,1
00001FBE= 00FEFDFB 00000009       2327              DC.L    $00FEFDFB,9
00001FC6= 00DCDCDC 00000001       2328              DC.L    $00DCDCDC,1
00001FCE= 00FEFDFB 00000001       2329              DC.L    $00FEFDFB,1
00001FD6= 00DCDCDC 00000001       2330              DC.L    $00DCDCDC,1
00001FDE= 00FEFDFB 00000001       2331              DC.L    $00FEFDFB,1
00001FE6= 00FFBF80 0000000A       2332              DC.L    $00FFBF80,10
00001FEE= 00DCDCDC 00000001       2333              DC.L    $00DCDCDC,1
00001FF6= 00FEFDFB 0000000E       2334              DC.L    $00FEFDFB,14
00001FFE= 00FFBF80 00000006       2335              DC.L    $00FFBF80,6
00002006= 00FEFDFB 00000012       2336              DC.L    $00FEFDFB,18
0000200E= 00DCDCDC 00000001       2337              DC.L    $00DCDCDC,1
00002016= 00FFBF80 00000004       2338              DC.L    $00FFBF80,4
0000201E= 00DCDCDC 00000001       2339              DC.L    $00DCDCDC,1
00002026= 00FEFDFB 0000000E       2340              DC.L    $00FEFDFB,14
0000202E= 00DCDCDC 00000002       2341              DC.L    $00DCDCDC,2
00002036= 00FEFDFB 00000004       2342              DC.L    $00FEFDFB,4
0000203E= 00DCDCDC 00000001       2343              DC.L    $00DCDCDC,1
00002046= 00FFBF80 00000002       2344              DC.L    $00FFBF80,2
0000204E= 00DCDCDC 00000002       2345              DC.L    $00DCDCDC,2
00002056= 00FEFDFB 00000001       2346              DC.L    $00FEFDFB,1
0000205E= 00DCDCDC 00000003       2347              DC.L    $00DCDCDC,3
00002066= 00FEFDFB 00000008       2348              DC.L    $00FEFDFB,8
0000206E= 00DCDCDC 00000005       2349              DC.L    $00DCDCDC,5
00002076= 00FEFDFB 00000001       2350              DC.L    $00FEFDFB,1
0000207E= 00DCDCDC 00000002       2351              DC.L    $00DCDCDC,2
00002086= 00FFBF80 00000019       2352              DC.L    $00FFBF80,25
0000208E= FFFFFFFF                2353              DC.L    $FFFFFFFF
00002092                          2354  
00002092                          2355  
00002092= 00C6                    2356  CLOUD2W     DC.W    198
00002094                          2357  CLOUD2
00002094= 00FFBF80 00000014       2358              DC.L    $00FFBF80,20
0000209C= 00DCDCDC 00000004       2359              DC.L    $00DCDCDC,4
000020A4= 00FFBF80 0000002B       2360              DC.L    $00FFBF80,43
000020AC= 00DCDCDC 00000001       2361              DC.L    $00DCDCDC,1
000020B4= 00FEFDFB 00000008       2362              DC.L    $00FEFDFB,8
000020BC= 00FFBF80 00000028       2363              DC.L    $00FFBF80,40
000020C4= 00FEFDFB 0000000B       2364              DC.L    $00FEFDFB,11
000020CC= 00FFBF80 00000026       2365              DC.L    $00FFBF80,38
000020D4= 00FEFDFB 0000000C       2366              DC.L    $00FEFDFB,12
000020DC= 00FFBF80 00000026       2367              DC.L    $00FFBF80,38
000020E4= 00FEFDFB 0000000C       2368              DC.L    $00FEFDFB,12
000020EC= 00FFBF80 00000026       2369              DC.L    $00FFBF80,38
000020F4= 00FEFDFB 0000000C       2370              DC.L    $00FEFDFB,12
000020FC= 00FFBF80 00000021       2371              DC.L    $00FFBF80,33
00002104= 00DCDCDC 00000001       2372              DC.L    $00DCDCDC,1
0000210C= 00FEFDFB 00000003       2373              DC.L    $00FEFDFB,3
00002114= 00DCDCDC 00000001       2374              DC.L    $00DCDCDC,1
0000211C= 00FEFDFB 0000000B       2375              DC.L    $00FEFDFB,11
00002124= 00DCDCDC 00000002       2376              DC.L    $00DCDCDC,2
0000212C= 00FEFDFB 00000003       2377              DC.L    $00FEFDFB,3
00002134= 00FFBF80 0000001C       2378              DC.L    $00FFBF80,28
0000213C= 00DCDCDC 00000001       2379              DC.L    $00DCDCDC,1
00002144= 00FEFDFB 00000005       2380              DC.L    $00FEFDFB,5
0000214C= 00DCDCDC 00000001       2381              DC.L    $00DCDCDC,1
00002154= 00FEFDFB 0000000F       2382              DC.L    $00FEFDFB,15
0000215C= 00DCDCDC 00000001       2383              DC.L    $00DCDCDC,1
00002164= 00FFBF80 00000001       2384              DC.L    $00FFBF80,1
0000216C= 00FEFDFB 00000001       2385              DC.L    $00FEFDFB,1
00002174= 00DCDCDC 00000001       2386              DC.L    $00DCDCDC,1
0000217C= 00FFBF80 00000006       2387              DC.L    $00FFBF80,6
00002184= 00DCDCDC 00000003       2388              DC.L    $00DCDCDC,3
0000218C= 00FFBF80 0000000F       2389              DC.L    $00FFBF80,15
00002194= 00FEFDFB 0000001C       2390              DC.L    $00FEFDFB,28
0000219C= 00FFBF80 00000003       2391              DC.L    $00FFBF80,3
000021A4= 00FEFDFB 00000004       2392              DC.L    $00FEFDFB,4
000021AC= 00FFBF80 0000000F       2393              DC.L    $00FFBF80,15
000021B4= 00DCDCDC 00000001       2394              DC.L    $00DCDCDC,1
000021BC= 00FEFDFB 0000000C       2395              DC.L    $00FEFDFB,12
000021C4= 00DCDCDC 00000002       2396              DC.L    $00DCDCDC,2
000021CC= 00FEFDFB 0000000D       2397              DC.L    $00FEFDFB,13
000021D4= 00FFBF80 00000002       2398              DC.L    $00FFBF80,2
000021DC= 00DCDCDC 00000001       2399              DC.L    $00DCDCDC,1
000021E4= 00FEFDFB 00000004       2400              DC.L    $00FEFDFB,4
000021EC= 00FFBF80 00000007       2401              DC.L    $00FFBF80,7
000021F4= 00DCDCDC 00000003       2402              DC.L    $00DCDCDC,3
000021FC= 00FFBF80 00000004       2403              DC.L    $00FFBF80,4
00002204= 00DCDCDC 00000002       2404              DC.L    $00DCDCDC,2
0000220C= 00FEFDFB 0000001A       2405              DC.L    $00FEFDFB,26
00002214= 00DCDCDC 00000002       2406              DC.L    $00DCDCDC,2
0000221C= 00FFBF80 00000002       2407              DC.L    $00FFBF80,2
00002224= 00FEFDFB 00000004       2408              DC.L    $00FEFDFB,4
0000222C= 00FFBF80 00000003       2409              DC.L    $00FFBF80,3
00002234= 00DCDCDC 00000001       2410              DC.L    $00DCDCDC,1
0000223C= 00FFBF80 00000003       2411              DC.L    $00FFBF80,3
00002244= 00FEFDFB 00000003       2412              DC.L    $00FEFDFB,3
0000224C= 00DCDCDC 00000001       2413              DC.L    $00DCDCDC,1
00002254= 00FFBF80 00000003       2414              DC.L    $00FFBF80,3
0000225C= 00DCDCDC 00000003       2415              DC.L    $00DCDCDC,3
00002264= 00FEFDFB 00000015       2416              DC.L    $00FEFDFB,21
0000226C= 00DCDCDC 00000006       2417              DC.L    $00DCDCDC,6
00002274= 00FFBF80 00000002       2418              DC.L    $00FFBF80,2
0000227C= 00FEFDFB 00000004       2419              DC.L    $00FEFDFB,4
00002284= 00FFBF80 00000002       2420              DC.L    $00FFBF80,2
0000228C= 00FEFDFB 00000002       2421              DC.L    $00FEFDFB,2
00002294= 00DCDCDC 00000001       2422              DC.L    $00DCDCDC,1
0000229C= 00FFBF80 00000001       2423              DC.L    $00FFBF80,1
000022A4= 00DCDCDC 00000001       2424              DC.L    $00DCDCDC,1
000022AC= 00FEFDFB 00000004       2425              DC.L    $00FEFDFB,4
000022B4= 00FFBF80 00000004       2426              DC.L    $00FFBF80,4
000022BC= 00DCDCDC 00000008       2427              DC.L    $00DCDCDC,8
000022C4= 00FEFDFB 00000008       2428              DC.L    $00FEFDFB,8
000022CC= 00DCDCDC 0000000C       2429              DC.L    $00DCDCDC,12
000022D4= 00FFBF80 00000003       2430              DC.L    $00FFBF80,3
000022DC= 00DCDCDC 00000003       2431              DC.L    $00DCDCDC,3
000022E4= 00FFBF80 00000008       2432              DC.L    $00FFBF80,8
000022EC= 00DCDCDC 00000001       2433              DC.L    $00DCDCDC,1
000022F4= 00FEFDFB 00000002       2434              DC.L    $00FEFDFB,2
000022FC= 00FFBF80 00000005       2435              DC.L    $00FFBF80,5
00002304= 00DCDCDC 0000001B       2436              DC.L    $00DCDCDC,27
0000230C= 00FFBF80 00000040       2437              DC.L    $00FFBF80,64
00002314= FFFFFFFF                2438              DC.L    $FFFFFFFF
00002318                          2439  
00002318                          2440  
00002318= 0031                    2441  CLOUD3W     DC.W    49
0000231A                          2442  CLOUD3
0000231A= 00FFBF80 00000011       2443              DC.L    $00FFBF80,17
00002322= 00DCDCDC 00000001       2444              DC.L    $00DCDCDC,1
0000232A= 00FEFDFB 00000003       2445              DC.L    $00FEFDFB,3
00002332= 00FFBF80 00000009       2446              DC.L    $00FFBF80,9
0000233A= 00FEFDFB 00000004       2447              DC.L    $00FEFDFB,4
00002342= 00DCDCDC 00000001       2448              DC.L    $00DCDCDC,1
0000234A= 00FFBF80 00000006       2449              DC.L    $00FFBF80,6
00002352= 00FEFDFB 00000001       2450              DC.L    $00FEFDFB,1
0000235A= 00DCDCDC 00000001       2451              DC.L    $00DCDCDC,1
00002362= 00FEFDFB 00000006       2452              DC.L    $00FEFDFB,6
0000236A= 00DCDCDC 00000001       2453              DC.L    $00DCDCDC,1
00002372= 00FFBF80 00000003       2454              DC.L    $00FFBF80,3
0000237A= 00FEFDFB 0000000A       2455              DC.L    $00FEFDFB,10
00002382= 00FFBF80 00000003       2456              DC.L    $00FFBF80,3
0000238A= 00DCDCDC 00000001       2457              DC.L    $00DCDCDC,1
00002392= 00FEFDFB 00000008       2458              DC.L    $00FEFDFB,8
0000239A= 00DCDCDC 00000001       2459              DC.L    $00DCDCDC,1
000023A2= 00FFBF80 0000001C       2460              DC.L    $00FFBF80,28
000023AA= FFFFFFFF                2461              DC.L    $FFFFFFFF
000023AE                          2462  
000023AE                          2463  
000023AE= 00AF                    2464  CLOUD4W     DC.W    175
000023B0                          2465  CLOUD4
000023B0= 00FFBF80 0000003B       2466              DC.L    $00FFBF80,59
000023B8= 00DCDCDC 00000001       2467              DC.L    $00DCDCDC,1
000023C0= 00FEFDFB 00000006       2468              DC.L    $00FEFDFB,6
000023C8= 00FFBF80 00000024       2469              DC.L    $00FFBF80,36
000023D0= 00FEFDFB 00000009       2470              DC.L    $00FEFDFB,9
000023D8= 00DCDCDC 00000001       2471              DC.L    $00DCDCDC,1
000023E0= 00FFBF80 00000021       2472              DC.L    $00FFBF80,33
000023E8= 00FEFDFB 0000000C       2473              DC.L    $00FEFDFB,12
000023F0= 00FFBF80 0000001F       2474              DC.L    $00FFBF80,31
000023F8= 00DCDCDC 00000001       2475              DC.L    $00DCDCDC,1
00002400= 00FEFDFB 00000005       2476              DC.L    $00FEFDFB,5
00002408= 00DCDCDC 00000001       2477              DC.L    $00DCDCDC,1
00002410= 00FEFDFB 00000006       2478              DC.L    $00FEFDFB,6
00002418= 00DCDCDC 00000001       2479              DC.L    $00DCDCDC,1
00002420= 00FFBF80 0000001E       2480              DC.L    $00FFBF80,30
00002428= 00FEFDFB 0000000E       2481              DC.L    $00FEFDFB,14
00002430= 00FFBF80 0000001E       2482              DC.L    $00FFBF80,30
00002438= 00DCDCDC 00000001       2483              DC.L    $00DCDCDC,1
00002440= 00FEFDFB 0000000D       2484              DC.L    $00FEFDFB,13
00002448= 00FFBF80 00000019       2485              DC.L    $00FFBF80,25
00002450= 00FEFDFB 00000004       2486              DC.L    $00FEFDFB,4
00002458= 00DCDCDC 00000003       2487              DC.L    $00DCDCDC,3
00002460= 00FEFDFB 0000000B       2488              DC.L    $00FEFDFB,11
00002468= 00DCDCDC 00000001       2489              DC.L    $00DCDCDC,1
00002470= 00FEFDFB 00000002       2490              DC.L    $00FEFDFB,2
00002478= 00FFBF80 00000016       2491              DC.L    $00FFBF80,22
00002480= 00FEFDFB 00000017       2492              DC.L    $00FEFDFB,23
00002488= 00FFBF80 0000000A       2493              DC.L    $00FFBF80,10
00002490= 00DCDCDC 00000002       2494              DC.L    $00DCDCDC,2
00002498= 00FFBF80 00000008       2495              DC.L    $00FFBF80,8
000024A0= 00FEFDFB 00000018       2496              DC.L    $00FEFDFB,24
000024A8= 00DCDCDC 00000001       2497              DC.L    $00DCDCDC,1
000024B0= 00FFBF80 00000008       2498              DC.L    $00FFBF80,8
000024B8= 00FEFDFB 00000005       2499              DC.L    $00FEFDFB,5
000024C0= 00FFBF80 00000006       2500              DC.L    $00FFBF80,6
000024C8= 00FEFDFB 00000010       2501              DC.L    $00FEFDFB,16
000024D0= 00DCDCDC 00000001       2502              DC.L    $00DCDCDC,1
000024D8= 00FEFDFB 00000006       2503              DC.L    $00FEFDFB,6
000024E0= 00DCDCDC 00000002       2504              DC.L    $00DCDCDC,2
000024E8= 00FFBF80 00000008       2505              DC.L    $00FFBF80,8
000024F0= 00FEFDFB 00000005       2506              DC.L    $00FEFDFB,5
000024F8= 00FFBF80 00000003       2507              DC.L    $00FFBF80,3
00002500= 00DCDCDC 00000005       2508              DC.L    $00DCDCDC,5
00002508= 00FEFDFB 0000000D       2509              DC.L    $00FEFDFB,13
00002510= 00DCDCDC 00000001       2510              DC.L    $00DCDCDC,1
00002518= 00FEFDFB 00000006       2511              DC.L    $00FEFDFB,6
00002520= 00DCDCDC 00000007       2512              DC.L    $00DCDCDC,7
00002528= 00FFBF80 00000004       2513              DC.L    $00FFBF80,4
00002530= 00DCDCDC 00000001       2514              DC.L    $00DCDCDC,1
00002538= 00FEFDFB 00000003       2515              DC.L    $00FEFDFB,3
00002540= 00DCDCDC 00000001       2516              DC.L    $00DCDCDC,1
00002548= 00FFBF80 00000002       2517              DC.L    $00FFBF80,2
00002550= 00DCDCDC 00000009       2518              DC.L    $00DCDCDC,9
00002558= 00FEFDFB 0000000A       2519              DC.L    $00FEFDFB,10
00002560= 00DCDCDC 00000002       2520              DC.L    $00DCDCDC,2
00002568= 00FEFDFB 00000003       2521              DC.L    $00FEFDFB,3
00002570= 00DCDCDC 0000000A       2522              DC.L    $00DCDCDC,10
00002578= 00FFBF80 00000003       2523              DC.L    $00FFBF80,3
00002580= 00DCDCDC 00000002       2524              DC.L    $00DCDCDC,2
00002588= 00FEFDFB 00000001       2525              DC.L    $00FEFDFB,1
00002590= 00DCDCDC 00000002       2526              DC.L    $00DCDCDC,2
00002598= 00FFBF80 00000002       2527              DC.L    $00FFBF80,2
000025A0= 00DCDCDC 00000022       2528              DC.L    $00DCDCDC,34
000025A8= 00FFBF80 00000035       2529              DC.L    $00FFBF80,53
000025B0= FFFFFFFF                2530              DC.L    $FFFFFFFF
000025B4                          2531  
000025B4                          2532  
000025B4= 0089                    2533  CLOUD5W     DC.W    137
000025B6                          2534  CLOUD5
000025B6= 00FFBF80 0000002F       2535              DC.L    $00FFBF80,47
000025BE= 00FEFDFB 00000008       2536              DC.L    $00FEFDFB,8
000025C6= 00DCDCDC 00000001       2537              DC.L    $00DCDCDC,1
000025CE= 00FFBF80 00000019       2538              DC.L    $00FFBF80,25
000025D6= 00FEFDFB 0000000A       2539              DC.L    $00FEFDFB,10
000025DE= 00DCDCDC 00000001       2540              DC.L    $00DCDCDC,1
000025E6= 00FFBF80 00000018       2541              DC.L    $00FFBF80,24
000025EE= 00FEFDFB 0000000B       2542              DC.L    $00FEFDFB,11
000025F6= 00FFBF80 00000017       2543              DC.L    $00FFBF80,23
000025FE= 00FEFDFB 00000009       2544              DC.L    $00FEFDFB,9
00002606= 00DCDCDC 00000001       2545              DC.L    $00DCDCDC,1
0000260E= 00FEFDFB 00000002       2546              DC.L    $00FEFDFB,2
00002616= 00FFBF80 00000001       2547              DC.L    $00FFBF80,1
0000261E= 00FEFDFB 00000003       2548              DC.L    $00FEFDFB,3
00002626= 00FFBF80 00000010       2549              DC.L    $00FFBF80,16
0000262E= 00DCDCDC 00000001       2550              DC.L    $00DCDCDC,1
00002636= 00FEFDFB 0000000E       2551              DC.L    $00FEFDFB,14
0000263E= 00DCDCDC 00000001       2552              DC.L    $00DCDCDC,1
00002646= 00FEFDFB 00000004       2553              DC.L    $00FEFDFB,4
0000264E= 00DCDCDC 00000001       2554              DC.L    $00DCDCDC,1
00002656= 00FFBF80 0000000E       2555              DC.L    $00FFBF80,14
0000265E= 00FEFDFB 00000004       2556              DC.L    $00FEFDFB,4
00002666= 00DCDCDC 00000001       2557              DC.L    $00DCDCDC,1
0000266E= 00FEFDFB 00000009       2558              DC.L    $00FEFDFB,9
00002676= 00DCDCDC 00000001       2559              DC.L    $00DCDCDC,1
0000267E= 00FEFDFB 00000006       2560              DC.L    $00FEFDFB,6
00002686= 00FFBF80 0000000D       2561              DC.L    $00FFBF80,13
0000268E= 00FEFDFB 00000016       2562              DC.L    $00FEFDFB,22
00002696= 00DCDCDC 00000001       2563              DC.L    $00DCDCDC,1
0000269E= 00FEFDFB 00000001       2564              DC.L    $00FEFDFB,1
000026A6= 00FFBF80 0000000B       2565              DC.L    $00FFBF80,11
000026AE= 00DCDCDC 00000001       2566              DC.L    $00DCDCDC,1
000026B6= 00FEFDFB 00000002       2567              DC.L    $00FEFDFB,2
000026BE= 00DCDCDC 00000001       2568              DC.L    $00DCDCDC,1
000026C6= 00FEFDFB 00000015       2569              DC.L    $00FEFDFB,21
000026CE= 00DCDCDC 00000001       2570              DC.L    $00DCDCDC,1
000026D6= 00FFBF80 00000006       2571              DC.L    $00FFBF80,6
000026DE= 00DCDCDC 00000001       2572              DC.L    $00DCDCDC,1
000026E6= 00FEFDFB 00000004       2573              DC.L    $00FEFDFB,4
000026EE= 00DCDCDC 00000003       2574              DC.L    $00DCDCDC,3
000026F6= 00FEFDFB 0000000F       2575              DC.L    $00FEFDFB,15
000026FE= 00DCDCDC 00000001       2576              DC.L    $00DCDCDC,1
00002706= 00FEFDFB 00000004       2577              DC.L    $00FEFDFB,4
0000270E= 00DCDCDC 00000001       2578              DC.L    $00DCDCDC,1
00002716= 00FFBF80 00000004       2579              DC.L    $00FFBF80,4
0000271E= 00DCDCDC 00000020       2580              DC.L    $00DCDCDC,32
00002726= 00FFBF80 00000025       2581              DC.L    $00FFBF80,37
0000272E= FFFFFFFF                2582              DC.L    $FFFFFFFF
00002732                          2583  
00002732                          2584  
00002732= 005D                    2585  CLOUD6W     DC.W    93
00002734                          2586  CLOUD6
00002734= 00FFBF80 0000001E       2587              DC.L    $00FFBF80,30
0000273C= 00DCDCDC 00000001       2588              DC.L    $00DCDCDC,1
00002744= 00FEFDFB 00000004       2589              DC.L    $00FEFDFB,4
0000274C= 00DCDCDC 00000001       2590              DC.L    $00DCDCDC,1
00002754= 00FFBF80 00000011       2591              DC.L    $00FFBF80,17
0000275C= 00FEFDFB 00000007       2592              DC.L    $00FEFDFB,7
00002764= 00DCDCDC 00000001       2593              DC.L    $00DCDCDC,1
0000276C= 00FFBF80 00000002       2594              DC.L    $00FFBF80,2
00002774= 00DCDCDC 00000002       2595              DC.L    $00DCDCDC,2
0000277C= 00FFBF80 0000000C       2596              DC.L    $00FFBF80,12
00002784= 00FEFDFB 00000007       2597              DC.L    $00FEFDFB,7
0000278C= 00DCDCDC 00000002       2598              DC.L    $00DCDCDC,2
00002794= 00FEFDFB 00000005       2599              DC.L    $00FEFDFB,5
0000279C= 00FFBF80 00000009       2600              DC.L    $00FFBF80,9
000027A4= 00FEFDFB 00000007       2601              DC.L    $00FEFDFB,7
000027AC= 00DCDCDC 00000001       2602              DC.L    $00DCDCDC,1
000027B4= 00FEFDFB 00000007       2603              DC.L    $00FEFDFB,7
000027BC= 00FFBF80 00000009       2604              DC.L    $00FFBF80,9
000027C4= 00FEFDFB 00000009       2605              DC.L    $00FEFDFB,9
000027CC= 00DCDCDC 00000001       2606              DC.L    $00DCDCDC,1
000027D4= 00FEFDFB 00000005       2607              DC.L    $00FEFDFB,5
000027DC= 00FFBF80 00000008       2608              DC.L    $00FFBF80,8
000027E4= 00FEFDFB 00000010       2609              DC.L    $00FEFDFB,16
000027EC= 00FFBF80 00000007       2610              DC.L    $00FFBF80,7
000027F4= 00DCDCDC 00000001       2611              DC.L    $00DCDCDC,1
000027FC= 00FEFDFB 00000010       2612              DC.L    $00FEFDFB,16
00002804= 00DCDCDC 00000003       2613              DC.L    $00DCDCDC,3
0000280C= 00FFBF80 00000003       2614              DC.L    $00FFBF80,3
00002814= 00DCDCDC 00000004       2615              DC.L    $00DCDCDC,4
0000281C= 00FEFDFB 0000000B       2616              DC.L    $00FEFDFB,11
00002824= 00DCDCDC 00000006       2617              DC.L    $00DCDCDC,6
0000282C= 00FFBF80 00000003       2618              DC.L    $00FFBF80,3
00002834= 00DCDCDC 00000007       2619              DC.L    $00DCDCDC,7
0000283C= 00FEFDFB 00000006       2620              DC.L    $00FEFDFB,6
00002844= 00DCDCDC 00000007       2621              DC.L    $00DCDCDC,7
0000284C= 00FFBF80 0000001B       2622              DC.L    $00FFBF80,27
00002854= FFFFFFFF                2623              DC.L    $FFFFFFFF
00002858                          2624  
00002858                          2625  
00002858= 0077                    2626  CLOUD7W     DC.W    119
0000285A                          2627  CLOUD7
0000285A= 00FFBF80 00000028       2628              DC.L    $00FFBF80,40
00002862= 00DCDCDC 00000002       2629              DC.L    $00DCDCDC,2
0000286A= 00FEFDFB 00000004       2630              DC.L    $00FEFDFB,4
00002872= 00DCDCDC 00000001       2631              DC.L    $00DCDCDC,1
0000287A= 00FFBF80 00000016       2632              DC.L    $00FFBF80,22
00002882= 00FEFDFB 00000006       2633              DC.L    $00FEFDFB,6
0000288A= 00DCDCDC 00000001       2634              DC.L    $00DCDCDC,1
00002892= 00FEFDFB 00000002       2635              DC.L    $00FEFDFB,2
0000289A= 00FFBF80 00000003       2636              DC.L    $00FFBF80,3
000028A2= 00FEFDFB 00000004       2637              DC.L    $00FEFDFB,4
000028AA= 00FFBF80 0000000A       2638              DC.L    $00FFBF80,10
000028B2= 00FEFDFB 00000002       2639              DC.L    $00FEFDFB,2
000028BA= 00FFBF80 00000002       2640              DC.L    $00FFBF80,2
000028C2= 00FEFDFB 00000009       2641              DC.L    $00FEFDFB,9
000028CA= 00DCDCDC 00000002       2642              DC.L    $00DCDCDC,2
000028D2= 00FEFDFB 00000006       2643              DC.L    $00FEFDFB,6
000028DA= 00DCDCDC 00000001       2644              DC.L    $00DCDCDC,1
000028E2= 00FFBF80 00000007       2645              DC.L    $00FFBF80,7
000028EA= 00FEFDFB 00000004       2646              DC.L    $00FEFDFB,4
000028F2= 00DCDCDC 00000001       2647              DC.L    $00DCDCDC,1
000028FA= 00FEFDFB 00000012       2648              DC.L    $00FEFDFB,18
00002902= 00FFBF80 00000006       2649              DC.L    $00FFBF80,6
0000290A= 00DCDCDC 00000001       2650              DC.L    $00DCDCDC,1
00002912= 00FEFDFB 00000004       2651              DC.L    $00FEFDFB,4
0000291A= 00DCDCDC 00000001       2652              DC.L    $00DCDCDC,1
00002922= 00FEFDFB 00000008       2653              DC.L    $00FEFDFB,8
0000292A= 00DCDCDC 00000002       2654              DC.L    $00DCDCDC,2
00002932= 00FEFDFB 00000008       2655              DC.L    $00FEFDFB,8
0000293A= 00FFBF80 00000006       2656              DC.L    $00FFBF80,6
00002942= 00FEFDFB 00000011       2657              DC.L    $00FEFDFB,17
0000294A= 00DCDCDC 00000001       2658              DC.L    $00DCDCDC,1
00002952= 00FEFDFB 00000006       2659              DC.L    $00FEFDFB,6
0000295A= 00DCDCDC 00000001       2660              DC.L    $00DCDCDC,1
00002962= 00FFBF80 00000004       2661              DC.L    $00FFBF80,4
0000296A= 00DCDCDC 00000001       2662              DC.L    $00DCDCDC,1
00002972= 00FEFDFB 00000011       2663              DC.L    $00FEFDFB,17
0000297A= 00DCDCDC 00000001       2664              DC.L    $00DCDCDC,1
00002982= 00FEFDFB 00000005       2665              DC.L    $00FEFDFB,5
0000298A= 00DCDCDC 00000002       2666              DC.L    $00DCDCDC,2
00002992= 00FFBF80 00000003       2667              DC.L    $00FFBF80,3
0000299A= 00DCDCDC 00000004       2668              DC.L    $00DCDCDC,4
000029A2= 00FEFDFB 0000000C       2669              DC.L    $00FEFDFB,12
000029AA= 00DCDCDC 00000004       2670              DC.L    $00DCDCDC,4
000029B2= 00FEFDFB 00000004       2671              DC.L    $00FEFDFB,4
000029BA= 00DCDCDC 00000004       2672              DC.L    $00DCDCDC,4
000029C2= 00FFBF80 00000002       2673              DC.L    $00FFBF80,2
000029CA= 00DCDCDC 00000007       2674              DC.L    $00DCDCDC,7
000029D2= 00FEFDFB 00000006       2675              DC.L    $00FEFDFB,6
000029DA= 00DCDCDC 0000000F       2676              DC.L    $00DCDCDC,15
000029E2= 00FFBF80 00000003       2677              DC.L    $00FFBF80,3
000029EA= 00DCDCDC 00000019       2678              DC.L    $00DCDCDC,25
000029F2= 00FFBF80 00000021       2679              DC.L    $00FFBF80,33
000029FA= FFFFFFFF                2680              DC.L    $FFFFFFFF
000029FE                          2681  
000029FE                          2682  
000029FE                          2683  
000029FE                          2684  -------------------- end include --------------------
000029FE                          2685              
000029FE                          2686  
000029FE                          2687  START
000029FE                          2688  
000029FE                          2689  ; --- INITIALIZATION ----------------------------------------------------------
000029FE                          2690  
000029FE  007C 0700               2691              ORI.W   #$0700,SR
00002A02  4EB8 1300               2692              JSR     SYSINIT
00002A06  4EB8 119A               2693              JSR     UTLINIT
00002A0A  4EB8 14BC               2694              JSR     STAINIT
00002A0E                          2695              
00002A0E                          2696  .LOOP
00002A0E                          2697  
00002A0E                          2698  ; --- UPDATE ------------------------------------------------------------------
00002A0E                          2699  
00002A0E                          2700              ; READ INPUT DEVICES
00002A0E                          2701  
00002A0E  4E41                    2702              TRAP    #KBDUPDTN
00002A10  4E42                    2703              TRAP    #MOUUPDTN
00002A12                          2704  
00002A12  4EB8 14CC               2705              JSR     STAUPD
00002A16                          2706              
00002A16                          2707  ; --- SYNC --------------------------------------------------------------------
00002A16                          2708  
00002A16  4A39 00002A3C           2709  .WINT       TST.B   (SCRINTCT)
00002A1C  67F8                    2710              BEQ     .WINT
00002A1E  4239 00002A3C           2711              CLR.B   (SCRINTCT)
00002A24                          2712              
00002A24                          2713  ; --- PLOT --------------------------------------------------------------------
00002A24                          2714  
00002A24  4EB8 1AB4               2715              JSR     BACKPLOT
00002A28  4EB8 1532               2716              JSR     STAPLOT
00002A2C                          2717              
00002A2C  4E40                    2718              TRAP    #SCRUPDTN
00002A2E                          2719              
00002A2E  60DE                    2720              BRA     .LOOP
00002A30                          2721              
00002A30  FFFF FFFF               2722              SIMHALT
00002A34                          2723              
00002A34                          2724  ; --- VARIABLES ---------------------------------------------------------------
00002A34                          2725              
00002A34                          2726              INCLUDE "SYSVARS.X68"       ; SYSTEM VARIABLES
00002A34                          2727  ; =============================================================================
00002A34                          2728  ; SYSTEM VARIABLES
00002A34                          2729  ; =============================================================================
00002A34                          2730  
00002A34                          2731  ; --- KEYBOARD RELATED VARIABLES ----------------------------------------------
00002A34                          2732  
00002A34                          2733  KBDVAL      DS.B    1                       ; KEY STATE
00002A35                          2734  KBDEDGE     DS.B    1                       ; KEY EDGE
00002A36                          2735  
00002A36                          2736  ; --- MOUSE RELATED VARIABLES -------------------------------------------------
00002A36                          2737  
00002A36                          2738  MOUPOS      DS.L    1                       ; MOUSE POSITION (16 BITS Y, 16 BITS X)
00002A3A                          2739  MOUVAL      DS.B    1                       ; MOUSE VALUE (0,CTRL,ALT,SHIFT,DOUBLE,MID,RIGHT,LEFT)
00002A3C                          2740              DS.W    0
00002A3C                          2741  
00002A3C                          2742  ; --- TIMED INTERRUPT RELATED VARIABLES ---------------------------------------
00002A3C                          2743  
00002A3C                          2744  SCRINTCT    DS.B    1                       ; INTERRUPT COUNTER
00002A3D                          2745  SCRCYCCT    DS.B    1                       ; SCREEN CYCLE COUNTER
00002A3E= 00                      2746  GAMCYCCT    DC.B    0                       ; GAME CYCLE COUNTER
00002A40                          2747              DS.W    0
00002A40                          2748              
00002A40                          2749  ; --- FILE PATHS --------------------------------------------------------------
00002A40                          2750  
00002A40= 44 41 54 41 2F 53 ...   2751  SCOPATH     DC.B     'DATA/SCORES.dat',0
00002A50                          2752              DS.W     0
00002A50                          2753  
00002A50                          2754  
00002A50                          2755  
00002A50                          2756  
00002A50                          2757  
00002A50                          2758  
00002A50                          2759  -------------------- end include --------------------
00002A50                          2760              INCLUDE "VARS.X68"          ; GAME VARIABLES
00002A50                          2761  ; =============================================================================
00002A50                          2762  ; GAME VARIABLES
00002A50                          2763  ; =============================================================================
00002A50                          2764  
00002A50                          2765  ; --- BIRD RELATED VARIABLES --------------------------------------------------
00002A50                          2766  
00002A50= 00F0                    2767  BIRDPOSY    DC.W    SCRHEIGH/2         ; BIRD POSITION Y
00002A52= 0000                    2768  BIRDVELY    DC.W    0                   ; BIRD SPEED Y
00002A54= BBBB                    2769  BIRDPCOL    DC.W    DKYELLOW            ; BIRD PEN COLOR
00002A56= FFFF                    2770  BIRDFCOL    DC.W    LGYELLOW            ; BIRD FILL COLOR
00002A58                          2771  
00002A58                          2772  ; --- SCOREBOARD RELATED VARIABLES --------------------------------------------
00002A58                          2773  
00002A58                          2774  SCORE       DS.W    1                   ; ACTUAL GAME SCORE
00002A5A                          2775  HIGHSCO     DS.W    1                   ; HIGH SCORE
00002A5C                          2776  
00002A5C                          2777  ;  --- STATE RELATED VARIABLES ------------------------------------------------
00002A5C                          2778  
00002A5C                          2779  STACUR      DS.W    1                   ; CURRENT STATE
00002A5E                          2780  STANEXT     DS.W    1                   ; NEXT STATE
00002A60                          2781  
00002A60                          2782  
00002A60                          2783  
00002A60                          2784  
00002A60                          2785  
00002A60                          2786  
00002A60                          2787  
00002A60                          2788  -------------------- end include --------------------
00002A60                          2789              INCLUDE "DATA/STRDATA.X68"  ; STRING DATA STORED ON VARIABLES
00002A60                          2790  ; =============================================================================
00002A60                          2791  ; TEXT DATA
00002A60                          2792  ; =============================================================================
00002A60                          2793  
00002A60                          2794  ; --- SCORE TEXT --------------------------------------------------------------
00002A60                          2795  
00002A60= 53 43 4F 52 45 3A ...   2796  SCOTXT      DC.B    'SCORE: ',0             ; SCORE TEXT
00002A68= 48 49 47 48 53 43 ...   2797  HISCOTXT    DC.B    'HIGHSCORE: ',0         ; HIGH SCORE TEXT
00002A74                          2798  
00002A74                          2799  ; --- PAUSE MENU TEXT ---------------------------------------------------------
00002A74                          2800  
00002A74= 50 41 55 53 45 00       2801  PAUTITLE    DC.B    'PAUSE',0               ; PAUSE MENU TITLE
00002A7A= 52 45 53 55 4D 45 00    2802  PAUTXTB1    DC.B    'RESUME',0              ; PAUSE MENU FIRST BUTTON TEXT
00002A81= 4C 45 41 56 45 00       2803  PAUTXTB2    DC.B    'LEAVE',0               ; PAUSE MENU SECOND BUTTON TEXT
00002A87                          2804  
00002A87                          2805  ; --- GAME OVER MENU TEXT -----------------------------------------------------
00002A87                          2806  
00002A87= 47 41 4D 45 20 4F ...   2807  GOVTITLE    DC.B    'GAME OVER',0           ; GAME OVER MENU TITLE
00002A91= 50 4C 41 59 20 41 ...   2808  GOVTXTB1    DC.B    'PLAY AGAIN',0          ; GAME OVER MENU FIRST BUTTON TEXT
00002A9C                          2809      
00002A9C                          2810  
00002A9C                          2811  
00002A9C                          2812  
00002A9C                          2813  
00002A9C                          2814  
00002A9C                          2815  
00002A9C                          2816  
00002A9C                          2817  
00002A9C                          2818  -------------------- end include --------------------
00002A9C                          2819              INCLUDE "LIB/UTLVARS.X68"   ; UTIL CODE VARIABLES
00002A9C                          2820  ; =============================================================================
00002A9C                          2821  ; UTILITY VARIABLES
00002A9C                          2822  ; =============================================================================
00002A9C                          2823  
00002A9C                          2824  UTLRNDIX    DS.B    1                       ; NEXT INDEX TO RANDOM NUMBER
00002A9E                          2825              DS.W    0
00002A9E                          2826  -------------------- end include --------------------
00002A9E                          2827              INCLUDE "LIB/DMMVARS.X68"   ; DYNAMIC MEMORY VARIABLES
00002A9E                          2828  ; =============================================================================
00002A9E                          2829  ; DYNAMIC MEMORY MANAGEMENT VARIABLES (SYSTEM VARIABLES)
00002A9E                          2830  ; =============================================================================
00002A9E                          2831  
00002AC0                          2832              ORG     (*+DMMBSIZE-1)&-DMMBSIZE ; ALIGN TO DMMBSIZE
00002AC0                          2833  DMMDATA     DS.B    DMMBSIZE*DMMBNUM        ; DYNAMIC MEMORY ALLOCATION SPACE
00003740                          2834              DS.W    0                       ; JUST IN CASE (SIZE IS POW OF TWO)
00003740                          2835  -------------------- end include --------------------
00003740                          2836  
00003740                          2837              END    START

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
AGLADD              10C2
AGLADD:END          10D8
AGLCLEAN            117A
AGLCLEAN:END        1194
AGLCLEAN:LOOP       117E
AGLKILL             10AC
AGLPLOT             1124
AGLPLOT:END         114E
AGLPLOT:LOOP1       112A
AGLPLOT:LOOP2       1130
AGLPLOT:NEXTTP      1148
AGLPLOTT            1154
AGLPLOTT:END        1174
AGLPLOTT:LOOP       115C
AGLUPD              10DC
AGLUPD:END          10FA
AGLUPD:LOOP         10E4
AGLUPDT             1100
AGLUPDT:END         111E
AGLUPDT:LOOP        1108
BACKPLOT            1AB4
BACKUPD             1A82
BACKUPD:NONEWCL     1AAE
BIRDFCOL            2A56
BIRDINIT            18D8
BIRDPCOL            2A54
BIRDPLOT            193A
BIRDPOSX            A0
BIRDPOSY            2A50
BIRDRAD             F
BIRDUPD             18E8
BIRDUPD:COLBOT      1926
BIRDUPD:CORDUPD     1912
BIRDUPD:DONE        1934
BIRDUPD:NOCOL       192E
BIRDUPD:NOJUMP      190C
BIRDVELY            2A52
BLACK               0
BLOCKSZ             4
BUTAGTP             3
BUTCOLOR            18732C
BUTHVCLR            35DE3B
BUTINIT             1D1E
BUTPLOT             1D98
BUTPLOT:ENDLOOP     1DEA
BUTPLOT:LOOP        1DDE
BUTPLOT:NOHOVER     1DB6
BUTUPD              1D3A
BUTUPD:END          1D92
BUTUPD:NOHOVER      1D8E
CLDINIT             1C36
CLDPLOT             1C88
CLDSPMSK            FFFFFFFC
CLDTBL              1CB0
CLDUPD              1C5A
CLDUPD:NOKILL       1C82
CLOUD0              1E10
CLOUD0W             1E0E
CLOUD1              1F56
CLOUD1W             1F54
CLOUD2              2094
CLOUD2W             2092
CLOUD3              231A
CLOUD3W             2318
CLOUD4              23B0
CLOUD4W             23AE
CLOUD5              25B6
CLOUD5W             25B4
CLOUD6              2734
CLOUD6W             2732
CLOUD7              285A
CLOUD7W             2858
CLOUDAGT            1
DARKBLUE            231505
DARKGRAY            C0C0C
DIRTCLR             306284
DIRTHEIG            2D
DKYELLOW            BBBB
DMMALLOC            1092
DMMALLOC:END        10AA
DMMBNUM             32
DMMBSIZE            40
DMMDATA             2AC0
DMMFCOM             106C
DMMFFND             107A
DMMFIRST            1022
DMMFLOOP            1060
DMMFRCOM            1034
DMMFREE             10AC
DMMFRFND            1042
DMMFRLOP            1028
DMMFRSTO            105A
DMMINIT             1000
DMMINIT:LOOP        100E
DMMNEXT             1044
DMMNEXTO            107C
DMMSYSID            0
FLOHEIGH            3C
FLOPLOT             1AEC
GAMCYCCT            2A3E
GAMEINIT            15B0
GAMEPLOT            1632
GAMEUPD             15C4
GAMEUPD:NOPAUSE     15EC
GOVBUTHG            23
GOVBUTWD            82
GOVINIT             17A4
GOVMEHEI            64
GOVMEWID            C8
GOVPLOT             180A
GOVPLOT:ENDLOOP     18B0
GOVPLOT:LOOP        18A4
GOVTITLE            2A87
GOVTXTB1            2A91
GOVUPD              17E8
GOVUPD:CONT         1806
GRASSCLR            35DE3B
HIGHSCO             2A5A
HISCOTXT            2A68
HSCOLINE            1018
IMGPLOT             1CD0
IMGPLOT:ENDFLAG     FFFFFFFF
IMGPLOT:LOOP1       1CE0
IMGPLOT:LOOP2       1CEE
IMGPLOT:SAMEROW     1D0A
IMGPLOT:STARTX      1D1C
INSINIT             15AA
INSPLOT             15AE
INSUPD              15AC
ISCINIT             1564
ISCPLOT             15A4
ISCUPD              1582
ISCUPD:CONT         15A2
JUMPVELY            FFFFFFF6
KBDEDGE             2A35
KBDINIT             1442
KBDPAUSE            1B
KBDSPACE            20
KBDUPD              1450
KBDUPD:LOOP         1486
KBDUPD:PACK         1482
KBDUPDTN            1
KBDVAL              2A34
LGBROWN             306284
LGGRAY              A3A3A3
LGGREEN             35DE3B
LGYELLOW            FFFF
MASKNWCL            FF
MASKNWPP            3F
MOUINIT             1490
MOUPOS              2A36
MOUUPD              149E
MOUUPDTN            2
MOUVAL              2A3A
NEWPIPE             1600
NEWPIPE:GOUPD       162C
NORMGRAY            616161
NRMGREEN            18732C
PAUBUTHG            23
PAUBUTWD            82
PAUMEHEI            96
PAUMEWID            C8
PAUSINIT            1640
PAUSPLOT            16D6
PAUSPLOT:ENDLOOP    177C
PAUSPLOT:LOOP       1770
PAUSUPD             16B2
PAUSUPD:CONT        16CA
PAUTITLE            2A74
PAUTXTB1            2A7A
PAUTXTB2            2A81
PIPEAGTP            2
PIPEFCOL            616161
PIPEGAPS            78
PIPEINIT            197C
PIPEPCOL            C0C0C
PIPEPLOT            1A22
PIPEUPD             1994
PIPEUPD:COL         19F4
PIPEUPD:END         1A1C
PIPEUPD:NOCOL       1A0E
PIPEUPD:NOKILL      19BC
PIPEVELX            FFFFFFFB
PIPEWIDT            32
PPOPHEIG            F
PPOPOVER            5
SCOFCOL             306284
SCOINC              1B7A
SCOINIT             1B44
SCOLINE             1017
SCOPATH             2A40
SCOPLOT             1B98
SCORE               2A58
SCOSAVE             1BF0
SCOSAVE:END         1C30
SCOTXT              2A60
SCRCYCCT            2A3D
SCRFPS              3C
SCRHEIGH            1E0
SCRINIT             13D6
SCRINTCT            2A3C
SCRINTN             1
SCRPLOT             141A
SCRTIM              1434
SCRUPDTN            0
SCRWIDTH            280
SKYBLUE             FFBF80
SKYCOLOR            FFBF80
SKYPLOT             1ABE
SNDDIE              0
SNDINIT             136A
SNDINIT:DONE        1388
SNDINIT:LOOP        1376
SNDINIT:SNDDIE      138E
SNDINIT:SNDJUMP     139A
SNDINIT:SNDLIST     13B4
SNDINIT:SNDSCO      13A7
SNDJUMP             1
SNDPLAY             13C4
SNDPLTN             3
SNDSCO              2
STACUR              2A5C
STAEMPTY            1562
STAGAME             2
STAGOVER            4
STAINIT             14BC
STAINSTR            1
STAINTRO            0
STANEXT             2A5E
STANONE             FFFFFFFF
STAPAUSE            3
STAPLOT             1532
STAPLOT:PLTTBL      154E
START               29FE
START:LOOP          2A0E
START:WINT          2A16
STAUPD              14CC
STAUPD:DOUPD        14F2
STAUPD:INITBL       150A
STAUPD:UPDTBL       151E
SYSINIT             1300
TXTCOLOR            0
TXTFONT             4
TXTINIT             1354
TXTSIZE             E
TXTSTYLE            1
UTLCHRWD            8
UTLINIT             119A
UTLPRINT            11B0
UTLPRINT:ENDLOOP    11C2
UTLPRINT:LOOP       11B8
UTLRAND             11E2
UTLRAND:RANDVEC     1200
UTLRNDIX            2A9C
WHITE               FEFDFB
