000027B4 Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 30/12/2023 3:36:28

00000000                             1  ; =============================================================================
00000000                             2  ; TITLE       :
00000000                             3  ; DESCRIPTION :
00000000                             4  ; AUTHOR      :
00000000                             5  ; HISTORY     :
00000000                             6  ; =============================================================================
00000000                             7  
00001000                             8              ORG     $1000
00001000                             9              
00001000                            10  ; --- CODE INCLUDES -----------------------------------------------------------
00001000                            11  
00001000                            12              INCLUDE "SYSCONST.X68"      ; SYSTEM CONSTANTS
00001000                            13  ; =============================================================================
00001000                            14  ; SYSTEM CONSTANTS
00001000                            15  ; =============================================================================
00001000                            16  
00001000                            17  ; --- SCREEN RELATED CONSTANTS ------------------------------------------------
00001000                            18  
00001000  =0000003C                 19  SCRFPS      EQU     60                  ; SCREEN FRAMES PER SECOND
00001000  =00000280                 20  SCRWIDTH    EQU     640                 ; SCREEN WIDTH
00001000  =000001E0                 21  SCRHEIGH    EQU     480                 ; SCREEN HEIGHT
00001000                            22  
00001000                            23  ; --- TEXT OUTPUT RELATED CONSTANTS -------------------------------------------
00001000                            24  
00001000  =00000000                 25  TXTCOLOR    EQU     $0                  ; TEXT OUTPUT COLOR
00001000  =00000001                 26  TXTSTYLE    EQU     %0001               ; TEXT STYLE (STRIKEOUT,UNDERLINE,ITALIC,BOLD)
00001000  =0000000E                 27  TXTSIZE     EQU     14                  ; TEXT SIZE
00001000  =00000004                 28  TXTFONT     EQU     4                   ; TEXT FONT (CURRENT 'LUCIDA CONSOLE')
00001000                            29  
00001000                            30  ; --- KEYCODES ----------------------------------------------------------------
00001000                            31  
00001000  =00000020                 32  KBDSPACE    EQU     ' '
00001000  =0000001B                 33  KBDPAUSE    EQU     27
00001000                            34  
00001000                            35  ; --- SOUND IDENTIFIERS -------------------------------------------------------
00001000                            36  
00001000  =00000000                 37  SNDDIE      EQU     0
00001000  =00000001                 38  SNDJUMP     EQU     1
00001000  =00000002                 39  SNDSCO      EQU     2
00001000                            40  
00001000                            41  ; --- TRAP NUMBERS ------------------------------------------------------------
00001000                            42  
00001000  =00000000                 43  SCRUPDTN    EQU     0                   ; SCREEN UPDATE TRAP NUMBER
00001000  =00000001                 44  KBDUPDTN    EQU     1                   ; KEYBOARD UPDATE TRAP NUMBER
00001000  =00000002                 45  MOUUPDTN    EQU     2                   ; MOUSE UPDATE TRAP NUMBER
00001000  =00000003                 46  SNDPLTN     EQU     3                   ; SOUND PLAY TRAP NUMBER
00001000                            47  
00001000                            48  ; --- INTERRUPTION NUMBERS ----------------------------------------------------
00001000                            49  
00001000  =00000001                 50  SCRINTN     EQU     1                   ; SCREEN INTERRUPT TRAP NUMBER    
00001000                            51  
00001000                            52  
00001000                            53  
00001000                            54  
00001000                            55  
00001000                            56  
00001000                            57  
00001000                            58  
00001000                            59  
00001000                            60  
00001000                            61  
00001000                            62  
00001000                            63  -------------------- end include --------------------
00001000                            64              INCLUDE "CONST.X68"         ; GAME CONSTANTS
00001000                            65  ; =============================================================================
00001000                            66  ; GAME CONSTANTS
00001000                            67  ; =============================================================================
00001000                            68  
00001000                            69  ; --- COLORS CONSTANTS 00BBGGRR -----------------------------------------------
00001000                            70  
00001000  =0000BBBB                 71  DKYELLOW    EQU     $0000BBBB           ; DARK YELLOW COLOR
00001000  =0000FFFF                 72  LGYELLOW    EQU     $0000FFFF           ; LIGHT YELLOW COLOR
00001000  =000C0C0C                 73  DARKGRAY    EQU     $000C0C0C           ; DARK GRAY COLOR
00001000  =00616161                 74  NORMGRAY    EQU     $00616161           ; NORMAL (NOT DARK OR LIGHT) GRAY COLOR 
00001000  =00FFBF80                 75  SKYBLUE     EQU     $00FFBF80           ; SKY BLUE COLOR
00001000  =0018732C                 76  NRMGREEN    EQU     $0018732C           ; NORMAL (NOT DARK OR LIGHT) GREEN COLOR
00001000  =0035DE3B                 77  LGGREEN     EQU     $0035DE3B           ; LIGHT GREEN COLOR
00001000  =00306284                 78  LGBROWN     EQU     $00306284           ; LIGHT BROWN COLOR
00001000  =00FEFDFB                 79  WHITE       EQU     $00FEFDFB           ; WHITE COLOR
00001000                            80  
00001000                            81  ; --- BIRD RELATED CONSTANTS --------------------------------------------------
00001000                            82  
00001000  =FFFFFFF6                 83  JUMPVELY    EQU     -10                 ; VELOCITY BIRD GETS WHEN JUMPING
00001000  =000000A0                 84  BIRDPOSX    EQU     SCRWIDTH/4          ; BIRD POSITION X
00001000  =0000000F                 85  BIRDRAD     EQU     15                  ; BIRD RADIUS
00001000                            86  
00001000                            87  ; --- PIPE RELATED CONSTANTS --------------------------------------------------
00001000                            88  
00001000  =000C0C0C                 89  PIPEPCOL    EQU     DARKGRAY            ; PIPE PEN COLOR
00001000  =00616161                 90  PIPEFCOL    EQU     NORMGRAY            ; PIPE FILL COLOR
00001000  =FFFFFFFB                 91  PIPEVELX    EQU     -5                  ; PIPE X SPEED
00001000  =00000032                 92  PIPEWIDT    EQU     50                  ; PIPE WIDTH
00001000  =00000078                 93  PIPEGAPS    EQU     120                 ; PIPE GAP SIZE
00001000  =00000002                 94  PIPEAGTP    EQU     2                   ; PIPE AGENT TYPE CODE
00001000  =0000003F                 95  MASKNWPP    EQU     %00111111           ; NEW PIPE MASK 
00001000  =00000005                 96  PPOPOVER    EQU     5                   ; PIPE OPENING OVERFLOW
00001000  =0000000F                 97  PPOPHEIG    EQU     15                  ; PIPE OPENING HEIGHT
00001000                            98  
00001000                            99  ; --- BACKGROUND RELATED CONSTANTS --------------------------------------------
00001000                           100  
00001000  =00FFBF80                101  SKYCOLOR    EQU     SKYBLUE             ; SKY BACKGROUND COLOR
00001000  =0035DE3B                102  GRASSCLR    EQU     LGGREEN             ; GRASS COLOR
00001000  =00306284                103  DIRTCLR     EQU     LGBROWN             ; DIRT COLOR
00001000  =0000003C                104  FLOHEIGH    EQU     60                  ; FLOOR HEIGHT
00001000  =0000002D                105  DIRTHEIG    EQU     45                  ; DIRT PART HEIGHT
00001000                           106  
00001000                           107  ; --- CLOUD (BACKGROUND) RELATED CONSTANTS ------------------------------------
00001000                           108  
00001000  =FFFFFFFC                109  CLDSPMSK    EQU     $FFFFFFFC           ; MASK TO INIT CLOUD SPEED
00001000  =0000007F                110  MASKNWCL    EQU     %01111111           ; MASK TO SPAWN NEW CLOUD
00001000  =00000001                111  CLOUDAGT    EQU     1                   ; CLOUD AGENT TYPE CODE
00001000                           112  
00001000                           113  ; --- SCOREBOARD RELATED CONSTANTS --------------------------------------------
00001000                           114  
00001000  =00306284                115  SCOFCOL     EQU     DIRTCLR             ; TEXT BACKGROUND COLOR
00001000  =00001017                116  SCOLINE     EQU     $1017               ; SCORE TEXT COORDINATE 
00001000  =00001018                117  HSCOLINE    EQU     $1018               ; HIGHSCORE TEXT COORDINATE
00001000                           118  
00001000                           119  ; --- STATE RELATED CONSTANTS -------------------------------------------------
00001000                           120  
00001000  =FFFFFFFF                121  STANONE     EQU     -1                  ; NON-EXISTENT STATE NUMBER
00001000  =00000000                122  STAINTRO    EQU     0                   ; INTRO SCREEN STATE NUMBER
00001000  =00000001                123  STAINSTR    EQU     1                   ; INSTRUCTION STATE NUMBER
00001000  =00000002                124  STAGAME     EQU     2                   ; GAME SCREEN STATE NUMBER
00001000  =00000003                125  STAPAUSE    EQU     3                   ; PAUSE SCREEN STATE NUMBER
00001000  =00000004                126  STAGOVER    EQU     4                   ; GAME OVER SCREEN STATE NUMBER
00001000                           127  
00001000                           128  ; --- IMAGE DRAWING CONSTANTS -------------------------------------------------
00001000                           129  
00001000  =00000004                130  BLOCKSZ     EQU     4                   ; BLOCK
00001000                           131  
00001000                           132  ; --- BUTTON RELATED CONSTANTS ------------------------------------------------
00001000                           133  
00001000  =0018732C                134  BUTCOLOR    EQU     NRMGREEN            ; BUTTON COLOR
00001000  =0035DE3B                135  BUTHVCLR    EQU     LGGREEN             ; BUTTON COLOR WHILE BEING HOVER
00001000  =00000003                136  BUTAGTP     EQU     3                   ; BUTTON AGENT TYPE CODE
00001000                           137  
00001000                           138  -------------------- end include --------------------
00001000                           139              INCLUDE "LIB/DMMCONST.X68"  ; DYNAMIC MEMORY CONSTANTS
00001000                           140  ; =============================================================================
00001000                           141  ; DYNAMIC MEMORY MANAGEMENT CONSTANTS (SYSTEM CONSTANTS)
00001000                           142  ; =============================================================================
00001000                           143  
00001000  =00000040                144  DMMBSIZE    EQU     64                      ; BLOCK SIZE (BYTES). POWER OF TWO
00001000  =00000032                145  DMMBNUM     EQU     50                      ; NUMBER OF BLOCKS
00001000  =00000000                146  DMMSYSID    EQU     0                       ; SYSTEM OWNER ID (MUST BE 0)
00001000  =00000000                147  -------------------- end include --------------------
00001000                           148              INCLUDE "LIB/UTLCONST.X68"  ; UTIL CONSTANTS 
00001000                           149  ; ==============================================================================
00001000                           150  ; UTIL CONSTANTS
00001000                           151  ; ==============================================================================
00001000                           152  
00001000  =00000008                153  UTLCHRWD    EQU     8                       ; CHARACTER WIDTH IN PIXELS
00001000  =00000008                154  -------------------- end include --------------------
00001000                           155              INCLUDE "LIB/DMMCODE.X68"   ; DYNAMIC MEMORY CODE
00001000                           156  ; =============================================================================
00001000                           157  ; DYNAMIC MEMORY MANAGEMENT (SYSTEM CODE)
00001000                           158  ; DYNAMIC MEMORY IS A SET OF DMMBNUM SLOTS OF DMMBSIZE BYTES EACH ONE.
00001000                           159  ; DMMBSIZE MUST BE POWER OF TWO. A SLOT HAS:
00001000                           160  ; - HEADER - 1 WORD. SPECIFIES THE OWNER (0 MEANS OWNED BY SYSTEM)
00001000                           161  ; - DATA   - DMMBSIZE - 2 BYTES. MAY CONTAIN VARS AND ANY KIND OF DATA RELATED
00001000                           162  ;            THE THE OWNER. IF OWNER==0, DATA IS MEANINGLESS.
00001000                           163  ; =============================================================================
00001000                           164  
00001000                           165  ; -----------------------------------------------------------------------------
00001000                           166  DMMINIT
00001000                           167  ; INITIALIZES THE DYNAMIC MEMORY TO ALL OWNED BY SYSTEM.
00001000                           168  ; INPUT    - NONE
00001000                           169  ; OUTPUT   - NONE
00001000                           170  ; MODIFIES - NONE
00001000                           171  ; -----------------------------------------------------------------------------
00001000  48E7 8080                172              MOVEM.L D0/A0,-(A7)
00001004  41F9 00002840            173              LEA     DMMDATA,A0
0000100A  303C 0031                174              MOVE.W  #DMMBNUM-1,D0
0000100E  30BC 0000                175  .LOOP       MOVE.W  #DMMSYSID,(A0)
00001012  D1FC 00000040            176              ADD.L   #DMMBSIZE,A0
00001018  51C8 FFF4                177              DBRA.W  D0,.LOOP
0000101C  4CDF 0101                178              MOVEM.L (A7)+,D0/A0
00001020  4E75                     179              RTS
00001022                           180  
00001022                           181  ; -----------------------------------------------------------------------------
00001022                           182  DMMFIRST
00001022                           183  ; SEARCHES THE FIRST MEMORY SLOT NOT OWNED BY SYSTEM AND OUTPUTS A POINTER
00001022                           184  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
00001022                           185  ; INPUT    - NONE
00001022                           186  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
00001022                           187  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001022                           188  ; -----------------------------------------------------------------------------
00001022  41F9 00002840            189              LEA     DMMDATA,A0
00001028  4A58                     190  DMMFRLOP    TST.W   (A0)+
0000102A  6600 0016                191              BNE     DMMFRFND
0000102E  D1FC 0000003E            192              ADD.L   #DMMBSIZE-2,A0
00001034  B1FC 000034BF            193  DMMFRCOM    CMP.L   #DMMDATA+DMMBSIZE*DMMBNUM-1,A0
0000103A  6DEC                     194              BLT     DMMFRLOP
0000103C  207C 00000000            195              MOVE.L  #0,A0
00001042  4E75                     196  DMMFRFND    RTS
00001044                           197  
00001044                           198  ; -----------------------------------------------------------------------------
00001044                           199  DMMNEXT
00001044                           200  ; SEARCHES THE NEXT MEMORY SLOT NOT OWNED BY SYSTEM AND OUTPUTS A POINTER
00001044                           201  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
00001044                           202  ; INPUT    - A0   : POINTER WITHIN THE CURRENT SLOT
00001044                           203  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
00001044                           204  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001044                           205  ; -----------------------------------------------------------------------------
00001044  2F00                     206              MOVE.L  D0,-(A7)
00001046  2008                     207              MOVE.L  A0,D0
00001048  C0BC FFFFFFC0            208              AND.L   #-DMMBSIZE,D0           ; TAKE ADVANTAGE OF ALIGNMENT
0000104E  0680 00000040            209              ADD.L   #DMMBSIZE,D0
00001054  2040                     210              MOVE.L  D0,A0
00001056  201F                     211              MOVE.L  (A7)+,D0
00001058  60DA                     212              BRA     DMMFRCOM
0000105A                           213  
0000105A                           214  ; -----------------------------------------------------------------------------
0000105A                           215  DMMFRSTO
0000105A                           216  ; SEARCHES THE FIRST MEMORY SLOT WITH THE SPECIFIED ID AND OUTPUTS A POINTER
0000105A                           217  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
0000105A                           218  ; INPUT    - D0.W : ID TO SEARCH
0000105A                           219  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
0000105A                           220  ; MODIFIES - NONE (ASIDE OF OUTPUT)
0000105A                           221  ; -----------------------------------------------------------------------------
0000105A  41F9 00002840            222              LEA     DMMDATA,A0
00001060  B058                     223  DMMFLOOP    CMP.W   (A0)+,D0
00001062  6700 0016                224              BEQ     DMMFFND
00001066  D1FC 0000003E            225              ADD.L   #DMMBSIZE-2,A0
0000106C  B1FC 000034BF            226  DMMFCOM     CMP.L   #DMMDATA+DMMBSIZE*DMMBNUM-1,A0
00001072  6DEC                     227              BLT     DMMFLOOP
00001074  207C 00000000            228              MOVE.L  #0,A0
0000107A  4E75                     229  DMMFFND     RTS
0000107C                           230  
0000107C                           231  ; -----------------------------------------------------------------------------
0000107C                           232  DMMNEXTO
0000107C                           233  ; SEARCHES THE NEXT MEMORY SLOT WITH THE SPECIFIED ID AND OUTPUTS A POINTER
0000107C                           234  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
0000107C                           235  ; INPUT    - D0.W : ID TO SEARCH
0000107C                           236  ;            A0   : POINTER WITHIN THE CURRENT SLOT
0000107C                           237  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
0000107C                           238  ; MODIFIES - NONE (ASIDE OF OUTPUT)
0000107C                           239  ; -----------------------------------------------------------------------------
0000107C  2F00                     240              MOVE.L  D0,-(A7)
0000107E  2008                     241              MOVE.L  A0,D0
00001080  C0BC FFFFFFC0            242              AND.L   #-DMMBSIZE,D0           ; TAKE ADVANTAGE OF ALIGNMENT
00001086  0680 00000040            243              ADD.L   #DMMBSIZE,D0
0000108C  2040                     244              MOVE.L  D0,A0
0000108E  201F                     245              MOVE.L  (A7)+,D0
00001090  60DA                     246              BRA     DMMFCOM
00001092                           247  
00001092                           248  ; -----------------------------------------------------------------------------
00001092                           249  DMMALLOC
00001092                           250  ; SEARCHES THE FIRST FREE (SYS OWNED) SLOT, ASSIGNS TO THE SPECIFIED OWNER
00001092                           251  ; AND RETURNS A POINTER TO THE CORRESPONDING DATA (SLOT ADDRESS + 2)
00001092                           252  ; INPUT    - D0.W : ID TO ASSIGN
00001092                           253  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FREE SPACE
00001092                           254  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001092                           255  ; -----------------------------------------------------------------------------
00001092  3F00                     256              MOVE.W  D0,-(A7)
00001094  4240                     257              CLR.W   D0
00001096  4EB8 105A                258              JSR     DMMFRSTO
0000109A  301F                     259              MOVE.W  (A7)+,D0
0000109C  B1FC 00000000            260              CMP.L   #0,A0
000010A2  6700 0006                261              BEQ     .END
000010A6  3140 FFFE                262              MOVE.W  D0,-2(A0)
000010AA  4E75                     263  .END        RTS
000010AC                           264  
000010AC                           265  ; -----------------------------------------------------------------------------
000010AC                           266  DMMFREE
000010AC                           267  ; FREES THE SLOT TO WHICH THE PROVIDED POINTER BELONGS BY SETTING ITS OWNED TO
000010AC                           268  ; SYSTEM (0)
000010AC                           269  ; INPUT    - A0   : POINTER BELONGING TO THE SLOT TO FREE
000010AC                           270  ; OUTPUT   - NONE
000010AC                           271  ; MODIFIES - NONE
000010AC                           272  ; -----------------------------------------------------------------------------
000010AC  48E7 8080                273              MOVEM.L D0/A0,-(A7)
000010B0  2008                     274              MOVE.L  A0,D0
000010B2  C0BC FFFFFFC0            275              AND.L   #-DMMBSIZE,D0           ; TAKE ADVANTAGE OF ALIGNMENT
000010B8  2040                     276              MOVE.L  D0,A0
000010BA  4250                     277              CLR.W   (A0)
000010BC  4CDF 0101                278              MOVEM.L (A7)+,D0/A0
000010C0  4E75                     279              RTS
000010C2                           280  
000010C2                           281  -------------------- end include --------------------
000010C2                           282              INCLUDE "LIB/AGLCODE.X68"   ; AGENTS CODE "OBJECTS"
000010C2                           283  ; =============================================================================
000010C2                           284  ; AGENT MANAGEMENT
000010C2                           285  ; EACH AGENT HAS A DATA BLOCK FROM DMM AS FOLLOWS:
000010C2                           286  ; +0 - LONG : UPDATE SUBROUTINE POINTER
000010C2                           287  ; +4 - LONG : PLOT SUBROUTINE POINTER
000010C2                           288  ; +8:END    : DATA (AGENT SPECIFIC)
000010C2                           289  ; =============================================================================
000010C2                           290  
000010C2                           291  ; -----------------------------------------------------------------------------
000010C2                           292  AGLADD
000010C2                           293  ; CREATES A NEW AGENT
000010C2                           294  ; INPUT    - A1 - POINTER TO AGENT INIT FUNCTION
000010C2                           295  ;            A2 - POINTER TO AGENT UPDATE FUNCTION
000010C2                           296  ;            A3 - POINTER TO AGENT PLOT FUNCTION
000010C2                           297  ;            A4 - POINTER TO INITIALIZATION PARAMETER ADREES 1
000010C2                           298  ;            A5 - POINTER TO INITIALIZATION PARAMETER ADREES 2
000010C2                           299  ;            A6 - POINTER TO INITIALIZATION PARAMETER ADREES 3
000010C2                           300  ;            D0 - AGENT TYPE (USED AS OWNER BY DMM)
000010C2                           301  ;            D1 - AGENT INITIALIZATION PARAMETER DATA 1
000010C2                           302  ;            D2 - AGENT INITIALIZATION PARAMETER DATA 2
000010C2                           303  ;            D3 - AGENT INITIALIZATION PARAMETER DATA 3
000010C2                           304  ;            D4 - AGENT INITIALIZATION PARAMETER DATA 4
000010C2                           305  ;            D5 - AGENT INITIALIZATION PARAMETER DATA 5
000010C2                           306  ;            D6 - AGENT INITIALIZATION PARAMETER DATA 6
000010C2                           307  ;            D7 - AGENT INITIALIZATION PARAMETER DARA 7
000010C2                           308  ; OUTPUT   - NONE
000010C2                           309  ; MODIFIES - NONE
000010C2                           310  ; -----------------------------------------------------------------------------
000010C2  2F08                     311              MOVE.L  A0,-(A7)
000010C4  4EB8 1092                312              JSR     DMMALLOC
000010C8  B1FC 00000000            313              CMP.L   #0,A0
000010CE  6700 0008                314              BEQ     .END
000010D2  20CA                     315              MOVE.L  A2,(A0)+
000010D4  20CB                     316              MOVE.L  A3,(A0)+
000010D6  4E91                     317              JSR     (A1)
000010D8  205F                     318  .END        MOVE.L  (A7)+,A0
000010DA  4E75                     319              RTS
000010DC                           320  
000010DC                           321  ; -----------------------------------------------------------------------------
000010DC                           322  AGLUPD
000010DC                           323  ; UPDATES THE AGENT LIST. PRIOR TO CALLING THE UPDATE FUNCTIONS, A0 IS SET
000010DC                           324  ; TO THE DATA BLOCK OF THE CORRESPONDING SLOT.
000010DC                           325  ; INPUT    - NONE
000010DC                           326  ; OUTPUT   - NONE
000010DC                           327  ; MODIFIES - NONE
000010DC                           328  ; -----------------------------------------------------------------------------
000010DC  48E7 00C0                329              MOVEM.L A0-A1,-(A7)
000010E0  4EB8 1022                330              JSR     DMMFIRST
000010E4  B1FC 00000000            331  .LOOP       CMP.L   #0,A0
000010EA  6700 000E                332              BEQ     .END
000010EE  2250                     333              MOVE.L  (A0),A1
000010F0  5088                     334              ADD.L   #8,A0
000010F2  4E91                     335              JSR     (A1)
000010F4  4EB8 1044                336              JSR     DMMNEXT
000010F8  60EA                     337              BRA     .LOOP
000010FA  4CDF 0300                338  .END        MOVEM.L (A7)+,A0-A1
000010FE  4E75                     339              RTS
00001100                           340  
00001100                           341  ; -----------------------------------------------------------------------------
00001100                           342  AGLPLOT
00001100                           343  ; PLOTS THE AGENT LIST. PRIOR TO CALLING THE UPDATE FUNCTIONS, A0 IS SET
00001100                           344  ; TO THE DATA BLOCK OF THE CORRESPONDING SLOT. PLOTS AGENTS IN AGENT TYPE ORDER
00001100                           345  ; INPUT    - NONE
00001100                           346  ; OUTPUT   - NONE
00001100                           347  ; MODIFIES - NONE
00001100                           348  ; NOTE : 8 IS THE MAX AGENT TYPES
00001100                           349  ; -----------------------------------------------------------------------------
00001100  48E7 00C0                350              MOVEM.L A0-A1,-(A7)
00001104                           351              
00001104  4200                     352              CLR.B   D0                      ; CURRENT AGENT TYPE UPDATING
00001106  5200                     353  .LOOP1      ADDQ.B  #1,D0    
00001108  4EB8 105A                354              JSR     DMMFRSTO
0000110C  B1FC 00000000            355  .LOOP2      CMP.L   #0,A0
00001112  6700 0010                356              BEQ     .NEXTTP
00001116  2268 0004                357              MOVE.L  4(A0),A1
0000111A  5088                     358              ADD.L   #8,A0
0000111C  4E91                     359              JSR     (A1)
0000111E  4EB8 107C                360              JSR     DMMNEXTO
00001122  60E8                     361              BRA     .LOOP2
00001124  B03C 0008                362  .NEXTTP     CMP.B   #8,D0
00001128  6DDC                     363              BLT     .LOOP1
0000112A                           364              
0000112A                           365  ;            JSR     DMMFIRST
0000112A                           366  ;.LOOP       CMP.L   #0,A0
0000112A                           367  ;            BEQ     .END
0000112A                           368  ;            MOVE.L  4(A0),A1
0000112A                           369  ;            ADD.L   #8,A0
0000112A                           370  ;            JSR     (A1)
0000112A                           371  ;            JSR     DMMNEXT
0000112A                           372  ;            BRA     .LOOP
0000112A  4CDF 0300                373  .END        MOVEM.L (A7)+,A0-A1
0000112E  4E75                     374              RTS
00001130                           375  
00001130                           376  ; -----------------------------------------------------------------------------
00001130                           377  AGLCLEAN
00001130                           378  ; KILLS EVERY AGENT ON AGENLIST OF THE SPECIFIED TYPE
00001130                           379  ; INPUT     - D0.W - AGENT TYPE (USED AS OWNER BY DMM)
00001130                           380  ; OUTPUT    - KILLS EVERY AGENT ON AGENTLIST
00001130                           381  ; MODIFIES  - NONE
00001130                           382  ; -----------------------------------------------------------------------------
00001130  48E7 00C0                383              MOVEM.L A0-A1,-(A7)
00001134                           384              
00001134  4EB8 105A                385  .LOOP       JSR     DMMFRSTO
00001138  B1FC 00000000            386              CMP.L   #0,A0
0000113E  6700 000A                387              BEQ     .END
00001142  4EB9 000010AC            388              JSR     AGLKILL
00001148  60EA                     389              BRA     .LOOP
0000114A                           390              
0000114A  4CDF 0300                391  .END        MOVEM.L (A7)+,A0-A1
0000114E  4E75                     392              RTS
00001150                           393  
00001150                           394              
00001150                           395  
00001150                           396  
00001150                           397  ; -----------------------------------------------------------------------------
00001150  =000010AC                398  AGLKILL     EQU     DMMFREE
00001150                           399  ; KILLS THE AGENT BY RELEASING ITS MEMORY
00001150                           400  ; INPUT    - A0 POINTER WITHIN THE AGENT MEMORY
00001150                           401  ; OUTPUT   - NONE
00001150                           402  ; MODIFIES - NONE
00001150                           403  ; NOTE     - IT IS JUST A WRAPPER FOR DMMFREE
00001150                           404  ; -----------------------------------------------------------------------------
00001150                           405  
00001150                           406  
00001150                           407  
00001150                           408  
00001150                           409  
00001150                           410  -------------------- end include --------------------
00001150                           411              INCLUDE "LIB/UTLCODE.X68"   ; UTIL SUBRUTINES
00001150                           412  ; =============================================================================
00001150                           413  ; UTILITY CODE
00001150                           414  ; =============================================================================
00001150                           415  
00001150                           416  ; -----------------------------------------------------------------------------
00001150                           417  UTLINIT
00001150                           418  ; INITIALIZES UTILITY CODE
00001150                           419  ; INPUT    - NONE
00001150                           420  ; OUTPUT   - NONE
00001150                           421  ; MODIFIES - NONE
00001150                           422  ; -----------------------------------------------------------------------------
00001150  48E7 C000                423              MOVEM.L D0-D1,-(A7)
00001154  103C 0008                424              MOVE.B  #8,D0
00001158  4E4F                     425              TRAP    #15
0000115A  13C1 00002816            426              MOVE.B  D1,(UTLRNDIX)
00001160  4CDF 0003                427              MOVEM.L (A7)+,D0-D1
00001164  4E75                     428              RTS
00001166                           429              
00001166                           430  ; -----------------------------------------------------------------------------
00001166                           431  UTLPRINT
00001166                           432  ; PRINT SCREEN CENTERED TEXT
00001166                           433  ; INPUT    : A0 POINTER TO ZERO-TERMINATED STRING
00001166                           434  ;            D0.B SCREEN ROW TO PRINT TEXT
00001166                           435  ; OUTPUT   : D0.B NEXT ROW
00001166                           436  ; MODIFIES : NONE (ASIDE OF OUTPUT)
00001166                           437  ; -----------------------------------------------------------------------------
00001166  48E7 C0C0                438              MOVEM.L D0-D1/A0-A1,-(A7)
0000116A  4201                     439              CLR.B   D1
0000116C  2248                     440              MOVE.L  A0,A1
0000116E  4A18                     441  .LOOP       TST.B   (A0)+
00001170  6700 0006                442              BEQ     .ENDLOOP
00001174  5201                     443              ADDQ.B  #1,D1
00001176  60F6                     444              BRA     .LOOP
00001178  E209                     445  .ENDLOOP    LSR.B   #1,D1
0000117A  0401 0028                446              SUB.B   #(SCRWIDTH/UTLCHRWD)/2,D1
0000117E  4401                     447              NEG.B   D1
00001180  E141                     448              ASL.W   #8,D1
00001182  8240                     449              OR.W    D0,D1
00001184  103C 000B                450              MOVE.B  #11,D0
00001188  4E4F                     451              TRAP    #15
0000118A  103C 000D                452              MOVE.B  #13,D0
0000118E  4E4F                     453              TRAP    #15
00001190  4CDF 0303                454              MOVEM.L (A7)+,D0-D1/A0-A1
00001194  5200                     455              ADDQ.B  #1,D0
00001196  4E75                     456              RTS
00001198                           457  
00001198                           458  ; -----------------------------------------------------------------------------
00001198                           459  UTLRAND
00001198                           460  ; PROVIDES A PSEUDO-RANDOM BYTE
00001198                           461  ; INPUT    - NONE
00001198                           462  ; OUTPUT   - D0.L RANDOM VALUE (ONLY BYTE)
00001198                           463  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001198                           464  ; -----------------------------------------------------------------------------
00001198  2F08                     465              MOVE.L  A0,-(A7)
0000119A  41F9 000011B6            466              LEA     .RANDVEC,A0
000011A0  4280                     467              CLR.L   D0
000011A2  1039 00002816            468              MOVE.B  (UTLRNDIX),D0
000011A8  1030 0800                469              MOVE.B  (A0,D0.L),D0
000011AC  5239 00002816            470              ADDQ.B  #1,(UTLRNDIX)
000011B2  205F                     471              MOVE.L  (A7)+,A0
000011B4  4E75                     472              RTS
000011B6                           473  
000011B6                           474  
000011B6= A2 EE 9A 0C F5 24 ...    475  .RANDVEC    DC.B    162, 238, 154, 12 , 245, 36 , 32 , 103
000011BE= 2A A3 51 26 E0 AC ...    476              DC.B    42 , 163, 81 , 38 , 224, 172, 19 , 69
000011C6= 75 51 CA FD 33 EB ...    477              DC.B    117, 81 , 202, 253, 51 , 235, 108, 154
000011CE= 60 CC E7 B8 9A EB ...    478              DC.B    96 , 204, 231, 184, 154, 235, 34 , 203
000011D6= 1D 76 B5 95 B0 89 ...    479              DC.B    29 , 118, 181, 149, 176, 137, 62 , 108
000011DE= 39 15 48 C9 6E CA ...    480              DC.B    57 , 21 , 72 , 201, 110, 202, 159, 41
000011E6= 43 E7 E2 7C 37 25 ...    481              DC.B    67 , 231, 226, 124, 55 , 37 , 84 , 62
000011EE= E9 94 CE E9 E4 52 ...    482              DC.B    233, 148, 206, 233, 228, 82 , 243, 78
000011F6= 37 6D 9A 84 A2 28 ...    483              DC.B    55 , 109, 154, 132, 162, 40 , 30 , 39
000011FE= 19 E2 C6 77 80 D4 ...    484              DC.B    25 , 226, 198, 119, 128, 212, 232, 225
00001206= 0A 5A 32 67 33 C2 ...    485              DC.B    10 , 90 , 50 , 103, 51 , 194, 222, 40
0000120E= 59 80 DC 0E 57 FC ...    486              DC.B    89 , 128, 220, 14 , 87 , 252, 243, 252
00001216= 8A AB BC F7 07 4D ...    487              DC.B    138, 171, 188, 247, 7  , 77 , 29 , 234
0000121E= EF D5 77 6E 1E BB ...    488              DC.B    239, 213, 119, 110, 30 , 187, 131, 23
00001226= D6 E0 2A 8F BD 28 ...    489              DC.B    214, 224, 42 , 143, 189, 40 , 212, 130
0000122E= 13 4F 66 EC 0A 64 ...    490              DC.B    19 , 79 , 102, 236, 10 , 100, 122, 188
00001236= 56 52 9A 16 9B 90 ...    491              DC.B    86 , 82 , 154, 22 , 155, 144, 7  , 199
0000123E= 06 8A A4 F7 01 DA ...    492              DC.B    6  , 138, 164, 247, 1  , 218, 166, 82
00001246= F2 E7 77 28 B1 76 ...    493              DC.B    242, 231, 119, 40 , 177, 118, 220, 102
0000124E= A4 42 E3 81 B1 67 ...    494              DC.B    164, 66 , 227, 129, 177, 103, 165, 108
00001256= BF CE FA 16 BF 38 ...    495              DC.B    191, 206, 250, 22 , 191, 56 , 30 , 161
0000125E= D1 8B 50 0C 5F 49 ...    496              DC.B    209, 139, 80 , 12 , 95 , 73 , 168, 56
00001266= DE 4C 14 A2 40 DC ...    497              DC.B    222, 76 , 20 , 162, 64 , 220, 93 , 12
0000126E= B6 9B 0A 38 5D AB ...    498              DC.B    182, 155, 10 , 56 , 93 , 171, 89 , 6
00001276= E2 1B DD 75 15 82 ...    499              DC.B    226, 27 , 221, 117, 21 , 130, 101, 18
0000127E= 8A 26 51 30 9F 47 ...    500              DC.B    138, 38 , 81 , 48 , 159, 71 , 57 , 21
00001286= 1E 8A BB 71 C6 6E ...    501              DC.B    30 , 138, 187, 113, 198, 110, 185, 152
0000128E= 9F 47 E5 34 94 27 ...    502              DC.B    159, 71 , 229, 52 , 148, 39 , 77 , 6
00001296= 7D 06 D6 BA 30 0F ...    503              DC.B    125, 6  , 214, 186, 48 , 15 , 212, 22
0000129E= EC 7F 7E 03 CF 2D ...    504              DC.B    236, 127, 126, 3  , 207, 45 , 193, 2
000012A6= 94 5B 23 F2 8B CD ...    505              DC.B    148, 91 , 35 , 242, 139, 205, 248, 237
000012AE= 74 33 EC B9 0F D5 ...    506              DC.B    116, 51 , 236, 185, 15 , 213, 221, 6
000012B6                           507  
000012B6                           508  -------------------- end include --------------------
000012B6                           509              INCLUDE "SYSTEM.X68"        ; SYSTEM CODE
000012B6                           510  ; =============================================================================
000012B6                           511  ; SYSTEM
000012B6                           512  ; =============================================================================
000012B6                           513  
000012B6                           514  ; -----------------------------------------------------------------------------
000012B6                           515  SYSINIT
000012B6                           516  ; INITIALIZE SYSTEM
000012B6                           517  ; INPUT     : NONE
000012B6                           518  ; OUTPUT    : NONE
000012B6                           519  ; MODIFIES  : NONE
000012B6                           520  ; -----------------------------------------------------------------------------
000012B6                           521  
000012B6                           522              ; INSTALL TRAPS AND INTERRUPTIONS
000012B6  21FC 000013D0 0080       523              MOVE.L  #SCRPLOT,($80+SCRUPDTN*4)
000012BE  21FC 00001406 0084       524              MOVE.L  #KBDUPD,($80+KBDUPDTN*4)
000012C6  21FC 00001454 0088       525              MOVE.L  #MOUUPD,($80+MOUUPDTN*4)
000012CE  21FC 0000137A 008C       526              MOVE.L  #SNDPLAY,($80+SNDPLTN*4)
000012D6  21FC 000013EA 0064       527              MOVE.L  #SCRTIM,($60+SCRINTN*4)
000012DE                           528              
000012DE  4EB9 00001308            529              JSR     TXTINIT
000012E4  4EB9 000013F8            530              JSR     KBDINIT
000012EA  4EB9 00001446            531              JSR     MOUINIT
000012F0  4EB9 00001320            532              JSR     SNDINIT
000012F6  4EB9 0000138C            533              JSR     SCRINIT
000012FC  4EB8 1000                534              JSR     DMMINIT
00001300                           535              
00001300                           536              ; SET USER MODE AND ALLOW INTERRUPTIONS
00001300  40E7                     537              MOVE.W  SR,-(A7)
00001302  0257 D8FF                538              ANDI.W  #$D8FF,(A7)
00001306  4E73                     539              RTE
00001308                           540              
00001308                           541  ; -----------------------------------------------------------------------------
00001308                           542  TXTINIT
00001308                           543  ; INITIALIZES THE TEXT OUTPUT
00001308                           544  ; INPUT     : NONE
00001308                           545  ; OUTPUT    : NONE
00001308                           546  ; MODIFIES  : NONE
00001308                           547  ; -----------------------------------------------------------------------------
00001308                           548  
00001308  48E7 E000                549              MOVEM.L D0-D2,-(A7)
0000130C                           550              
0000130C  7200                     551              MOVE.L  #TXTCOLOR,D1
0000130E  243C 040E0001            552              MOVE.L  #TXTFONT<<24|TXTSIZE<<16|TXTSTYLE,D2
00001314  103C 0015                553              MOVE.B  #21,D0
00001318  4E4F                     554              TRAP    #15
0000131A                           555              
0000131A  4CDF 0007                556              MOVEM.L (A7)+,D0-D2
0000131E  4E75                     557              RTS     
00001320                           558         
00001320                           559  ; -----------------------------------------------------------------------------
00001320                           560  SNDINIT
00001320                           561  ; INITIALIZES SOUND SYSTEM
00001320                           562  ; INPUT     : NONE
00001320                           563  ; OUTPUT    : NONE
00001320                           564  ; MODIFIES  : NONE
00001320                           565  ; -----------------------------------------------------------------------------
00001320                           566  
00001320  48E7 C0C0                567              MOVEM.L D0-D1/A0-A1,-(A7)
00001324                           568              
00001324  4201                     569              CLR.B   D1
00001326  41F9 0000136A            570              LEA     .SNDLIST,A0
0000132C  2018                     571  .LOOP       MOVE.L  (A0)+,D0
0000132E  6700 000E                572              BEQ     .DONE
00001332  2240                     573              MOVE.L  D0,A1
00001334  103C 0047                574              MOVE.B  #71,D0
00001338  4E4F                     575              TRAP    #15
0000133A  5201                     576              ADDQ.B  #1,D1
0000133C  60EE                     577              BRA     .LOOP
0000133E                           578              
0000133E  4CDF 0303                579  .DONE       MOVEM.L (A7)+,D0-D1/A0-A1
00001342  4E75                     580              RTS
00001344                           581              
00001344= 53 4E 44 2F 44 49 ...    582  .SNDDIE     DC.B    'SND/DIE.wav',0
00001350= 53 4E 44 2F 4A 55 ...    583  .SNDJUMP    DC.B    'SND/JUMP.wav',0
0000135D= 53 4E 44 2F 53 43 ...    584  .SNDSCO     DC.B    'SND/SCO.wav',0
0000136A                           585              DS.W    0                       ; WORD ALIGN
0000136A= 00001344 00001350 ...    586  .SNDLIST    DC.L    .SNDDIE,.SNDJUMP,.SNDSCO,0
0000137A                           587              
0000137A                           588  ; ------------------------------------------------------------------------------
0000137A                           589  SNDPLAY
0000137A                           590  ; PLAY SOUND
0000137A                           591  ; INPUT    : D7 SOUND ID
0000137A                           592  ; OUTPUT   : NONE
0000137A                           593  ; MODIFIES : NONE
0000137A                           594  ; ------------------------------------------------------------------------------
0000137A                           595  
0000137A  48A7 C000                596              MOVEM.W D0-D1,-(A7)
0000137E                           597              
0000137E  103C 0048                598              MOVE.B  #72,D0
00001382  1207                     599              MOVE.B  D7,D1
00001384  4E4F                     600              TRAP    #15
00001386                           601              
00001386  4C9F 0003                602              MOVEM.W (A7)+,D0-D1
0000138A  4E73                     603              RTE
0000138C                           604  
0000138C                           605  ; -----------------------------------------------------------------------------
0000138C                           606  SCRINIT
0000138C                           607  ; INIT SCREEN. SET SCREEN RESOLUTION, SET WINDOWED MODE, CLEAR SCREEN,
0000138C                           608  ; ENABLE DOUBLE BUFFER, ENABLE TIMED INTERRUPT.
0000138C                           609  ; INPUT     : NONE
0000138C                           610  ; OUTPUT    : NONE
0000138C                           611  ; MODIFIES  : NONE
0000138C                           612  ; -----------------------------------------------------------------------------
0000138C                           613  
0000138C  48E7 C000                614              MOVEM.L D0-D1,-(A7)
00001390                           615              
00001390                           616              ; SET SCREEN RESOLUTION
00001390  103C 0021                617              MOVE.B  #33,D0
00001394  223C 028001E0            618              MOVE.L  #SCRWIDTH<<16|SCRHEIGH,D1
0000139A  4E4F                     619              TRAP    #15
0000139C                           620              
0000139C                           621              ; SET WINDOWED MODE
0000139C  7201                     622              MOVE.L  #1,D1
0000139E  4E4F                     623              TRAP    #15
000013A0                           624              
000013A0                           625              ; CLEAR SCREEN
000013A0  103C 000B                626              MOVE.B  #11,D0
000013A4  323C FF00                627              MOVE.W  #$FF00,D1
000013A8  4E4F                     628              TRAP    #15
000013AA                           629              
000013AA                           630              ; ENABLE DOUBLE BUFFER
000013AA  103C 005C                631              MOVE.B  #92,D0
000013AE  123C 0011                632              MOVE.B  #17,D1
000013B2  4E4F                     633              TRAP    #15
000013B4                           634              
000013B4                           635              ; ENABLE TIMED INTERRUPT
000013B4  103C 0020                636              MOVE.B  #32,D0
000013B8  123C 0006                637              MOVE.B  #6,D1
000013BC  143C 0081                638              MOVE.B  #$80|SCRINTN,D2
000013C0  7610                     639              MOVE.L  #1000/SCRFPS,D3
000013C2  4E4F                     640              TRAP    #15
000013C4                           641              
000013C4                           642              ; CLEAR INTERRUPT COUNTER
000013C4  4279 000027F2            643              CLR.W   (SCRINTCT)
000013CA                           644              
000013CA  4CDF 0003                645              MOVEM.L (A7)+,D0-D1
000013CE  4E75                     646              RTS
000013D0                           647              
000013D0                           648  ; -----------------------------------------------------------------------------
000013D0                           649  SCRPLOT
000013D0                           650  ; UPDATES DOUBLE BUFFER
000013D0                           651  ; INPUT    : NONE
000013D0                           652  ; OUTPUT   : NONE
000013D0                           653  ; MODIFIES : NONE
000013D0                           654  ; -----------------------------------------------------------------------------
000013D0                           655  
000013D0  48A7 C000                656              MOVEM.W D0-D1,-(A7)
000013D4                           657              
000013D4                           658              ; SWITCH BUFFERS
000013D4  103C 005E                659              MOVE.B  #94,D0
000013D8  4E4F                     660              TRAP    #15
000013DA                           661              
000013DA                           662              ; CLEAN HIDDEN BUFFER
000013DA  103C 000B                663              MOVE.B  #11,D0
000013DE  323C FF00                664              MOVE.W  #$FF00,D1
000013E2  4E4F                     665              TRAP    #15
000013E4  4C9F 0003                666              MOVEM.W (A7)+,D0-D1
000013E8  4E73                     667              RTE
000013EA                           668  
000013EA                           669  ; -----------------------------------------------------------------------------
000013EA                           670  SCRTIM
000013EA                           671  ; TIMED INTERRUPT SERVICE ROUTINE, COUNTS TIME FALLING
000013EA                           672  ; INPUT     : NONE
000013EA                           673  ; OUTPUT    : NONE
000013EA                           674  ; MODIFIES  : NONE
000013EA                           675  ; -----------------------------------------------------------------------------
000013EA                           676  
000013EA  5239 000027F2            677              ADDQ.B  #1,(SCRINTCT)
000013F0  5239 000027F3            678              ADDQ.B  #1,(SCRCYCCT)
000013F6  4E73                     679              RTE
000013F8                           680              
000013F8                           681  ; -----------------------------------------------------------------------------
000013F8                           682  KBDINIT
000013F8                           683  ; INIT KEYBOARD
000013F8                           684  ; INPUT     : NONE
000013F8                           685  ; OUTPUT    : NONE
000013F8                           686  ; MODIFIES  : NONE
000013F8                           687  ; -----------------------------------------------------------------------------
000013F8                           688  
000013F8  4239 000027EA            689              CLR.B   (KBDVAL)
000013FE  4239 000027EB            690              CLR.B   (KBDEDGE)
00001404  4E75                     691              RTS
00001406                           692              
00001406                           693  ; -----------------------------------------------------------------------------
00001406                           694  KBDUPD
00001406                           695  ; UPDATE KEYBOARD INFO
00001406                           696  ; 0 -> SPACE
00001406                           697  ; INPUT     : NONE
00001406                           698  ; OUTPUT    : NONE
00001406                           699  ; MODIFIES  : NONE
00001406                           700  ; -----------------------------------------------------------------------------
00001406                           701  
00001406  48E7 F000                702              MOVEM.L D0-D3,-(A7)
0000140A                           703              
0000140A                           704              ; READ KEYBOARD
0000140A  103C 0013                705              MOVE.B  #19,D0
0000140E  223C 00001B20            706              MOVE.L  #KBDPAUSE<<8|KBDSPACE,D1
00001414  4E4F                     707              TRAP    #15
00001416                           708              
00001416                           709              ; CONVERT TO DESIRED FORMAT
00001416  4EB9 00001438            710              JSR     .PACK
0000141C                           711  
0000141C                           712              ; COMPUTE KBDEDGE
0000141C  1039 000027EA            713              MOVE.B  (KBDVAL),D0
00001422  4600                     714              NOT.B   D0
00001424  C042                     715              AND.W   D2,D0
00001426  13C0 000027EB            716              MOVE.B  D0,(KBDEDGE)
0000142C                           717              
0000142C                           718              ; STORE KBDVAL
0000142C  13C2 000027EA            719              MOVE.B  D2,(KBDVAL)
00001432                           720              
00001432  4CDF 000F                721              MOVEM.L (A7)+,D0-D3
00001436  4E73                     722              RTE
00001438                           723  
00001438  363C 0003                724  .PACK       MOVE.W  #3,D3
0000143C  E189                     725  .LOOP       LSL.L   #8,D1
0000143E  E312                     726              ROXL.B  #1,D2
00001440  51CB FFFA                727              DBRA.W  D3,.LOOP
00001444  4E75                     728              RTS
00001446                           729  
00001446                           730  ; -----------------------------------------------------------------------------
00001446                           731  MOUINIT
00001446                           732  ; INPUT     : NONE
00001446                           733  ; OUTPUT    : NONE
00001446                           734  ; MODIFIES  : NONE
00001446                           735  ; -----------------------------------------------------------------------------
00001446                           736  
00001446  42B9 000027EC            737              CLR.L   MOUPOS
0000144C  4239 000027F0            738              CLR.B   MOUVAL
00001452  4E75                     739              RTS
00001454                           740              
00001454                           741  ; -----------------------------------------------------------------------------
00001454                           742  MOUUPD
00001454                           743  ; INPUT     : NONE
00001454                           744  ; OUTPUT    : NONE
00001454                           745  ; MODIFIES  : NONE
00001454                           746  ; -----------------------------------------------------------------------------
00001454                           747  
00001454  48E7 C000                748              MOVEM.L D0-D1,-(A7)
00001458                           749              
00001458  103C 003D                750              MOVE.B  #61,D0
0000145C  4201                     751              CLR.B   D1
0000145E  4E4F                     752              TRAP    #15
00001460  13C0 000027F0            753              MOVE.B  D0,(MOUVAL)
00001466  23C1 000027EC            754              MOVE.L  D1,(MOUPOS)
0000146C                           755              
0000146C  4CDF 0003                756              MOVEM.L (A7)+,D0-D1
00001470  4E73                     757              RTE
00001472                           758  
00001472                           759  
00001472                           760  
00001472                           761  
00001472                           762  
00001472                           763  
00001472                           764  
00001472                           765  
00001472                           766  
00001472                           767  
00001472                           768  
00001472                           769  
00001472                           770  -------------------- end include --------------------
00001472                           771              INCLUDE "STATES.X68"        ; STATES MANAGEMENT
00001472                           772  ; =============================================================================
00001472                           773  ; GAME STATE MANAGEMENT
00001472                           774  ; =============================================================================
00001472                           775  
00001472                           776  ; -----------------------------------------------------------------------------
00001472                           777  STAINIT
00001472                           778  ; INITALIZES THE STATE MANAGER
00001472                           779  ; INPUT    - NONE
00001472                           780  ; OUTPUT   - NONE
00001472                           781  ; MODIFIES - NONE
00001472                           782  ; -----------------------------------------------------------------------------
00001472  33FC FFFF 00002812       783              MOVE.W  #STANONE,(STACUR)
0000147A  4279 00002814            784              CLR.W   (STANEXT)
00001480  4E75                     785              RTS
00001482                           786  
00001482                           787  ; -----------------------------------------------------------------------------
00001482                           788  STAUPD
00001482                           789  ; PERFORMS STATE UPDATE AND INIT IF NECESSARY
00001482                           790  ; INPUT    - NONE
00001482                           791  ; OUTPUT   - NONE
00001482                           792  ; MODIFIES - NONE
00001482                           793  ; -----------------------------------------------------------------------------
00001482  48E7 8080                794              MOVEM.L D0/A0,-(A7)
00001486  4280                     795              CLR.L   D0
00001488  3039 00002814            796              MOVE.W  (STANEXT),D0
0000148E  B079 00002812            797              CMP.W   (STACUR),D0
00001494  6700 0012                798              BEQ     .DOUPD
00001498  33C0 00002812            799              MOVE.W  D0,(STACUR)             ; IF STATE CHANGED, DO INIT
0000149E  E588                     800              LSL.L   #2,D0
000014A0  2040                     801              MOVE.L  D0,A0
000014A2  2068 14C0                802              MOVE.L  .INITBL(A0),A0
000014A6  4E90                     803              JSR     (A0)
000014A8  4280                     804  .DOUPD      CLR.L   D0                      ; IN ANY CASE, DO UPDATE
000014AA  3039 00002812            805              MOVE.W  (STACUR),D0
000014B0  E588                     806              LSL.L   #2,D0
000014B2  2040                     807              MOVE.L  D0,A0
000014B4  2068 14D4                808              MOVE.L  .UPDTBL(A0),A0
000014B8  4E90                     809              JSR     (A0)
000014BA  4CDF 0101                810              MOVEM.L (A7)+,D0/A0
000014BE  4E75                     811              RTS
000014C0= 0000151A 00001560 ...    812  .INITBL     DC.L    ISCINIT,INSINIT,GAMEINIT,PAUSINIT,GOVINIT
000014D4= 00001538 00001562 ...    813  .UPDTBL     DC.L    ISCUPD,INSUPD,GAMEUPD,PAUSUPD,GOVUPD
000014E8                           814  
000014E8                           815  ; -----------------------------------------------------------------------------
000014E8                           816  STAPLOT
000014E8                           817  ; PERFORMS STATE PLOT
000014E8                           818  ; INPUT    - NONE
000014E8                           819  ; OUTPUT   - NONE
000014E8                           820  ; MODIFIES - NONE
000014E8                           821  ; -----------------------------------------------------------------------------
000014E8  48E7 8080                822              MOVEM.L D0/A0,-(A7)
000014EC  4280                     823              CLR.L   D0
000014EE  3039 00002812            824              MOVE.W  (STACUR),D0
000014F4  E588                     825              LSL.L   #2,D0
000014F6  2040                     826              MOVE.L  D0,A0
000014F8  2068 1504                827              MOVE.L  .PLTTBL(A0),A0
000014FC  4E90                     828              JSR     (A0)
000014FE  4CDF 0101                829              MOVEM.L (A7)+,D0/A0
00001502  4E75                     830              RTS
00001504= 0000155A 00001564 ...    831  .PLTTBL     DC.L    ISCPLOT,INSPLOT,GAMEPLOT,PAUSPLOT,GOVPLOT
00001518                           832  
00001518                           833  ; -----------------------------------------------------------------------------
00001518                           834  STAEMPTY
00001518                           835  ; EMPTY SUBROUTINE FOR CASES WITH NOTHING TO DO
00001518                           836  ; INPUT    - NONE
00001518                           837  ; OUTPUT   - NONE
00001518                           838  ; MODIFIES - NONE
00001518                           839  ; NOTE     - JUST A PLACEHOLDER. NOTHING TO DO.
00001518                           840  ; -----------------------------------------------------------------------------
00001518  4E75                     841              RTS
0000151A                           842  
0000151A                           843  
0000151A                           844  
0000151A                           845  
0000151A                           846  
0000151A                           847  
0000151A                           848  
0000151A                           849  
0000151A                           850  -------------------- end include --------------------
0000151A                           851              INCLUDE "INTRO.X68"         ; INTRO STATE MANAGEMENT
0000151A                           852  ; =============================================================================
0000151A                           853  ; INTRO SCREEN MANAGEMENT
0000151A                           854  ; =============================================================================
0000151A                           855  
0000151A                           856  ; ------------------------------------------------------------------------------
0000151A                           857  ISCINIT
0000151A                           858  ; INTRO SCREEN INIT
0000151A                           859  ; INPUT    : NONE
0000151A                           860  ; OUTPUT   : NONE
0000151A                           861  ; MODIFIES : NONE
0000151A                           862  ; ------------------------------------------------------------------------------
0000151A                           863              ; INIT GAME VARIABLES
0000151A  4EB9 00001682            864              JSR BIRDINIT
00001520  4EB9 000018EE            865              JSR SCOINIT
00001526                           866              ; CLEAN PIPES AND BUTTONS
00001526  303C 0002                867              MOVE.W  #PIPEAGTP,D0
0000152A  4EB8 1130                868              JSR AGLCLEAN
0000152E  303C 0003                869              MOVE.W  #BUTAGTP,D0
00001532  4EB8 1130                870              JSR AGLCLEAN
00001536  4E75                     871              RTS
00001538                           872  
00001538                           873  ; ------------------------------------------------------------------------------
00001538                           874  ISCUPD
00001538                           875  ; INTRO SCREEN UPDATE
00001538                           876  ; INPUT    : NONE
00001538                           877  ; OUTPUT   : NONE
00001538                           878  ; MODIFIES : NONE
00001538                           879  ; ------------------------------------------------------------------------------
00001538                           880              
00001538  4EB9 0000182C            881              JSR BACKUPD
0000153E  4EB8 10DC                882              JSR AGLUPD
00001542  1039 000027EB            883              MOVE.B  (KBDEDGE),D0
00001548  C03C 0001                884              AND.B   #1,D0
0000154C  6700 000A                885              BEQ     .CONT
00001550  33FC 0002 00002814       886              MOVE.W  #STAGAME,(STANEXT)      
00001558                           887  .CONT
00001558  4E75                     888              RTS
0000155A                           889  
0000155A                           890  ; ------------------------------------------------------------------------------
0000155A                           891  ISCPLOT
0000155A                           892  ; INTRO SCREEN PLOT
0000155A                           893  ; INPUT    : NONE
0000155A                           894  ; OUTPUT   : NONE
0000155A                           895  ; MODIFIES : NONE
0000155A                           896  ; ------------------------------------------------------------------------------
0000155A  4EB8 1100                897              JSR AGLPLOT
0000155E  4E75                     898              RTS
00001560                           899  
00001560                           900  
00001560                           901  
00001560                           902  
00001560                           903  
00001560                           904  
00001560                           905  
00001560                           906  
00001560                           907  
00001560                           908  
00001560                           909  -------------------- end include --------------------
00001560                           910              INCLUDE "INSTRUCTIONS.X68"  ; INSTRUCTIONS STATE MANAGEMENT
00001560                           911  ; =============================================================================
00001560                           912  ; INSTRUCTION SCREEN MANAGEMENT
00001560                           913  ; =============================================================================
00001560                           914  
00001560                           915  ; ------------------------------------------------------------------------------
00001560                           916  INSINIT
00001560                           917  ; INSTRUCTIONS SCREEN INIT
00001560                           918  ; INPUT    : NONE
00001560                           919  ; OUTPUT   : NONE
00001560                           920  ; MODIFIES : NONE
00001560                           921  ; ------------------------------------------------------------------------------
00001560  4E75                     922              RTS
00001562                           923  
00001562                           924  ; ------------------------------------------------------------------------------
00001562                           925  INSUPD
00001562                           926  ; INSTRUCTIONS SCREEN UPDATE
00001562                           927  ; INPUT    : NONE
00001562                           928  ; OUTPUT   : NONE
00001562                           929  ; MODIFIES : NONE
00001562                           930  ; ------------------------------------------------------------------------------
00001562  4E75                     931              RTS
00001564                           932  
00001564                           933  ; ------------------------------------------------------------------------------
00001564                           934  INSPLOT
00001564                           935  ; INSTRUCTIONS SCREEN PLOT
00001564                           936  ; INPUT    : NONE
00001564                           937  ; OUTPUT   : NONE
00001564                           938  ; MODIFIES : NONE
00001564                           939  ; ------------------------------------------------------------------------------
00001564  4E75                     940              RTS
00001566                           941  
00001566                           942  
00001566                           943  
00001566                           944  
00001566                           945  
00001566                           946  
00001566                           947  
00001566                           948  
00001566                           949  
00001566                           950  
00001566                           951  -------------------- end include --------------------
00001566                           952              INCLUDE "GAME.X68"          ; GAME STATE MANAGEMENT
00001566                           953  ; =============================================================================
00001566                           954  ; GAME MANAGEMENT
00001566                           955  ; =============================================================================
00001566                           956  
00001566                           957  ; -----------------------------------------------------------------------------
00001566                           958  GAMEINIT
00001566                           959  ; INITIALIZES GAME.
00001566                           960  ; INPUT    : NONE
00001566                           961  ; OUTPUT   : NONE
00001566                           962  ; MODIFIES : NONE
00001566                           963  ; ------------------------------------------------------------------------------        
00001566  13F9 000027F4 000027F3   964              MOVE.B  (GAMCYCCT),(SCRCYCCT)
00001570                           965              ; CLEAN BUTTONS
00001570  303C 0003                966              MOVE.W  #BUTAGTP,D0
00001574  4EB8 1130                967              JSR AGLCLEAN
00001578  4E75                     968              RTS
0000157A                           969              
0000157A                           970  ; -----------------------------------------------------------------------------
0000157A                           971  GAMEUPD
0000157A                           972  ; UPDATES GAME.
0000157A                           973  ; INPUT     : NONE
0000157A                           974  ; OUTPUT    : NONE
0000157A                           975  ; MODIFIES  : NONE
0000157A                           976  ; -----------------------------------------------------------------------------
0000157A                           977  
0000157A  4EB9 0000182C            978              JSR     BACKUPD
00001580  1F00                     979              MOVE.B  D0,-(A7)
00001582  1039 000027EB            980              MOVE.B  (KBDEDGE),D0
00001588  0800 0001                981              BTST    #1,D0
0000158C  6700 0014                982              BEQ     .NOPAUSE
00001590  33FC 0003 00002814       983              MOVE.W  #STAPAUSE, (STANEXT)
00001598  13F9 000027F3 000027F4   984              MOVE.B  (SCRCYCCT),(GAMCYCCT)
000015A2                           985              
000015A2  4EB9 000015B6            986  .NOPAUSE    JSR     NEWPIPE
000015A8  4EB8 10DC                987              JSR     AGLUPD
000015AC  4EB9 00001692            988              JSR     BIRDUPD
000015B2                           989              
000015B2  101F                     990              MOVE.B  (A7)+,D0
000015B4  4E75                     991              RTS
000015B6                           992  
000015B6                           993  ; -----------------------------------------------------------------------------
000015B6                           994  NEWPIPE
000015B6                           995  ; CREATES A NEW PIPE IN CASE IT'S NECESSARY.
000015B6                           996  ; INPUT     : NONE
000015B6                           997  ; OUTPUT    : NONE
000015B6                           998  ; MODIFIES  : NONE
000015B6                           999  ; -----------------------------------------------------------------------------
000015B6                          1000  
000015B6  48E7 8070               1001              MOVEM.L D0/A1-A3,-(A7)
000015BA                          1002              
000015BA  1039 000027F3           1003              MOVE.B  (SCRCYCCT),D0
000015C0  0200 003F               1004              ANDI.B  #MASKNWPP,D0
000015C4  6600 001C               1005              BNE     .GOUPD
000015C8  43F9 00001726           1006              LEA     PIPEINIT,A1
000015CE  45F9 0000173E           1007              LEA     PIPEUPD,A2
000015D4  47F9 000017CC           1008              LEA     PIPEPLOT,A3
000015DA  303C 0002               1009              MOVE    #PIPEAGTP,D0
000015DE  4EB8 10C2               1010              JSR     AGLADD
000015E2                          1011              
000015E2  4CDF 0E01               1012  .GOUPD      MOVEM.L (A7)+,D0/A1-A3
000015E6  4E75                    1013              RTS
000015E8                          1014  
000015E8                          1015  ; -----------------------------------------------------------------------------
000015E8                          1016  GAMEPLOT
000015E8                          1017  ; PLOTS THE GAME.
000015E8                          1018  ; INPUT     : NONE
000015E8                          1019  ; OUTPUT    : NONE
000015E8                          1020  ; MODIFIES  : NONE
000015E8                          1021  ; -----------------------------------------------------------------------------
000015E8                          1022              
000015E8  4EB9 00001942           1023              JSR     SCOPLOT
000015EE  4EB8 1100               1024              JSR     AGLPLOT
000015F2  6000 00F0               1025              BRA     BIRDPLOT
000015F6                          1026           
000015F6                          1027  
000015F6                          1028  
000015F6                          1029  
000015F6                          1030  
000015F6                          1031  
000015F6                          1032  
000015F6                          1033  
000015F6                          1034  
000015F6                          1035  
000015F6                          1036  
000015F6                          1037  
000015F6                          1038  
000015F6                          1039  
000015F6                          1040  -------------------- end include --------------------
000015F6                          1041              INCLUDE "PAUSE.X68"         ; PAUSE STATE MANAGEMENT
000015F6                          1042  ; =============================================================================
000015F6                          1043  ; PAUSE SCREEN MANAGEMENT
000015F6                          1044  ; =============================================================================
000015F6                          1045  
000015F6                          1046  ; ------------------------------------------------------------------------------
000015F6                          1047  PAUSINIT
000015F6                          1048  ; PAUSE SCREEN INIT
000015F6                          1049  ; INPUT    : NONE
000015F6                          1050  ; OUTPUT   : NONE
000015F6                          1051  ; MODIFIES : NONE
000015F6                          1052  ; ------------------------------------------------------------------------------
000015F6                          1053              
000015F6                          1054              ; INIT BUTTON (THIS IS A TEST)
000015F6  43F9 00001AD6           1055              LEA     BUTINIT,A1
000015FC  45F9 00001AF2           1056              LEA     BUTUPD,A2
00001602  47F9 00001B50           1057              LEA     BUTPLOT,A3
00001608  303C 0003               1058              MOVE    #BUTAGTP,D0
0000160C  49F9 0000162C           1059              LEA     .TXTTMP,A4
00001612  323C 00C8               1060              MOVE.W  #200,D1
00001616  363C 012C               1061              MOVE.W  #300,D3
0000161A  343C 0064               1062              MOVE.W  #100,D2
0000161E  383C 00C8               1063              MOVE.W  #200,D4
00001622  3A3C 0002               1064              MOVE.W  #STAGAME,D5
00001626  4EB8 10C2               1065              JSR     AGLADD
0000162A                          1066              
0000162A  4E75                    1067              RTS
0000162C                          1068              
0000162C= 52 45 53 55 4D 45 00    1069  .TXTTMP    DC.B    'RESUME',0
00001634                          1070              DS.W    0
00001634                          1071  
00001634                          1072  ; ------------------------------------------------------------------------------
00001634                          1073  PAUSUPD
00001634                          1074  ; PAUSE SCREEN UPDATE
00001634                          1075  ; INPUT    : NONE
00001634                          1076  ; OUTPUT   : NONE
00001634                          1077  ; MODIFIES : NONE
00001634                          1078  ; ------------------------------------------------------------------------------
00001634                          1079          
00001634  1F00                    1080              MOVE.B  D0,-(A7)
00001636                          1081              
00001636                          1082              ; CHECK IF KEY PRESSED TO RESUME GAME
00001636  1039 000027EB           1083              MOVE.B  (KBDEDGE),D0
0000163C  0800 0001               1084              BTST    #1,D0
00001640  6700 000A               1085              BEQ     .CONT
00001644  33FC 0002 00002814      1086              MOVE.W  #STAGAME, (STANEXT)   
0000164C                          1087              
0000164C  4EB8 10DC               1088  .CONT       JSR     AGLUPD
00001650                          1089              
00001650  101F                    1090              MOVE.B  (A7)+,D0     
00001652  4E75                    1091              RTS
00001654                          1092  
00001654                          1093  ; ------------------------------------------------------------------------------
00001654                          1094  PAUSPLOT
00001654                          1095  ; PAUSE SCREEN PLOT
00001654                          1096  ; INPUT    : NONE
00001654                          1097  ; OUTPUT   : NONE
00001654                          1098  ; MODIFIES : NONE
00001654                          1099  ; ------------------------------------------------------------------------------
00001654  6092                    1100              BRA     GAMEPLOT
00001656                          1101  
00001656                          1102  
00001656                          1103  
00001656                          1104  
00001656                          1105  
00001656                          1106  
00001656                          1107  
00001656                          1108  
00001656                          1109  
00001656                          1110  
00001656                          1111  
00001656                          1112  
00001656                          1113  
00001656                          1114  -------------------- end include --------------------
00001656                          1115              INCLUDE "GOVER.X68"         ; GAME OVER STATE MANAGEMENT
00001656                          1116  ; =============================================================================
00001656                          1117  ; GAME OVER SCREEN MANAGEMENT
00001656                          1118  ; =============================================================================
00001656                          1119  
00001656                          1120  ; ------------------------------------------------------------------------------
00001656                          1121  GOVINIT
00001656                          1122  ; GAME OVER SCREEN INIT
00001656                          1123  ; INPUT    : NONE
00001656                          1124  ; OUTPUT   : NONE
00001656                          1125  ; MODIFIES : NONE
00001656                          1126  ; ------------------------------------------------------------------------------
00001656  6000 0350               1127              BRA     SCOSAVE
0000165A                          1128  
0000165A                          1129  ; ------------------------------------------------------------------------------
0000165A                          1130  GOVUPD
0000165A                          1131  ; GAME OVER SCREEN UPDATE
0000165A                          1132  ; INPUT    : NONE
0000165A                          1133  ; OUTPUT   : NONE
0000165A                          1134  ; MODIFIES : NONE
0000165A                          1135  ; ------------------------------------------------------------------------------
0000165A                          1136  
0000165A  3F00                    1137              MOVE.W  D0,-(A7)
0000165C                          1138  
0000165C  4EB9 0000182C           1139              JSR     BACKUPD
00001662  4EB8 10DC               1140              JSR     AGLUPD
00001666                          1141              ; CHECK IF KEY PRESSED
00001666  1039 000027EB           1142              MOVE.B  (KBDEDGE),D0
0000166C  6700 000A               1143              BEQ     .CONT
00001670  33FC 0000 00002814      1144              MOVE.W  #STAINTRO,(STANEXT)   
00001678                          1145     
00001678  301F                    1146  .CONT       MOVE.W  (A7)+,D0
0000167A  4E75                    1147              RTS
0000167C                          1148  
0000167C                          1149  ; ------------------------------------------------------------------------------
0000167C                          1150  GOVPLOT
0000167C                          1151  ; GAME OVER SCREEN PLOT
0000167C                          1152  ; INPUT    : NONE
0000167C                          1153  ; OUTPUT   : NONE
0000167C                          1154  ; MODIFIES : NONE
0000167C                          1155  ; ------------------------------------------------------------------------------
0000167C  4EB8 15E8               1156              JSR GAMEPLOT
00001680  4E75                    1157              RTS
00001682                          1158  
00001682                          1159  
00001682                          1160  
00001682                          1161  
00001682                          1162  
00001682                          1163  
00001682                          1164  
00001682                          1165  
00001682                          1166  
00001682                          1167  
00001682                          1168  
00001682                          1169  -------------------- end include --------------------
00001682                          1170              INCLUDE "BIRD.X68"          ; PLAYER (BIRD) MANAGEMENT
00001682                          1171  ; =============================================================================
00001682                          1172  ; BIRD MANAGEMENT
00001682                          1173  ; =============================================================================
00001682                          1174  
00001682                          1175  ; -----------------------------------------------------------------------------
00001682                          1176  BIRDINIT
00001682                          1177  ; INITIALIZE BIRD.
00001682                          1178  ; INPUT     : NONE 
00001682                          1179  ; OUTPUT    : NONE
00001682                          1180  ; MODIFIES  : NONE
00001682                          1181  ; -----------------------------------------------------------------------------
00001682  33FC 00F0 00002806      1182              MOVE.W  #SCRHEIGH/2,(BIRDPOSY)
0000168A  4279 00002808           1183              CLR.W   BIRDVELY
00001690  4E75                    1184              RTS
00001692                          1185              
00001692                          1186  ; -----------------------------------------------------------------------------
00001692                          1187  BIRDUPD
00001692                          1188  ; UPDATES THE BIRD.
00001692                          1189  ; INPUT    : NONE 
00001692                          1190  ; OUTPUT   : NONE
00001692                          1191  ; MODIFIES : NONE
00001692                          1192  ; -----------------------------------------------------------------------------
00001692                          1193  
00001692  48E7 E000               1194              MOVEM.L D0-D2,-(A7)
00001696                          1195  
00001696                          1196              ; UPDATE VELOCITY
00001696  1439 000027EB           1197              MOVE.B  (KBDEDGE),D2        ; CHECK IF SHOULD JUMP
0000169C  0802 0000               1198              BTST    #0,D2
000016A0  6700 0014               1199              BEQ     .NOJUMP
000016A4                          1200              
000016A4  1E3C 0001               1201              MOVE.B  #SNDJUMP,D7         ; PLAY SOUND
000016A8  4E43                    1202              TRAP    #SNDPLTN
000016AA  33FC FFF6 00002808      1203              MOVE.W  #JUMPVELY,(BIRDVELY)
000016B2  6000 0008               1204              BRA     .CORDUPD
000016B6                          1205              
000016B6  5279 00002808           1206  .NOJUMP     ADDQ.W  #1,BIRDVELY          ; ACCELERATE
000016BC                          1207              
000016BC                          1208              ; UPDATE BIRD COORDINATES
000016BC  3039 00002806           1209  .CORDUPD    MOVE.W  (BIRDPOSY),D0
000016C2  D079 00002808           1210              ADD.W   (BIRDVELY),D0
000016C8                          1211              
000016C8                          1212              ; CHECK SCREEN COLLISIONS
000016C8  B07C 0195               1213              CMP.W   #SCRHEIGH-FLOHEIGH-BIRDRAD,D0
000016CC  6D00 000A               1214              BLT     .NOCOL
000016D0                          1215          
000016D0                          1216              ; COLLISION BOT
000016D0  33FC 0004 00002814      1217  .COLBOT     MOVE.W  #STAGOVER,(STANEXT)
000016D8                          1218              
000016D8                          1219              ; STORE POSITION
000016D8  33C0 00002806           1220  .NOCOL      MOVE.W  D0,(BIRDPOSY)
000016DE                          1221  
000016DE  4CDF 0007               1222  .DONE       MOVEM.L (A7)+,D0-D2
000016E2                          1223              
000016E2  4E75                    1224              RTS
000016E4                          1225  
000016E4                          1226  ; -----------------------------------------------------------------------------
000016E4                          1227  BIRDPLOT
000016E4                          1228  ; PLOT THE BIRD.
000016E4                          1229  ; INPUT    : NONE 
000016E4                          1230  ; OUTPUT   : NONE
000016E4                          1231  ; MODIFIES : NONE
000016E4                          1232  ; -----------------------------------------------------------------------------
000016E4                          1233  
000016E4  48E7 F800               1234              MOVEM.L D0-D4,-(A7)
000016E8                          1235  
000016E8                          1236              ; SET PEN COLOR
000016E8  103C 0050               1237              MOVE.B  #80,D0
000016EC  4281                    1238              CLR.L   D1
000016EE  3239 0000280A           1239              MOVE.W  (BIRDPCOL),D1
000016F4  4E4F                    1240              TRAP    #15
000016F6                          1241              
000016F6                          1242              ; SET FILL COLOR
000016F6  103C 0051               1243              MOVE.B  #81,D0
000016FA  3239 0000280C           1244              MOVE.W  (BIRDFCOL),D1
00001700  4E4F                    1245              TRAP    #15
00001702                          1246  
00001702                          1247              ; DEFINE COORDINATES
00001702  323C 0091               1248              MOVE.W  #(BIRDPOSX)-BIRDRAD,D1
00001706  363C 00AF               1249              MOVE.W  #(BIRDPOSX)+BIRDRAD,D3
0000170A  3439 00002806           1250              MOVE.W  (BIRDPOSY),D2
00001710  3802                    1251              MOVE.W  D2,D4
00001712  0442 000F               1252              SUB.W  #BIRDRAD,D2
00001716  0644 000F               1253              ADD.W  #BIRDRAD,D4
0000171A                          1254              
0000171A                          1255              ; DRAW CIRCLE
0000171A  103C 0058               1256              MOVE.B  #88,D0
0000171E  4E4F                    1257              TRAP    #15
00001720                          1258              
00001720  4CDF 001F               1259              MOVEM.L (A7)+,D0-D4
00001724                          1260  
00001724  4E75                    1261              RTS
00001726                          1262  
00001726                          1263  
00001726                          1264  
00001726                          1265  
00001726                          1266  
00001726                          1267  
00001726                          1268  
00001726                          1269  
00001726                          1270  
00001726                          1271  
00001726                          1272  
00001726                          1273  
00001726                          1274  
00001726                          1275  -------------------- end include --------------------
00001726                          1276              INCLUDE "PIPE.X68"          ; OBSTACLE (PIPE) MANAGEMENT
00001726                          1277  ; =============================================================================
00001726                          1278  ; PIPE MANAGEMENT (AGENT)
00001726                          1279  ; PIPEPOSX (W) (A0)
00001726                          1280  ; PIPETOPH (B) 2(A0)
00001726                          1281  ; =============================================================================
00001726                          1282  
00001726                          1283  ; -----------------------------------------------------------------------------
00001726                          1284  PIPEINIT
00001726                          1285  ; INITIALIZE PIPE.
00001726                          1286  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
00001726                          1287  ; OUTPUT    : NONE
00001726                          1288  ; MODIFIES  : NONE
00001726                          1289  ; -----------------------------------------------------------------------------
00001726                          1290  
00001726  2F00                    1291              MOVE.L  D0,-(A7)
00001728                          1292              
00001728  30BC 0280               1293              MOVE.W  #SCRWIDTH,(A0)
0000172C  4EB8 1198               1294              JSR UTLRAND         ; RANDOM NUMBER BETWEEN 0-255
00001730  0680 00000096           1295              ADD.L   #(SCRHEIGH-PIPEGAPS-FLOHEIGH)/2,D0
00001736  1140 0002               1296              MOVE.B  D0,2(A0)
0000173A                          1297              
0000173A  201F                    1298              MOVE.L  (A7)+,D0
0000173C  4E75                    1299              RTS
0000173E                          1300              
0000173E                          1301  ; -----------------------------------------------------------------------------
0000173E                          1302  PIPEUPD
0000173E                          1303  ; UPDATES PIPE.
0000173E                          1304  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
0000173E                          1305  ; OUTPUT    : NONE
0000173E                          1306  ; MODIFIES  : NONE
0000173E                          1307  ; -----------------------------------------------------------------------------
0000173E  48E7 C000               1308              MOVEM.L D0-D1,-(A7)
00001742                          1309              
00001742  3039 00002812           1310              MOVE.W  (STACUR),D0
00001748  B07C 0002               1311              CMP.W   #STAGAME,D0
0000174C  6600 0078               1312              BNE     .END
00001750                          1313  
00001750                          1314              ; UPDATE POSITION
00001750  0650 FFFB               1315              ADD.W   #PIPEVELX,(A0)
00001754                          1316  
00001754                          1317  ; CHECK AND HANDLE COLLISIONS
00001754                          1318              
00001754                          1319              ; COLLISION WITH SCREEN
00001754  3010                    1320              MOVE.W  (A0),D0
00001756  0640 0032               1321              ADD.W   #PIPEWIDT,D0
0000175A  6A00 000A               1322              BPL     .NOKILL
0000175E  4EB8 10AC               1323              JSR AGLKILL
00001762  6000 0062               1324              BRA     .END
00001766                          1325              
00001766                          1326              ; COLLISION WITH BIRD
00001766  B07C 00E1               1327  .NOKILL     CMP.W   #BIRDPOSX+BIRDRAD+PIPEWIDT,D0
0000176A  6A00 004C               1328              BPL     .NOCOL
0000176E  B07C 0091               1329              CMP.W   #BIRDPOSX-BIRDRAD,D0
00001772  6B00 0044               1330              BMI     .NOCOL
00001776                          1331  
00001776                          1332              
00001776                          1333              ; BIRD IS IN PIPE X RANGE
00001776  4280                    1334              CLR.L   D0
00001778  1028 0002               1335              MOVE.B  2(A0),D0
0000177C  3239 00002806           1336              MOVE.W  (BIRDPOSY),D1
00001782  0441 000F               1337              SUB.W   #BIRDRAD,D1
00001786  B041                    1338              CMP.W   D1,D0
00001788  6A00 0014               1339              BPL     .COL
0000178C  0640 0078               1340              ADD.W   #PIPEGAPS,D0
00001790  0641 001E               1341              ADD.W   #2*BIRDRAD,D1
00001794  B041                    1342              CMP.W   D1,D0
00001796  6B00 0006               1343              BMI     .COL
0000179A                          1344  
0000179A  6000 001C               1345              BRA     .NOCOL
0000179E                          1346  
0000179E                          1347              ; STOP ALL SOUNDS
0000179E  103C 004C               1348  .COL        MOVE.B  #76,D0
000017A2  7403                    1349              MOVE.L  #3,D2
000017A4  4E4F                    1350              TRAP    #15
000017A6                          1351              
000017A6  1E3C 0000               1352              MOVE.B  #SNDDIE,D7  ; PLAY DIE SOUND
000017AA  4E43                    1353              TRAP    #SNDPLTN
000017AC                          1354              
000017AC  33FC 0004 00002814      1355              MOVE.W  #STAGOVER,(STANEXT)
000017B4                          1356              
000017B4  6000 0010               1357              BRA     .END
000017B8                          1358  
000017B8                          1359              ; SCORE INCREASE
000017B8  0C50 005F               1360  .NOCOL      CMP.W   #BIRDPOSX-PIPEWIDT-BIRDRAD,(A0)
000017BC  6600 0008               1361              BNE     .END
000017C0  4EB9 00001924           1362              JSR     SCOINC
000017C6                          1363              
000017C6  4CDF 0003               1364  .END        MOVEM.L  (A7)+,D0-D1
000017CA  4E75                    1365              RTS
000017CC                          1366  
000017CC                          1367  ; -----------------------------------------------------------------------------
000017CC                          1368  PIPEPLOT
000017CC                          1369  ; PLOT THE PIPE.
000017CC                          1370  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
000017CC                          1371  ; OUTPUT    : NONE
000017CC                          1372  ; MODIFIES  : NONE
000017CC                          1373  ; -----------------------------------------------------------------------------
000017CC                          1374      
000017CC  48E7 F800               1375              MOVEM.L D0-D4,-(A7)
000017D0                          1376              
000017D0                          1377              ; SET PEN AND FILL COLORS
000017D0  103C 0050               1378              MOVE.B  #80,D0
000017D4  223C 000C0C0C           1379              MOVE.L  #PIPEPCOL,D1
000017DA  4E4F                    1380              TRAP    #15
000017DC  103C 0051               1381              MOVE.B  #81,D0
000017E0  223C 00616161           1382              MOVE.L  #PIPEFCOL,D1
000017E6  4E4F                    1383              TRAP    #15
000017E8                          1384              
000017E8                          1385              ; PLOT TOP HALF
000017E8  3210                    1386              MOVE.W  (A0),D1
000017EA  4242                    1387              CLR.W   D2
000017EC  3601                    1388              MOVE.W  D1,D3
000017EE  0643 0032               1389              ADD.W   #PIPEWIDT,D3
000017F2  4244                    1390              CLR.W   D4
000017F4  1828 0002               1391              MOVE.B  2(A0),D4
000017F8  103C 0057               1392              MOVE.B  #87,D0
000017FC  4E4F                    1393              TRAP    #15
000017FE                          1394              ; PLOT TOP PIPE OPENING
000017FE  3404                    1395              MOVE.W  D4,D2
00001800  0442 000F               1396              SUB.W   #PPOPHEIG,D2
00001804  5B41                    1397              SUB.W   #PPOPOVER,D1
00001806  5A43                    1398              ADD.W   #PPOPOVER,D3
00001808  4E4F                    1399              TRAP    #15
0000180A                          1400              
0000180A                          1401              
0000180A                          1402              ; PLOT BOTTOM HALF
0000180A  5A41                    1403              ADD.W   #PPOPOVER,D1
0000180C  5B43                    1404              SUB.W   #PPOPOVER,D3
0000180E  3404                    1405              MOVE.W  D4,D2
00001810  0642 0078               1406              ADD.W   #PIPEGAPS,D2
00001814  383C 01A4               1407              MOVE.W  #SCRHEIGH-FLOHEIGH,D4
00001818  4E4F                    1408              TRAP    #15
0000181A                          1409              ;PLOT BOTTOM PIPE OPNENING
0000181A  5B41                    1410              SUB.W   #PPOPOVER,D1
0000181C  5A43                    1411              ADD.W   #PPOPOVER,D3
0000181E  3802                    1412              MOVE.W  D2,D4
00001820  0644 000F               1413              ADD.W   #PPOPHEIG,D4
00001824  4E4F                    1414              TRAP    #15
00001826                          1415              
00001826  4CDF 001F               1416              MOVEM.L (A7)+,D0-D4
0000182A  4E75                    1417              RTS
0000182C                          1418  
0000182C                          1419  
0000182C                          1420  
0000182C                          1421  
0000182C                          1422  
0000182C                          1423  
0000182C                          1424  
0000182C                          1425  
0000182C                          1426  
0000182C                          1427  
0000182C                          1428  
0000182C                          1429  
0000182C                          1430  
0000182C                          1431  -------------------- end include --------------------
0000182C                          1432              INCLUDE "BACKGROUND.X68"    ; BACKGROUND MANAGEMENT
0000182C                          1433  ; =============================================================================
0000182C                          1434  ; BACKGROUND MANAGEMENT
0000182C                          1435  ; =============================================================================
0000182C                          1436  
0000182C                          1437  ; -----------------------------------------------------------------------------
0000182C                          1438  BACKUPD
0000182C                          1439  ; UPDATES BACKGROUND
0000182C                          1440  ; INPUT     : NONE
0000182C                          1441  ; OUTPUT    : NONE
0000182C                          1442  ; MODIFIES  : NONE
0000182C                          1443  ; -----------------------------------------------------------------------------
0000182C                          1444              
0000182C  48E7 8070               1445              MOVEM.L D0/A1-A3,-(A7)
00001830                          1446              
00001830                          1447              ; CREATE NEW CLOUD
00001830  1039 000027F3           1448              MOVE.B  (SCRCYCCT),D0
00001836  0200 007F               1449              ANDI.B  #MASKNWCL,D0
0000183A  6600 001C               1450              BNE     .NONEWCL
0000183E  43F9 000019EE           1451              LEA     CLDINIT,A1
00001844  45F9 00001A12           1452              LEA     CLDUPD,A2
0000184A  47F9 00001A40           1453              LEA     CLDPLOT,A3
00001850  303C 0001               1454              MOVE    #CLOUDAGT,D0
00001854  4EB8 10C2               1455              JSR     AGLADD
00001858                          1456              
00001858  4CDF 0E01               1457  .NONEWCL    MOVEM.L (A7)+,D0/A1-A3
0000185C  4E75                    1458              RTS
0000185E                          1459  
0000185E                          1460  ; -----------------------------------------------------------------------------
0000185E                          1461  BACKPLOT
0000185E                          1462  ; DRAWS BACKGROUND
0000185E                          1463  ; INPUT     : NONE
0000185E                          1464  ; OUTPUT    : NONE
0000185E                          1465  ; MODIFIES  : NONE
0000185E                          1466  ; -----------------------------------------------------------------------------
0000185E                          1467  
0000185E  4EB9 00001868           1468              JSR SKYPLOT
00001864  6000 0030               1469              BRA FLOPLOT
00001868                          1470              
00001868                          1471  ; -----------------------------------------------------------------------------
00001868                          1472  SKYPLOT
00001868                          1473  ; DRAWS THE SKY BACKGROUND
00001868                          1474  ; INPUT     : NONE
00001868                          1475  ; OUTPUT    : NONE
00001868                          1476  ; MODIFIES  : NONE
00001868                          1477  ; -----------------------------------------------------------------------------
00001868                          1478              
00001868  48E7 F800               1479              MOVEM.L D0-D4,-(A7)
0000186C                          1480              ; SET PEN COLOR
0000186C  223C 00FFBF80           1481              MOVE.L  #SKYCOLOR,D1
00001872  103C 0050               1482              MOVE.B  #80,D0
00001876  4E4F                    1483              TRAP    #15
00001878                          1484              
00001878                          1485              ; SET FILL COLOR
00001878  103C 0051               1486              MOVE.B  #81,D0
0000187C  4E4F                    1487              TRAP    #15
0000187E                          1488              
0000187E                          1489              ; SET COORDS AND DRAW
0000187E  103C 0057               1490              MOVE.B  #87,D0
00001882  4241                    1491              CLR.W   D1
00001884  4242                    1492              CLR.W   D2
00001886  363C 0280               1493              MOVE.W  #SCRWIDTH,D3
0000188A  383C 01E0               1494              MOVE.W  #SCRHEIGH,D4
0000188E  4E4F                    1495              TRAP    #15
00001890                          1496              
00001890  4CDF 001F               1497              MOVEM.L (A7)+,D0-D4
00001894  4E75                    1498              RTS
00001896                          1499              
00001896                          1500  ; -----------------------------------------------------------------------------
00001896                          1501  FLOPLOT
00001896                          1502  ; DRAWS THE FLOOR BACKGROUND
00001896                          1503  ; INPUT     : NONE
00001896                          1504  ; OUTPUT    : NONE
00001896                          1505  ; MODIFIES  : NONE
00001896                          1506  ; -----------------------------------------------------------------------------
00001896                          1507  
00001896  48E7 F800               1508              MOVEM.L D0-D4,-(A7)
0000189A                          1509              
0000189A                          1510              ; DRAW GRASS
0000189A  4281                    1511              CLR.L   D1                      ; SET PEN COLOR
0000189C  103C 0050               1512              MOVE.B  #80,D0
000018A0  4E4F                    1513              TRAP    #15
000018A2  223C 0035DE3B           1514              MOVE.L  #GRASSCLR,D1            ; SET FILL COLOR
000018A8  103C 0051               1515              MOVE.B  #81,D0                  
000018AC  4E4F                    1516              TRAP    #15
000018AE  103C 0057               1517              MOVE.B  #87,D0                  ; SET COORDS AND DRAW
000018B2  72FF                    1518              MOVE.L  #-1,D1
000018B4  343C 01A4               1519              MOVE.W  #SCRHEIGH-FLOHEIGH,D2
000018B8  363C 0280               1520              MOVE.W  #SCRWIDTH,D3
000018BC  383C 01B3               1521              MOVE.W  #SCRHEIGH-DIRTHEIG,D4
000018C0  4E4F                    1522              TRAP    #15
000018C2                          1523              
000018C2                          1524              ; DRAW DIRT
000018C2  223C 00306284           1525              MOVE.L  #DIRTCLR,D1             ; SET PEN COLOR
000018C8  103C 0050               1526              MOVE.B  #80,D0
000018CC  4E4F                    1527              TRAP    #15
000018CE  223C 00306284           1528              MOVE.L  #DIRTCLR,D1             ; SET FILL COLOR
000018D4  103C 0051               1529              MOVE.B  #81,D0                  
000018D8  4E4F                    1530              TRAP    #15
000018DA  103C 0057               1531              MOVE.B  #87,D0
000018DE  4241                    1532              CLR.W   D1
000018E0  3404                    1533              MOVE.W  D4,D2
000018E2  383C 01E0               1534              MOVE.W  #SCRHEIGH,D4
000018E6  4E4F                    1535              TRAP    #15
000018E8                          1536              
000018E8  4CDF 001F               1537              MOVEM.L (A7)+,D0-D4
000018EC  4E75                    1538              RTS
000018EE                          1539  
000018EE                          1540  
000018EE                          1541  
000018EE                          1542  
000018EE                          1543  -------------------- end include --------------------
000018EE                          1544              INCLUDE "SCORE.X68"         ; SCORE MANAGEMENT
000018EE                          1545  ; =============================================================================
000018EE                          1546  ; SCOREBOARD MANAGEMENT
000018EE                          1547  ; =============================================================================
000018EE                          1548  
000018EE                          1549  ; ------------------------------------------------------------------------------
000018EE                          1550  SCOINIT
000018EE                          1551  ; INITIALIZE SCOREBOARD
000018EE                          1552  ; INPUT    : NONE 
000018EE                          1553  ; OUTPUT   : NONE
000018EE                          1554  ; MODIFIES : NONE
000018EE                          1555  ; ------------------------------------------------------------------------------
000018EE                          1556  
000018EE  48E7 E0C0               1557              MOVEM.L D0-D2/A0-A1,-(A7)
000018F2  4279 0000280E           1558              CLR.W   (SCORE)
000018F8  4279 00002810           1559              CLR.W   (HIGHSCO)
000018FE                          1560              
000018FE                          1561              ; OPEN FILE
000018FE  43F9 000027F6           1562              LEA     SCOPATH,A1
00001904  103C 0033               1563              MOVE.B  #51,D0
00001908  4E4F                    1564              TRAP    #15
0000190A                          1565              
0000190A                          1566              ; READ HIGH SCORE
0000190A  43F9 00002810           1567              LEA     HIGHSCO,A1
00001910  7402                    1568              MOVE.L  #2,D2
00001912  103C 0035               1569              MOVE.B  #53,D0
00001916  4E4F                    1570              TRAP    #15
00001918                          1571              
00001918                          1572              ; CLOSE FILE
00001918  103C 0038               1573              MOVE.B  #56,D0
0000191C  4E4F                    1574              TRAP    #15
0000191E                          1575              
0000191E  4CDF 0307               1576              MOVEM.L (A7)+,D0-D2/A0-A1
00001922  4E75                    1577              RTS
00001924                          1578              
00001924                          1579  ; -----------------------------------------------------------------------------
00001924                          1580  SCOINC
00001924                          1581  ; INCREASES THE SCORE BY 1
00001924                          1582  ; INPUT     : NONE
00001924                          1583  ; OUTPUT    : SCORE = SCORE + 1
00001924                          1584  ; MODIFIES  : NONE (APART FROM OUTPUT)
00001924                          1585  ; -----------------------------------------------------------------------------
00001924  48E7 A100               1586              MOVEM.L D0/D2/D7,-(A7)
00001928                          1587  
00001928  5279 0000280E           1588              ADDQ.W  #1,(SCORE)
0000192E                          1589              ; STOP ALL SOUNDS
0000192E  103C 004C               1590              MOVE.B  #76,D0
00001932  7403                    1591              MOVE.L  #3,D2
00001934  4E4F                    1592              TRAP    #15
00001936                          1593              
00001936                          1594              ; PLAY SOUND
00001936  1E3C 0002               1595              MOVE.B  #SNDSCO,D7
0000193A  4E43                    1596              TRAP    #SNDPLTN
0000193C                          1597              
0000193C  4CDF 0085               1598              MOVEM.L (A7)+,D0/D2/D7
00001940  4E75                    1599              RTS
00001942                          1600              
00001942                          1601  ; ------------------------------------------------------------------------------
00001942                          1602  SCOPLOT
00001942                          1603  ; PLOT THE SCOREBOARD
00001942                          1604  ; INPUT    : NONE 
00001942                          1605  ; OUTPUT   : NONE
00001942                          1606  ; MODIFIES : NONE
00001942                          1607  ; ------------------------------------------------------------------------------
00001942                          1608  
00001942  48E7 C040               1609              MOVEM.L D0-D1/A1,-(A7)
00001946                          1610  
00001946                          1611              ; SET BACKGROUND COLOR
00001946  103C 0051               1612              MOVE.B  #81,D0
0000194A  223C 00306284           1613              MOVE.L  #SCOFCOL,D1
00001950  4E4F                    1614              TRAP    #15
00001952                          1615              
00001952                          1616              ; SET SCORE LINE POSITION
00001952  103C 000B               1617              MOVE.B  #11,D0
00001956  323C 1017               1618              MOVE.W  #SCOLINE,D1
0000195A  4E4F                    1619              TRAP    #15
0000195C                          1620              
0000195C                          1621              ; PLOT THE SCORE
0000195C  43F9 00001994           1622              LEA     .SCOTXT,A1
00001962  4281                    1623              CLR.L   D1
00001964  3239 0000280E           1624              MOVE.W  (SCORE),D1
0000196A  103C 0011               1625              MOVE.B  #17,D0
0000196E  4E4F                    1626              TRAP    #15
00001970                          1627              
00001970                          1628              ; SET HIGH SCORE LINE POSITION
00001970  103C 000B               1629              MOVE.B  #11,D0
00001974  323C 1018               1630              MOVE.W  #HSCOLINE,D1
00001978  4E4F                    1631              TRAP    #15
0000197A                          1632              
0000197A                          1633              ; PLOT THE HIGHSCORE
0000197A  43F9 0000199C           1634              LEA     .HISCOTXT,A1
00001980  4281                    1635              CLR.L   D1
00001982  3239 00002810           1636              MOVE.W  (HIGHSCO),D1
00001988  103C 0011               1637              MOVE.B  #17,D0
0000198C  4E4F                    1638              TRAP    #15
0000198E                          1639              
0000198E  4CDF 0203               1640              MOVEM.L (A7)+,D0-D1/A1
00001992  4E75                    1641              RTS
00001994                          1642              
00001994= 53 43 4F 52 45 3A ...   1643  .SCOTXT     DC.B    'SCORE: ',0
0000199C= 48 49 47 48 53 43 ...   1644  .HISCOTXT   DC.B    'HIGHSCORE: ',0
000019A8                          1645  
000019A8                          1646  ; ------------------------------------------------------------------------------
000019A8                          1647  SCOSAVE
000019A8                          1648  ; SAVES THE HIGH SCORE
000019A8                          1649  ; INPUT    : NONE 
000019A8                          1650  ; OUTPUT   : NONE
000019A8                          1651  ; MODIFIES : NONE
000019A8                          1652  ; ------------------------------------------------------------------------------
000019A8                          1653  
000019A8  48E7 E0C0               1654              MOVEM.L A0-A1/D0-D2,-(A7)
000019AC                          1655              ; IF ACTUAL SCORE > HIGH SCORE
000019AC  3039 0000280E           1656              MOVE.W  (SCORE),D0
000019B2  3239 00002810           1657              MOVE.W  (HIGHSCO),D1
000019B8  B240                    1658              CMP.W   D0,D1
000019BA  6C00 002C               1659              BGE     .END
000019BE                          1660              
000019BE                          1661              ; OPEN FILE
000019BE  43F9 000027F6           1662              LEA     SCOPATH,A1
000019C4  103C 0033               1663              MOVE.B  #51,D0
000019C8  4E4F                    1664              TRAP    #15
000019CA                          1665              
000019CA                          1666              ; SAVE NEW HIGH SCORE
000019CA  33F9 0000280E 00002810  1667              MOVE.W  (SCORE),(HIGHSCO)
000019D4  43F9 00002810           1668              LEA     HIGHSCO,A1
000019DA  7402                    1669              MOVE.L  #2,D2
000019DC  103C 0036               1670              MOVE.B  #54,D0
000019E0  4E4F                    1671              TRAP    #15
000019E2                          1672              
000019E2                          1673              ; CLOSE FILE
000019E2  103C 0038               1674              MOVE.B  #56,D0
000019E6  4E4F                    1675              TRAP    #15
000019E8                          1676              
000019E8                          1677              
000019E8  4CDF 0307               1678  .END        MOVEM.L (A7)+,A0-A1/D0-D2
000019EC  4E75                    1679              RTS
000019EE                          1680  
000019EE                          1681  
000019EE                          1682  
000019EE                          1683  
000019EE                          1684  
000019EE                          1685  -------------------- end include --------------------
000019EE                          1686              INCLUDE "CLOUD.X68"         ; CLOUD MANAGEMENT
000019EE                          1687  ; =============================================================================
000019EE                          1688  ; CLOUD MANAGEMENT (AGENT)
000019EE                          1689  ; CLOUDPOSX  (W) (A0)
000019EE                          1690  ; CLOUDPOSY  (W) 2(A0)
000019EE                          1691  ; CLOUDSPEED (W) 4(A0)
000019EE                          1692  ; CLOUDTYPE  (W) 6(A0)
000019EE                          1693  ; =============================================================================
000019EE                          1694  
000019EE                          1695  ; -----------------------------------------------------------------------------
000019EE                          1696  CLDINIT
000019EE                          1697  ; INITIALIZE CLOUD.
000019EE                          1698  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
000019EE                          1699  ; OUTPUT    : NONE
000019EE                          1700  ; MODIFIES  : NONE
000019EE                          1701  ; -----------------------------------------------------------------------------
000019EE                          1702  
000019EE  2F00                    1703              MOVE.L  D0,-(A7)
000019F0                          1704  
000019F0                          1705              ; INIT POSITION
000019F0  30BC 0280               1706              MOVE.W  #SCRWIDTH,(A0)
000019F4  4EB8 1198               1707              JSR UTLRAND             ; RANDOM NUMBER BETWEEN 0-255
000019F8  3140 0002               1708              MOVE.W  D0,2(A0)
000019FC                          1709              ; INIT CLOUD TYPE
000019FC  C03C 0007               1710              AND.B   #7,D0
00001A00  3140 0006               1711              MOVE.W  D0,6(A0)
00001A04                          1712              ; INIT SPEED
00001A04  82BC FFFFFFFC           1713              OR.L    #CLDSPMSK,D1
00001A0A  3141 0004               1714              MOVE.W  D1,4(A0)
00001A0E                          1715              
00001A0E  201F                    1716              MOVE.L (A7)+,D0
00001A10  4E75                    1717              RTS
00001A12                          1718  
00001A12                          1719  ; -----------------------------------------------------------------------------
00001A12                          1720  CLDUPD
00001A12                          1721  ; UPDATES CLOUD.
00001A12                          1722  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
00001A12                          1723  ; OUTPUT    : NONE
00001A12                          1724  ; MODIFIES  : NONE
00001A12                          1725  ; -----------------------------------------------------------------------------
00001A12                          1726              
00001A12  48E7 8040               1727              MOVEM.L D0/A1,-(A7)
00001A16                          1728              
00001A16                          1729              ; UPDATE POSITION
00001A16  3028 0004               1730              MOVE.W  4(A0),D0
00001A1A  D050                    1731              ADD.W   (A0),D0
00001A1C  3080                    1732              MOVE.W  D0,(A0)
00001A1E                          1733              
00001A1E                          1734  ; CHECK AND HANDLE COLISION
00001A1E                          1735              ; SELECT CLOUD WIDTH
00001A1E  3028 0006               1736              MOVE.W  6(A0),D0
00001A22  E558                    1737              ROL.W   #2,D0           ; TIMES 4 TIMES SINCE WE ACCESS LONG
00001A24  43F9 00001A68           1738              LEA     CLDTBL,A1
00001A2A  2271 0000               1739              MOVE.L  (A1,D0.W),A1
00001A2E  3011                    1740              MOVE.W  (A1),D0
00001A30                          1741              
00001A30  D050                    1742              ADD.W   (A0),D0
00001A32  6E00 0006               1743              BGT     .NOKILL
00001A36  4EB8 10AC               1744              JSR AGLKILL             ; KILL AGENT
00001A3A                          1745              
00001A3A  4CDF 0201               1746  .NOKILL     MOVEM.L (A7)+,D0/A1       
00001A3E  4E75                    1747              RTS
00001A40                          1748  
00001A40                          1749  ; -----------------------------------------------------------------------------
00001A40                          1750  CLDPLOT
00001A40                          1751  ; PLOTS CLOUD.
00001A40                          1752  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
00001A40                          1753  ; OUTPUT    : NONE
00001A40                          1754  ; MODIFIES  : NONE
00001A40                          1755  ; -----------------------------------------------------------------------------
00001A40                          1756              
00001A40  48E7 B140               1757              MOVEM.L D0/D2-D3/D7/A1,-(A7)
00001A44                          1758              
00001A44                          1759              ; SELECT THE CLOUD TYPE
00001A44  3028 0006               1760              MOVE.W  6(A0),D0
00001A48  E558                    1761              ROL.W   #2,D0           ; TIMES 4 TIMES SINCE WE ACCESS LONG
00001A4A  43F9 00001A68           1762              LEA     CLDTBL,A1
00001A50  2271 0000               1763              MOVE.L  (A1,D0.W),A1
00001A54                          1764              
00001A54                          1765              ; PLOT IMAGE
00001A54  3E19                    1766              MOVE.W  (A1)+,D7        ; ASSUME CLOUDX IS RIGHT NEXT TO CLOUDXW
00001A56  3428 0002               1767              MOVE.W  2(A0),D2
00001A5A  3610                    1768              MOVE.W  (A0),D3
00001A5C  4EB9 00001A88           1769              JSR     IMGPLOT
00001A62                          1770              
00001A62  4CDF 028D               1771              MOVEM.L (A7)+,D0/D2-D3/D7/A1
00001A66  4E75                    1772              RTS
00001A68                          1773                
00001A68= 00001BC4                1774  CLDTBL      DC.L    CLOUD0W
00001A6C= 00001D0A                1775              DC.L    CLOUD1W
00001A70= 00001E48                1776              DC.L    CLOUD2W
00001A74= 000020CE                1777              DC.L    CLOUD3W
00001A78= 00002164                1778              DC.L    CLOUD4W
00001A7C= 0000236A                1779              DC.L    CLOUD5W
00001A80= 000024E8                1780              DC.L    CLOUD6W
00001A84= 0000260E                1781              DC.L    CLOUD7W
00001A88                          1782  
00001A88                          1783  
00001A88                          1784  
00001A88                          1785  -------------------- end include --------------------
00001A88                          1786              INCLUDE "IMAGE.X68"         ; IMAGE DRAWING ROUTINES
00001A88                          1787  ; =============================================================================
00001A88                          1788  ; IMAGE LIBRARY. IT CONTAINS ROUTINES TO DRAW IMAGES. EVERY IMAGE DATA SHOULD 
00001A88                          1789  ; HAVE N LONG PAIRS, THE FIRST OF THE PAIR MEANS THE COLOR OF A BLOCK IN 
00001A88                          1790  ; FORMAT $00BBGGRR AND THE SECOND IS THE AMMOUNT OF BLOCKS IN A ROW WITH 
00001A88                          1791  ; THE SAME COLOR.
00001A88                          1792  ; EVERY IMAGE DATA IS ENDING WITH THE FLAG $FFFFFFFF
00001A88                          1793  ; =============================================================================
00001A88                          1794  
00001A88                          1795  ; -----------------------------------------------------------------------------
00001A88                          1796  IMGPLOT
00001A88                          1797  ; PLOTS AN IMAGE IN THE GIVEN COORDINATES
00001A88                          1798  ; INPUT:    A1 POINTER TO IMAGE DATA
00001A88                          1799  ;           D2.W Y START
00001A88                          1800  ;           D3.W X START
00001A88                          1801  ;           D7.W IMAGE WIDTH
00001A88                          1802  ; NOTE : WON'T USE IMAGE HEIGHT TO MANAGE IMAGE END, AS WE ASSUME IMAGE DATA
00001A88                          1803  ;        IS ENDING WITH THE FLAG $FFFFFFFF
00001A88                          1804  ; -----------------------------------------------------------------------------
00001A88                          1805  
00001A88  48E7 FF40               1806              MOVEM.L A1/D0-D7,-(A7)
00001A8C                          1807              
00001A8C  33C3 00001AD4           1808              MOVE.W  D3,(.STARTX)  ; STORE STARTING X
00001A92  3A03                    1809              MOVE.W  D3,D5   
00001A94  DA47                    1810              ADD.W   D7,D5       ; X ENDING COORD
00001A96                          1811              
00001A96                          1812              
00001A96                          1813              ; SET PEN AND FILL COLOR
00001A96  2219                    1814              MOVE.L  (A1)+,D1
00001A98  103C 0050               1815  .LOOP1      MOVE.B  #80,D0
00001A9C  4E4F                    1816              TRAP    #15
00001A9E  5200                    1817              ADDQ.B  #1,D0
00001AA0  4E4F                    1818              TRAP    #15
00001AA2                          1819              
00001AA2                          1820              ; DRAW BLOCK
00001AA2  2C19                    1821              MOVE.L  (A1)+,D6
00001AA4  5386                    1822              SUBQ.L  #1,D6            
00001AA6  3203                    1823  .LOOP2      MOVE.W  D3,D1       ; BLOCK START X
00001AA8  5843                    1824              ADDQ.W  #BLOCKSZ,D3 ; BLOCK END X
00001AAA  3802                    1825              MOVE.W  D2,D4       
00001AAC  5844                    1826              ADDQ.W  #BLOCKSZ,D4 ; BLOCK END Y
00001AAE  103C 0057               1827              MOVE.B  #87,D0
00001AB2  4E4F                    1828              TRAP    #15
00001AB4                          1829              
00001AB4  BA43                    1830              CMP.W   D3,D5
00001AB6  6C00 000A               1831              BGE     .SAMEROW
00001ABA                          1832              ; MOVE TO NEXT ROW
00001ABA  3639 00001AD4           1833              MOVE.W  (.STARTX),D3
00001AC0  5842                    1834              ADDQ.W  #BLOCKSZ,D2
00001AC2  51CE FFE2               1835  .SAMEROW    DBRA    D6,.LOOP2
00001AC6                          1836              
00001AC6  2219                    1837              MOVE.L  (A1)+,D1
00001AC8  B27C FFFF               1838              CMP.W   #.ENDFLAG,D1
00001ACC  66CA                    1839              BNE     .LOOP1
00001ACE                          1840              
00001ACE                          1841              
00001ACE  4CDF 02FF               1842              MOVEM.L (A7)+,A1/D0-D7
00001AD2  4E75                    1843              RTS
00001AD4                          1844         
00001AD4  =FFFFFFFF               1845  .ENDFLAG    EQU     $FFFFFFFF
00001AD4                          1846  
00001AD4                          1847  .STARTX     DS.W    1
00001AD6                          1848  
00001AD6                          1849  
00001AD6                          1850  
00001AD6                          1851  
00001AD6                          1852  
00001AD6                          1853  
00001AD6                          1854  
00001AD6                          1855  -------------------- end include --------------------
00001AD6                          1856              INCLUDE "BUTTON.X68"        ; BUTTONS MANAGEMENT
00001AD6                          1857  ; =============================================================================
00001AD6                          1858  ; BUTTON MANAGEMENT (AGENT)
00001AD6                          1859  ; BUTTON LEFT POS X (W)         (A0)
00001AD6                          1860  ; BUTTON TOP POS Y (W)          2(A0)
00001AD6                          1861  ; BUTTON RIGHT POS X (W)        4(A0)
00001AD6                          1862  ; BUTTON BOTTOM POS Y (W)       6(A0)
00001AD6                          1863  ; BUTTON POINTER TO TEXT (L)    10(A0)
00001AD6                          1864  ; BUTTON NEXT STATE (W)         14(A0)
00001AD6                          1865  ; BUTTON STATE (BOOL HOVER)     16(A0)
00001AD6                          1866  ; =============================================================================
00001AD6                          1867  
00001AD6                          1868  ; ------------------------------------------------------------------------------
00001AD6                          1869  BUTINIT
00001AD6                          1870  ; INITS A BUTTON
00001AD6                          1871  ; INPUT    : A0 POINTER TO INSTANCE VARIABLES
00001AD6                          1872  ;            A4 POINTER TO ZERO-TERMINATED STRING
00001AD6                          1873  ;            D1.W LEFT POS X
00001AD6                          1874  ;            D2.W TOP POS Y
00001AD6                          1875  ;            D3.W RIGHT POS X
00001AD6                          1876  ;            D4.W BOT POS Y
00001AD6                          1877  ;            D5.W STATE TO CHANGE WHEN PRESSED
00001AD6                          1878  ; OUTPUT   : NONE
00001AD6                          1879  ; MODIFIES : NONE
00001AD6                          1880  ; ------------------------------------------------------------------------------
00001AD6                          1881              
00001AD6  3081                    1882              MOVE.W  D1,(A0)
00001AD8  3142 0002               1883              MOVE.W  D2,2(A0)
00001ADC  3143 0004               1884              MOVE.W  D3,4(A0)
00001AE0  3144 0006               1885              MOVE.W  D4,6(A0)
00001AE4  214C 000A               1886              MOVE.L  A4,10(A0)
00001AE8  3145 000E               1887              MOVE.W  D5,14(A0)
00001AEC  4228 0010               1888              CLR.B   16(A0)
00001AF0                          1889              
00001AF0  4E75                    1890              RTS
00001AF2                          1891  
00001AF2                          1892  ; ------------------------------------------------------------------------------
00001AF2                          1893  BUTUPD
00001AF2                          1894  ; UPDATES BUTTON STATUS
00001AF2                          1895  ; INPUT    : A0 POINTER TO INSTANCE VARIABLES
00001AF2                          1896  ; OUTPUT   : NONE
00001AF2                          1897  ; MODIFIES : NONE
00001AF2                          1898  ; ------------------------------------------------------------------------------
00001AF2                          1899  
00001AF2  48E7 C000               1900              MOVEM.L D0-D1,-(A7)
00001AF6                          1901              
00001AF6                          1902              ; CHECK IF HOVER
00001AF6  2239 000027EC           1903              MOVE.L  (MOUPOS),D1
00001AFC  3001                    1904              MOVE.W  D1,D0           ; X MOUSE POS
00001AFE  C2BC FFFF0000           1905              AND.L   #$FFFF0000,D1
00001B04  E199                    1906              ROL.L   #8,D1           
00001B06  E199                    1907              ROL.L   #8,D1           ; Y MOUSE POS
00001B08  B050                    1908              CMP.W   (A0),D0
00001B0A  6D00 003A               1909              BLT     .NOHOVER
00001B0E  B068 0004               1910              CMP.W   4(A0),D0
00001B12  6E00 0032               1911              BGT     .NOHOVER
00001B16  B268 0002               1912              CMP.W   2(A0),D1
00001B1A  6D00 002A               1913              BLT     .NOHOVER
00001B1E  B268 0006               1914              CMP.W   6(A0),D1
00001B22  6E00 0022               1915              BGT     .NOHOVER
00001B26                          1916              ; SET STATE TO HOVER
00001B26  117C 0001 0010          1917              MOVE.B  #1,16(A0)
00001B2C                          1918              
00001B2C                          1919              ; CHANGE STATE IN CASE MOUSE IS PRESSED
00001B2C  1039 000027F0           1920              MOVE.B  MOUVAL,D0
00001B32  C03C 0007               1921              AND.B   #7,D0           ; LEFT, RIGHT OR MID MOUSE BUTTON WORKS
00001B36  6700 0012               1922              BEQ     .END
00001B3A  33E8 000E 00002814      1923              MOVE.W  14(A0),(STANEXT)
00001B42  6000 0006               1924              BRA     .END
00001B46                          1925              
00001B46                          1926              
00001B46                          1927              ; SET STATE TO NOT HOVER
00001B46  4228 0010               1928  .NOHOVER    CLR.B   16(A0)
00001B4A                          1929  
00001B4A  4CDF 0003               1930  .END        MOVEM.L (A7)+,D0-D1
00001B4E  4E75                    1931              RTS
00001B50                          1932  
00001B50                          1933  ; ------------------------------------------------------------------------------
00001B50                          1934  BUTPLOT
00001B50                          1935  ; PLOTS THE BUTTON
00001B50                          1936  ; INPUT    : A0 POINTER TO INSTANCE VARIABLES
00001B50                          1937  ; OUTPUT   : NONE
00001B50                          1938  ; MODIFIES : NONE
00001B50                          1939  ; ------------------------------------------------------------------------------
00001B50                          1940              
00001B50  48E7 F8C0               1941              MOVEM.L A0-A1/D0-D4,-(A7)
00001B54                          1942              
00001B54                          1943              ; SET COLORS
00001B54  4281                    1944              CLR.L   D1              ; SET PEN COLOR
00001B56  103C 0050               1945              MOVE.B  #80,D0
00001B5A  4E4F                    1946              TRAP    #15
00001B5C  1028 0010               1947              MOVE.B  16(A0),D0       ; SET FILL COLOR
00001B60  6700 000C               1948              BEQ     .NOHOVER
00001B64  223C 0035DE3B           1949              MOVE.L  #BUTHVCLR,D1
00001B6A  6000 0008               1950              BRA     .HOVER
00001B6E  223C 0018732C           1951  .NOHOVER    MOVE.L  #BUTCOLOR,D1
00001B74  103C 0051               1952  .HOVER      MOVE.B  #81,D0
00001B78  4E4F                    1953              TRAP    #15
00001B7A                          1954              ; SET COORDS
00001B7A  103C 0057               1955              MOVE.B  #87,D0
00001B7E  3210                    1956              MOVE.W  (A0),D1
00001B80  3428 0002               1957              MOVE.W  2(A0),D2
00001B84  3628 0004               1958              MOVE.W  4(A0),D3
00001B88  3828 0006               1959              MOVE.W  6(A0),D4
00001B8C  4E4F                    1960              TRAP    #15
00001B8E                          1961              
00001B8E                          1962              ; DRAW BUTTON TEXT
00001B8E  4240                    1963              CLR.W   D0              ; COUNT TEXT LENGTH
00001B90  2268 000A               1964              MOVE.L  10(A0),A1
00001B94  4A19                    1965  .LOOP       TST.B   (A1)+
00001B96  6700 0006               1966              BEQ     .ENDLOOP
00001B9A  5200                    1967              ADDQ.B  #1,D0
00001B9C  60F6                    1968              BRA     .LOOP
00001B9E  C0FC 000E               1969  .ENDLOOP    MULU    #TXTSIZE,D0     ; TEXT WIDTH IN PIXELS
00001BA2  9641                    1970              SUB.W   D1,D3           ; BUTTON WIDTH
00001BA4  9640                    1971              SUB.W   D0,D3           
00001BA6  E24B                    1972              LSR.W   #1,D3           ; LEFT TEXT MARGIN
00001BA8  D243                    1973              ADD.W   D3,D1           ; X TEXT POSITION
00001BAA  9842                    1974              SUB.W   D2,D4           ; BUTTON HEIGHT
00001BAC  0440 000E               1975              SUB.W   #TXTSIZE,D0     
00001BB0  E24C                    1976              LSR.W   #1,D4           ; TOP TEXT MARGIN
00001BB2  D444                    1977              ADD.W   D4,D2           ; Y TEXT POSITION
00001BB4  2268 000A               1978              MOVEA.L 10(A0),A1
00001BB8  103C 005F               1979              MOVE.B  #95,D0
00001BBC  4E4F                    1980              TRAP    #15
00001BBE                          1981              
00001BBE                          1982              
00001BBE  4CDF 031F               1983              MOVEM.L (A7)+,A0-A1/D0-D4
00001BC2  4E75                    1984              RTS
00001BC4                          1985  
00001BC4                          1986  
00001BC4                          1987  
00001BC4                          1988  
00001BC4                          1989  
00001BC4                          1990  
00001BC4                          1991  
00001BC4                          1992  
00001BC4                          1993  
00001BC4                          1994  
00001BC4                          1995  
00001BC4                          1996  
00001BC4                          1997  
00001BC4                          1998  
00001BC4                          1999  
00001BC4                          2000  -------------------- end include --------------------
00001BC4                          2001              
00001BC4                          2002  ; --- DATA INCLUDES -----------------------------------------------------------
00001BC4                          2003  
00001BC4                          2004              INCLUDE "DATA/CLOUDSDATA.X68"    ; CLOUD IMAGES DATA
00001BC4                          2005  ; =============================================================================
00001BC4                          2006  ; THIS FILE HAS BEEN GENERATED BY CLOUDSCONVERTER.JAVA FROM CLOUD IMAGES.
00001BC4                          2007  ; TO IMPROVE PERFORMANCE, EACH BLOCK ACTS LIKE A PIXEL, BUT IT'S ACTUALLY A 
00001BC4                          2008  ;4x4 SQUARE. IMAGES ARE ADDAPTED TO IMAGE.X68 DRAWING.
00001BC4                          2009  ; =============================================================================
00001BC4                          2010  
00001BC4                          2011  
00001BC4                          2012  ; -----------------------------------------------------------------------------
00001BC4                          2013  ; EVERY CLOUD DATA STORES:
00001BC4                          2014  ; ONE WORD TO STORE THE CLOUD WIDTH IN BLOCKS.
00001BC4                          2015  ; TWO LONGS PAIRS STORING A COLOR AND THE AMMOUNT OF BLOCKS WITH THE SAME COLOR
00001BC4                          2016  ; IN A ROW.
00001BC4                          2017  ; EVERY IMAGE ENDS WITH A FLAG $FFFFFFFF
00001BC4                          2018  ; -----------------------------------------------------------------------------
00001BC4                          2019  
00001BC4= 0070                    2020  CLOUD0W     DC.W    112
00001BC6                          2021  CLOUD0
00001BC6= 00FFBF80 0000002C       2022              DC.L    $00FFBF80,44
00001BCE= 00FEFDFB 00000008       2023              DC.L    $00FEFDFB,8
00001BD6= 00DCDCDC 00000001       2024              DC.L    $00DCDCDC,1
00001BDE= 00FFBF80 00000012       2025              DC.L    $00FFBF80,18
00001BE6= 00FEFDFB 0000000B       2026              DC.L    $00FEFDFB,11
00001BEE= 00FFBF80 00000010       2027              DC.L    $00FFBF80,16
00001BF6= 00FEFDFB 0000000D       2028              DC.L    $00FEFDFB,13
00001BFE= 00FFBF80 00000007       2029              DC.L    $00FFBF80,7
00001C06= 00DCDCDC 00000001       2030              DC.L    $00DCDCDC,1
00001C0E= 00FEFDFB 00000005       2031              DC.L    $00FEFDFB,5
00001C16= 00FFBF80 00000001       2032              DC.L    $00FFBF80,1
00001C1E= 00DCDCDC 00000001       2033              DC.L    $00DCDCDC,1
00001C26= 00FEFDFB 0000000D       2034              DC.L    $00FEFDFB,13
00001C2E= 00DCDCDC 00000001       2035              DC.L    $00DCDCDC,1
00001C36= 00FFBF80 00000005       2036              DC.L    $00FFBF80,5
00001C3E= 00FEFDFB 00000016       2037              DC.L    $00FEFDFB,22
00001C46= 00DCDCDC 00000001       2038              DC.L    $00DCDCDC,1
00001C4E= 00FFBF80 00000005       2039              DC.L    $00FFBF80,5
00001C56= 00FEFDFB 00000002       2040              DC.L    $00FEFDFB,2
00001C5E= 00DCDCDC 00000001       2041              DC.L    $00DCDCDC,1
00001C66= 00FEFDFB 00000013       2042              DC.L    $00FEFDFB,19
00001C6E= 00DCDCDC 00000001       2043              DC.L    $00DCDCDC,1
00001C76= 00FFBF80 00000004       2044              DC.L    $00FFBF80,4
00001C7E= 00FEFDFB 00000017       2045              DC.L    $00FEFDFB,23
00001C86= 00FFBF80 00000002       2046              DC.L    $00FFBF80,2
00001C8E= 00DCDCDC 00000001       2047              DC.L    $00DCDCDC,1
00001C96= 00FEFDFB 00000016       2048              DC.L    $00FEFDFB,22
00001C9E= 00DCDCDC 00000001       2049              DC.L    $00DCDCDC,1
00001CA6= 00FEFDFB 00000002       2050              DC.L    $00FEFDFB,2
00001CAE= 00FFBF80 00000002       2051              DC.L    $00FFBF80,2
00001CB6= 00DCDCDC 00000001       2052              DC.L    $00DCDCDC,1
00001CBE= 00FEFDFB 00000001       2053              DC.L    $00FEFDFB,1
00001CC6= 00DCDCDC 00000001       2054              DC.L    $00DCDCDC,1
00001CCE= 00FEFDFB 00000008       2055              DC.L    $00FEFDFB,8
00001CD6= 00DCDCDC 00000002       2056              DC.L    $00DCDCDC,2
00001CDE= 00FEFDFB 00000009       2057              DC.L    $00FEFDFB,9
00001CE6= 00DCDCDC 00000004       2058              DC.L    $00DCDCDC,4
00001CEE= 00FFBF80 00000003       2059              DC.L    $00FFBF80,3
00001CF6= 00DCDCDC 00000018       2060              DC.L    $00DCDCDC,24
00001CFE= 00FFBF80 0000001E       2061              DC.L    $00FFBF80,30
00001D06= FFFFFFFF                2062              DC.L    $FFFFFFFF
00001D0A                          2063  
00001D0A                          2064  
00001D0A= 0060                    2065  CLOUD1W     DC.W    96
00001D0C                          2066  CLOUD1
00001D0C= 00FFBF80 00000020       2067              DC.L    $00FFBF80,32
00001D14= 00DCDCDC 00000001       2068              DC.L    $00DCDCDC,1
00001D1C= 00FEFDFB 00000006       2069              DC.L    $00FEFDFB,6
00001D24= 00FFBF80 0000000F       2070              DC.L    $00FFBF80,15
00001D2C= 00DCDCDC 00000001       2071              DC.L    $00DCDCDC,1
00001D34= 00FEFDFB 00000009       2072              DC.L    $00FEFDFB,9
00001D3C= 00FFBF80 0000000E       2073              DC.L    $00FFBF80,14
00001D44= 00FEFDFB 00000007       2074              DC.L    $00FEFDFB,7
00001D4C= 00DCDCDC 00000002       2075              DC.L    $00DCDCDC,2
00001D54= 00FEFDFB 00000001       2076              DC.L    $00FEFDFB,1
00001D5C= 00DCDCDC 00000001       2077              DC.L    $00DCDCDC,1
00001D64= 00FFBF80 0000000C       2078              DC.L    $00FFBF80,12
00001D6C= 00DCDCDC 00000001       2079              DC.L    $00DCDCDC,1
00001D74= 00FEFDFB 00000009       2080              DC.L    $00FEFDFB,9
00001D7C= 00DCDCDC 00000001       2081              DC.L    $00DCDCDC,1
00001D84= 00FEFDFB 00000001       2082              DC.L    $00FEFDFB,1
00001D8C= 00DCDCDC 00000001       2083              DC.L    $00DCDCDC,1
00001D94= 00FEFDFB 00000001       2084              DC.L    $00FEFDFB,1
00001D9C= 00FFBF80 0000000A       2085              DC.L    $00FFBF80,10
00001DA4= 00DCDCDC 00000001       2086              DC.L    $00DCDCDC,1
00001DAC= 00FEFDFB 0000000E       2087              DC.L    $00FEFDFB,14
00001DB4= 00FFBF80 00000006       2088              DC.L    $00FFBF80,6
00001DBC= 00FEFDFB 00000012       2089              DC.L    $00FEFDFB,18
00001DC4= 00DCDCDC 00000001       2090              DC.L    $00DCDCDC,1
00001DCC= 00FFBF80 00000004       2091              DC.L    $00FFBF80,4
00001DD4= 00DCDCDC 00000001       2092              DC.L    $00DCDCDC,1
00001DDC= 00FEFDFB 0000000E       2093              DC.L    $00FEFDFB,14
00001DE4= 00DCDCDC 00000002       2094              DC.L    $00DCDCDC,2
00001DEC= 00FEFDFB 00000004       2095              DC.L    $00FEFDFB,4
00001DF4= 00DCDCDC 00000001       2096              DC.L    $00DCDCDC,1
00001DFC= 00FFBF80 00000002       2097              DC.L    $00FFBF80,2
00001E04= 00DCDCDC 00000002       2098              DC.L    $00DCDCDC,2
00001E0C= 00FEFDFB 00000001       2099              DC.L    $00FEFDFB,1
00001E14= 00DCDCDC 00000003       2100              DC.L    $00DCDCDC,3
00001E1C= 00FEFDFB 00000008       2101              DC.L    $00FEFDFB,8
00001E24= 00DCDCDC 00000005       2102              DC.L    $00DCDCDC,5
00001E2C= 00FEFDFB 00000001       2103              DC.L    $00FEFDFB,1
00001E34= 00DCDCDC 00000002       2104              DC.L    $00DCDCDC,2
00001E3C= 00FFBF80 00000019       2105              DC.L    $00FFBF80,25
00001E44= FFFFFFFF                2106              DC.L    $FFFFFFFF
00001E48                          2107  
00001E48                          2108  
00001E48= 00C6                    2109  CLOUD2W     DC.W    198
00001E4A                          2110  CLOUD2
00001E4A= 00FFBF80 00000014       2111              DC.L    $00FFBF80,20
00001E52= 00DCDCDC 00000004       2112              DC.L    $00DCDCDC,4
00001E5A= 00FFBF80 0000002B       2113              DC.L    $00FFBF80,43
00001E62= 00DCDCDC 00000001       2114              DC.L    $00DCDCDC,1
00001E6A= 00FEFDFB 00000008       2115              DC.L    $00FEFDFB,8
00001E72= 00FFBF80 00000028       2116              DC.L    $00FFBF80,40
00001E7A= 00FEFDFB 0000000B       2117              DC.L    $00FEFDFB,11
00001E82= 00FFBF80 00000026       2118              DC.L    $00FFBF80,38
00001E8A= 00FEFDFB 0000000C       2119              DC.L    $00FEFDFB,12
00001E92= 00FFBF80 00000026       2120              DC.L    $00FFBF80,38
00001E9A= 00FEFDFB 0000000C       2121              DC.L    $00FEFDFB,12
00001EA2= 00FFBF80 00000026       2122              DC.L    $00FFBF80,38
00001EAA= 00FEFDFB 0000000C       2123              DC.L    $00FEFDFB,12
00001EB2= 00FFBF80 00000021       2124              DC.L    $00FFBF80,33
00001EBA= 00DCDCDC 00000001       2125              DC.L    $00DCDCDC,1
00001EC2= 00FEFDFB 00000003       2126              DC.L    $00FEFDFB,3
00001ECA= 00DCDCDC 00000001       2127              DC.L    $00DCDCDC,1
00001ED2= 00FEFDFB 0000000B       2128              DC.L    $00FEFDFB,11
00001EDA= 00DCDCDC 00000002       2129              DC.L    $00DCDCDC,2
00001EE2= 00FEFDFB 00000003       2130              DC.L    $00FEFDFB,3
00001EEA= 00FFBF80 0000001C       2131              DC.L    $00FFBF80,28
00001EF2= 00DCDCDC 00000001       2132              DC.L    $00DCDCDC,1
00001EFA= 00FEFDFB 00000005       2133              DC.L    $00FEFDFB,5
00001F02= 00DCDCDC 00000001       2134              DC.L    $00DCDCDC,1
00001F0A= 00FEFDFB 0000000F       2135              DC.L    $00FEFDFB,15
00001F12= 00DCDCDC 00000001       2136              DC.L    $00DCDCDC,1
00001F1A= 00FFBF80 00000001       2137              DC.L    $00FFBF80,1
00001F22= 00FEFDFB 00000001       2138              DC.L    $00FEFDFB,1
00001F2A= 00DCDCDC 00000001       2139              DC.L    $00DCDCDC,1
00001F32= 00FFBF80 00000006       2140              DC.L    $00FFBF80,6
00001F3A= 00DCDCDC 00000003       2141              DC.L    $00DCDCDC,3
00001F42= 00FFBF80 0000000F       2142              DC.L    $00FFBF80,15
00001F4A= 00FEFDFB 0000001C       2143              DC.L    $00FEFDFB,28
00001F52= 00FFBF80 00000003       2144              DC.L    $00FFBF80,3
00001F5A= 00FEFDFB 00000004       2145              DC.L    $00FEFDFB,4
00001F62= 00FFBF80 0000000F       2146              DC.L    $00FFBF80,15
00001F6A= 00DCDCDC 00000001       2147              DC.L    $00DCDCDC,1
00001F72= 00FEFDFB 0000000C       2148              DC.L    $00FEFDFB,12
00001F7A= 00DCDCDC 00000002       2149              DC.L    $00DCDCDC,2
00001F82= 00FEFDFB 0000000D       2150              DC.L    $00FEFDFB,13
00001F8A= 00FFBF80 00000002       2151              DC.L    $00FFBF80,2
00001F92= 00DCDCDC 00000001       2152              DC.L    $00DCDCDC,1
00001F9A= 00FEFDFB 00000004       2153              DC.L    $00FEFDFB,4
00001FA2= 00FFBF80 00000007       2154              DC.L    $00FFBF80,7
00001FAA= 00DCDCDC 00000003       2155              DC.L    $00DCDCDC,3
00001FB2= 00FFBF80 00000004       2156              DC.L    $00FFBF80,4
00001FBA= 00DCDCDC 00000002       2157              DC.L    $00DCDCDC,2
00001FC2= 00FEFDFB 0000001A       2158              DC.L    $00FEFDFB,26
00001FCA= 00DCDCDC 00000002       2159              DC.L    $00DCDCDC,2
00001FD2= 00FFBF80 00000002       2160              DC.L    $00FFBF80,2
00001FDA= 00FEFDFB 00000004       2161              DC.L    $00FEFDFB,4
00001FE2= 00FFBF80 00000003       2162              DC.L    $00FFBF80,3
00001FEA= 00DCDCDC 00000001       2163              DC.L    $00DCDCDC,1
00001FF2= 00FFBF80 00000003       2164              DC.L    $00FFBF80,3
00001FFA= 00FEFDFB 00000003       2165              DC.L    $00FEFDFB,3
00002002= 00DCDCDC 00000001       2166              DC.L    $00DCDCDC,1
0000200A= 00FFBF80 00000003       2167              DC.L    $00FFBF80,3
00002012= 00DCDCDC 00000003       2168              DC.L    $00DCDCDC,3
0000201A= 00FEFDFB 00000015       2169              DC.L    $00FEFDFB,21
00002022= 00DCDCDC 00000006       2170              DC.L    $00DCDCDC,6
0000202A= 00FFBF80 00000002       2171              DC.L    $00FFBF80,2
00002032= 00FEFDFB 00000004       2172              DC.L    $00FEFDFB,4
0000203A= 00FFBF80 00000002       2173              DC.L    $00FFBF80,2
00002042= 00FEFDFB 00000002       2174              DC.L    $00FEFDFB,2
0000204A= 00DCDCDC 00000001       2175              DC.L    $00DCDCDC,1
00002052= 00FFBF80 00000001       2176              DC.L    $00FFBF80,1
0000205A= 00DCDCDC 00000001       2177              DC.L    $00DCDCDC,1
00002062= 00FEFDFB 00000004       2178              DC.L    $00FEFDFB,4
0000206A= 00FFBF80 00000004       2179              DC.L    $00FFBF80,4
00002072= 00DCDCDC 00000008       2180              DC.L    $00DCDCDC,8
0000207A= 00FEFDFB 00000008       2181              DC.L    $00FEFDFB,8
00002082= 00DCDCDC 0000000C       2182              DC.L    $00DCDCDC,12
0000208A= 00FFBF80 00000003       2183              DC.L    $00FFBF80,3
00002092= 00DCDCDC 00000003       2184              DC.L    $00DCDCDC,3
0000209A= 00FFBF80 00000008       2185              DC.L    $00FFBF80,8
000020A2= 00DCDCDC 00000001       2186              DC.L    $00DCDCDC,1
000020AA= 00FEFDFB 00000002       2187              DC.L    $00FEFDFB,2
000020B2= 00FFBF80 00000005       2188              DC.L    $00FFBF80,5
000020BA= 00DCDCDC 0000001B       2189              DC.L    $00DCDCDC,27
000020C2= 00FFBF80 00000040       2190              DC.L    $00FFBF80,64
000020CA= FFFFFFFF                2191              DC.L    $FFFFFFFF
000020CE                          2192  
000020CE                          2193  
000020CE= 0031                    2194  CLOUD3W     DC.W    49
000020D0                          2195  CLOUD3
000020D0= 00FFBF80 00000011       2196              DC.L    $00FFBF80,17
000020D8= 00DCDCDC 00000001       2197              DC.L    $00DCDCDC,1
000020E0= 00FEFDFB 00000003       2198              DC.L    $00FEFDFB,3
000020E8= 00FFBF80 00000009       2199              DC.L    $00FFBF80,9
000020F0= 00FEFDFB 00000004       2200              DC.L    $00FEFDFB,4
000020F8= 00DCDCDC 00000001       2201              DC.L    $00DCDCDC,1
00002100= 00FFBF80 00000006       2202              DC.L    $00FFBF80,6
00002108= 00FEFDFB 00000001       2203              DC.L    $00FEFDFB,1
00002110= 00DCDCDC 00000001       2204              DC.L    $00DCDCDC,1
00002118= 00FEFDFB 00000006       2205              DC.L    $00FEFDFB,6
00002120= 00DCDCDC 00000001       2206              DC.L    $00DCDCDC,1
00002128= 00FFBF80 00000003       2207              DC.L    $00FFBF80,3
00002130= 00FEFDFB 0000000A       2208              DC.L    $00FEFDFB,10
00002138= 00FFBF80 00000003       2209              DC.L    $00FFBF80,3
00002140= 00DCDCDC 00000001       2210              DC.L    $00DCDCDC,1
00002148= 00FEFDFB 00000008       2211              DC.L    $00FEFDFB,8
00002150= 00DCDCDC 00000001       2212              DC.L    $00DCDCDC,1
00002158= 00FFBF80 0000001C       2213              DC.L    $00FFBF80,28
00002160= FFFFFFFF                2214              DC.L    $FFFFFFFF
00002164                          2215  
00002164                          2216  
00002164= 00AF                    2217  CLOUD4W     DC.W    175
00002166                          2218  CLOUD4
00002166= 00FFBF80 0000003B       2219              DC.L    $00FFBF80,59
0000216E= 00DCDCDC 00000001       2220              DC.L    $00DCDCDC,1
00002176= 00FEFDFB 00000006       2221              DC.L    $00FEFDFB,6
0000217E= 00FFBF80 00000024       2222              DC.L    $00FFBF80,36
00002186= 00FEFDFB 00000009       2223              DC.L    $00FEFDFB,9
0000218E= 00DCDCDC 00000001       2224              DC.L    $00DCDCDC,1
00002196= 00FFBF80 00000021       2225              DC.L    $00FFBF80,33
0000219E= 00FEFDFB 0000000C       2226              DC.L    $00FEFDFB,12
000021A6= 00FFBF80 0000001F       2227              DC.L    $00FFBF80,31
000021AE= 00DCDCDC 00000001       2228              DC.L    $00DCDCDC,1
000021B6= 00FEFDFB 00000005       2229              DC.L    $00FEFDFB,5
000021BE= 00DCDCDC 00000001       2230              DC.L    $00DCDCDC,1
000021C6= 00FEFDFB 00000006       2231              DC.L    $00FEFDFB,6
000021CE= 00DCDCDC 00000001       2232              DC.L    $00DCDCDC,1
000021D6= 00FFBF80 0000001E       2233              DC.L    $00FFBF80,30
000021DE= 00FEFDFB 0000000E       2234              DC.L    $00FEFDFB,14
000021E6= 00FFBF80 0000001E       2235              DC.L    $00FFBF80,30
000021EE= 00DCDCDC 00000001       2236              DC.L    $00DCDCDC,1
000021F6= 00FEFDFB 0000000D       2237              DC.L    $00FEFDFB,13
000021FE= 00FFBF80 00000019       2238              DC.L    $00FFBF80,25
00002206= 00FEFDFB 00000004       2239              DC.L    $00FEFDFB,4
0000220E= 00DCDCDC 00000003       2240              DC.L    $00DCDCDC,3
00002216= 00FEFDFB 0000000B       2241              DC.L    $00FEFDFB,11
0000221E= 00DCDCDC 00000001       2242              DC.L    $00DCDCDC,1
00002226= 00FEFDFB 00000002       2243              DC.L    $00FEFDFB,2
0000222E= 00FFBF80 00000016       2244              DC.L    $00FFBF80,22
00002236= 00FEFDFB 00000017       2245              DC.L    $00FEFDFB,23
0000223E= 00FFBF80 0000000A       2246              DC.L    $00FFBF80,10
00002246= 00DCDCDC 00000002       2247              DC.L    $00DCDCDC,2
0000224E= 00FFBF80 00000008       2248              DC.L    $00FFBF80,8
00002256= 00FEFDFB 00000018       2249              DC.L    $00FEFDFB,24
0000225E= 00DCDCDC 00000001       2250              DC.L    $00DCDCDC,1
00002266= 00FFBF80 00000008       2251              DC.L    $00FFBF80,8
0000226E= 00FEFDFB 00000005       2252              DC.L    $00FEFDFB,5
00002276= 00FFBF80 00000006       2253              DC.L    $00FFBF80,6
0000227E= 00FEFDFB 00000010       2254              DC.L    $00FEFDFB,16
00002286= 00DCDCDC 00000001       2255              DC.L    $00DCDCDC,1
0000228E= 00FEFDFB 00000006       2256              DC.L    $00FEFDFB,6
00002296= 00DCDCDC 00000002       2257              DC.L    $00DCDCDC,2
0000229E= 00FFBF80 00000008       2258              DC.L    $00FFBF80,8
000022A6= 00FEFDFB 00000005       2259              DC.L    $00FEFDFB,5
000022AE= 00FFBF80 00000003       2260              DC.L    $00FFBF80,3
000022B6= 00DCDCDC 00000005       2261              DC.L    $00DCDCDC,5
000022BE= 00FEFDFB 0000000D       2262              DC.L    $00FEFDFB,13
000022C6= 00DCDCDC 00000001       2263              DC.L    $00DCDCDC,1
000022CE= 00FEFDFB 00000006       2264              DC.L    $00FEFDFB,6
000022D6= 00DCDCDC 00000007       2265              DC.L    $00DCDCDC,7
000022DE= 00FFBF80 00000004       2266              DC.L    $00FFBF80,4
000022E6= 00DCDCDC 00000001       2267              DC.L    $00DCDCDC,1
000022EE= 00FEFDFB 00000003       2268              DC.L    $00FEFDFB,3
000022F6= 00DCDCDC 00000001       2269              DC.L    $00DCDCDC,1
000022FE= 00FFBF80 00000002       2270              DC.L    $00FFBF80,2
00002306= 00DCDCDC 00000009       2271              DC.L    $00DCDCDC,9
0000230E= 00FEFDFB 0000000A       2272              DC.L    $00FEFDFB,10
00002316= 00DCDCDC 00000002       2273              DC.L    $00DCDCDC,2
0000231E= 00FEFDFB 00000003       2274              DC.L    $00FEFDFB,3
00002326= 00DCDCDC 0000000A       2275              DC.L    $00DCDCDC,10
0000232E= 00FFBF80 00000003       2276              DC.L    $00FFBF80,3
00002336= 00DCDCDC 00000002       2277              DC.L    $00DCDCDC,2
0000233E= 00FEFDFB 00000001       2278              DC.L    $00FEFDFB,1
00002346= 00DCDCDC 00000002       2279              DC.L    $00DCDCDC,2
0000234E= 00FFBF80 00000002       2280              DC.L    $00FFBF80,2
00002356= 00DCDCDC 00000022       2281              DC.L    $00DCDCDC,34
0000235E= 00FFBF80 00000035       2282              DC.L    $00FFBF80,53
00002366= FFFFFFFF                2283              DC.L    $FFFFFFFF
0000236A                          2284  
0000236A                          2285  
0000236A= 0089                    2286  CLOUD5W     DC.W    137
0000236C                          2287  CLOUD5
0000236C= 00FFBF80 0000002F       2288              DC.L    $00FFBF80,47
00002374= 00FEFDFB 00000008       2289              DC.L    $00FEFDFB,8
0000237C= 00DCDCDC 00000001       2290              DC.L    $00DCDCDC,1
00002384= 00FFBF80 00000019       2291              DC.L    $00FFBF80,25
0000238C= 00FEFDFB 0000000A       2292              DC.L    $00FEFDFB,10
00002394= 00DCDCDC 00000001       2293              DC.L    $00DCDCDC,1
0000239C= 00FFBF80 00000018       2294              DC.L    $00FFBF80,24
000023A4= 00FEFDFB 0000000B       2295              DC.L    $00FEFDFB,11
000023AC= 00FFBF80 00000017       2296              DC.L    $00FFBF80,23
000023B4= 00FEFDFB 00000009       2297              DC.L    $00FEFDFB,9
000023BC= 00DCDCDC 00000001       2298              DC.L    $00DCDCDC,1
000023C4= 00FEFDFB 00000002       2299              DC.L    $00FEFDFB,2
000023CC= 00FFBF80 00000001       2300              DC.L    $00FFBF80,1
000023D4= 00FEFDFB 00000003       2301              DC.L    $00FEFDFB,3
000023DC= 00FFBF80 00000010       2302              DC.L    $00FFBF80,16
000023E4= 00DCDCDC 00000001       2303              DC.L    $00DCDCDC,1
000023EC= 00FEFDFB 0000000E       2304              DC.L    $00FEFDFB,14
000023F4= 00DCDCDC 00000001       2305              DC.L    $00DCDCDC,1
000023FC= 00FEFDFB 00000004       2306              DC.L    $00FEFDFB,4
00002404= 00DCDCDC 00000001       2307              DC.L    $00DCDCDC,1
0000240C= 00FFBF80 0000000E       2308              DC.L    $00FFBF80,14
00002414= 00FEFDFB 00000004       2309              DC.L    $00FEFDFB,4
0000241C= 00DCDCDC 00000001       2310              DC.L    $00DCDCDC,1
00002424= 00FEFDFB 00000009       2311              DC.L    $00FEFDFB,9
0000242C= 00DCDCDC 00000001       2312              DC.L    $00DCDCDC,1
00002434= 00FEFDFB 00000006       2313              DC.L    $00FEFDFB,6
0000243C= 00FFBF80 0000000D       2314              DC.L    $00FFBF80,13
00002444= 00FEFDFB 00000016       2315              DC.L    $00FEFDFB,22
0000244C= 00DCDCDC 00000001       2316              DC.L    $00DCDCDC,1
00002454= 00FEFDFB 00000001       2317              DC.L    $00FEFDFB,1
0000245C= 00FFBF80 0000000B       2318              DC.L    $00FFBF80,11
00002464= 00DCDCDC 00000001       2319              DC.L    $00DCDCDC,1
0000246C= 00FEFDFB 00000002       2320              DC.L    $00FEFDFB,2
00002474= 00DCDCDC 00000001       2321              DC.L    $00DCDCDC,1
0000247C= 00FEFDFB 00000015       2322              DC.L    $00FEFDFB,21
00002484= 00DCDCDC 00000001       2323              DC.L    $00DCDCDC,1
0000248C= 00FFBF80 00000006       2324              DC.L    $00FFBF80,6
00002494= 00DCDCDC 00000001       2325              DC.L    $00DCDCDC,1
0000249C= 00FEFDFB 00000004       2326              DC.L    $00FEFDFB,4
000024A4= 00DCDCDC 00000003       2327              DC.L    $00DCDCDC,3
000024AC= 00FEFDFB 0000000F       2328              DC.L    $00FEFDFB,15
000024B4= 00DCDCDC 00000001       2329              DC.L    $00DCDCDC,1
000024BC= 00FEFDFB 00000004       2330              DC.L    $00FEFDFB,4
000024C4= 00DCDCDC 00000001       2331              DC.L    $00DCDCDC,1
000024CC= 00FFBF80 00000004       2332              DC.L    $00FFBF80,4
000024D4= 00DCDCDC 00000020       2333              DC.L    $00DCDCDC,32
000024DC= 00FFBF80 00000025       2334              DC.L    $00FFBF80,37
000024E4= FFFFFFFF                2335              DC.L    $FFFFFFFF
000024E8                          2336  
000024E8                          2337  
000024E8= 005D                    2338  CLOUD6W     DC.W    93
000024EA                          2339  CLOUD6
000024EA= 00FFBF80 0000001E       2340              DC.L    $00FFBF80,30
000024F2= 00DCDCDC 00000001       2341              DC.L    $00DCDCDC,1
000024FA= 00FEFDFB 00000004       2342              DC.L    $00FEFDFB,4
00002502= 00DCDCDC 00000001       2343              DC.L    $00DCDCDC,1
0000250A= 00FFBF80 00000011       2344              DC.L    $00FFBF80,17
00002512= 00FEFDFB 00000007       2345              DC.L    $00FEFDFB,7
0000251A= 00DCDCDC 00000001       2346              DC.L    $00DCDCDC,1
00002522= 00FFBF80 00000002       2347              DC.L    $00FFBF80,2
0000252A= 00DCDCDC 00000002       2348              DC.L    $00DCDCDC,2
00002532= 00FFBF80 0000000C       2349              DC.L    $00FFBF80,12
0000253A= 00FEFDFB 00000007       2350              DC.L    $00FEFDFB,7
00002542= 00DCDCDC 00000002       2351              DC.L    $00DCDCDC,2
0000254A= 00FEFDFB 00000005       2352              DC.L    $00FEFDFB,5
00002552= 00FFBF80 00000009       2353              DC.L    $00FFBF80,9
0000255A= 00FEFDFB 00000007       2354              DC.L    $00FEFDFB,7
00002562= 00DCDCDC 00000001       2355              DC.L    $00DCDCDC,1
0000256A= 00FEFDFB 00000007       2356              DC.L    $00FEFDFB,7
00002572= 00FFBF80 00000009       2357              DC.L    $00FFBF80,9
0000257A= 00FEFDFB 00000009       2358              DC.L    $00FEFDFB,9
00002582= 00DCDCDC 00000001       2359              DC.L    $00DCDCDC,1
0000258A= 00FEFDFB 00000005       2360              DC.L    $00FEFDFB,5
00002592= 00FFBF80 00000008       2361              DC.L    $00FFBF80,8
0000259A= 00FEFDFB 00000010       2362              DC.L    $00FEFDFB,16
000025A2= 00FFBF80 00000007       2363              DC.L    $00FFBF80,7
000025AA= 00DCDCDC 00000001       2364              DC.L    $00DCDCDC,1
000025B2= 00FEFDFB 00000010       2365              DC.L    $00FEFDFB,16
000025BA= 00DCDCDC 00000003       2366              DC.L    $00DCDCDC,3
000025C2= 00FFBF80 00000003       2367              DC.L    $00FFBF80,3
000025CA= 00DCDCDC 00000004       2368              DC.L    $00DCDCDC,4
000025D2= 00FEFDFB 0000000B       2369              DC.L    $00FEFDFB,11
000025DA= 00DCDCDC 00000006       2370              DC.L    $00DCDCDC,6
000025E2= 00FFBF80 00000003       2371              DC.L    $00FFBF80,3
000025EA= 00DCDCDC 00000007       2372              DC.L    $00DCDCDC,7
000025F2= 00FEFDFB 00000006       2373              DC.L    $00FEFDFB,6
000025FA= 00DCDCDC 00000007       2374              DC.L    $00DCDCDC,7
00002602= 00FFBF80 0000001B       2375              DC.L    $00FFBF80,27
0000260A= FFFFFFFF                2376              DC.L    $FFFFFFFF
0000260E                          2377  
0000260E                          2378  
0000260E= 0077                    2379  CLOUD7W     DC.W    119
00002610                          2380  CLOUD7
00002610= 00FFBF80 00000028       2381              DC.L    $00FFBF80,40
00002618= 00DCDCDC 00000002       2382              DC.L    $00DCDCDC,2
00002620= 00FEFDFB 00000004       2383              DC.L    $00FEFDFB,4
00002628= 00DCDCDC 00000001       2384              DC.L    $00DCDCDC,1
00002630= 00FFBF80 00000016       2385              DC.L    $00FFBF80,22
00002638= 00FEFDFB 00000006       2386              DC.L    $00FEFDFB,6
00002640= 00DCDCDC 00000001       2387              DC.L    $00DCDCDC,1
00002648= 00FEFDFB 00000002       2388              DC.L    $00FEFDFB,2
00002650= 00FFBF80 00000003       2389              DC.L    $00FFBF80,3
00002658= 00FEFDFB 00000004       2390              DC.L    $00FEFDFB,4
00002660= 00FFBF80 0000000A       2391              DC.L    $00FFBF80,10
00002668= 00FEFDFB 00000002       2392              DC.L    $00FEFDFB,2
00002670= 00FFBF80 00000002       2393              DC.L    $00FFBF80,2
00002678= 00FEFDFB 00000009       2394              DC.L    $00FEFDFB,9
00002680= 00DCDCDC 00000002       2395              DC.L    $00DCDCDC,2
00002688= 00FEFDFB 00000006       2396              DC.L    $00FEFDFB,6
00002690= 00DCDCDC 00000001       2397              DC.L    $00DCDCDC,1
00002698= 00FFBF80 00000007       2398              DC.L    $00FFBF80,7
000026A0= 00FEFDFB 00000004       2399              DC.L    $00FEFDFB,4
000026A8= 00DCDCDC 00000001       2400              DC.L    $00DCDCDC,1
000026B0= 00FEFDFB 00000012       2401              DC.L    $00FEFDFB,18
000026B8= 00FFBF80 00000006       2402              DC.L    $00FFBF80,6
000026C0= 00DCDCDC 00000001       2403              DC.L    $00DCDCDC,1
000026C8= 00FEFDFB 00000004       2404              DC.L    $00FEFDFB,4
000026D0= 00DCDCDC 00000001       2405              DC.L    $00DCDCDC,1
000026D8= 00FEFDFB 00000008       2406              DC.L    $00FEFDFB,8
000026E0= 00DCDCDC 00000002       2407              DC.L    $00DCDCDC,2
000026E8= 00FEFDFB 00000008       2408              DC.L    $00FEFDFB,8
000026F0= 00FFBF80 00000006       2409              DC.L    $00FFBF80,6
000026F8= 00FEFDFB 00000011       2410              DC.L    $00FEFDFB,17
00002700= 00DCDCDC 00000001       2411              DC.L    $00DCDCDC,1
00002708= 00FEFDFB 00000006       2412              DC.L    $00FEFDFB,6
00002710= 00DCDCDC 00000001       2413              DC.L    $00DCDCDC,1
00002718= 00FFBF80 00000004       2414              DC.L    $00FFBF80,4
00002720= 00DCDCDC 00000001       2415              DC.L    $00DCDCDC,1
00002728= 00FEFDFB 00000011       2416              DC.L    $00FEFDFB,17
00002730= 00DCDCDC 00000001       2417              DC.L    $00DCDCDC,1
00002738= 00FEFDFB 00000005       2418              DC.L    $00FEFDFB,5
00002740= 00DCDCDC 00000002       2419              DC.L    $00DCDCDC,2
00002748= 00FFBF80 00000003       2420              DC.L    $00FFBF80,3
00002750= 00DCDCDC 00000004       2421              DC.L    $00DCDCDC,4
00002758= 00FEFDFB 0000000C       2422              DC.L    $00FEFDFB,12
00002760= 00DCDCDC 00000004       2423              DC.L    $00DCDCDC,4
00002768= 00FEFDFB 00000004       2424              DC.L    $00FEFDFB,4
00002770= 00DCDCDC 00000004       2425              DC.L    $00DCDCDC,4
00002778= 00FFBF80 00000002       2426              DC.L    $00FFBF80,2
00002780= 00DCDCDC 00000007       2427              DC.L    $00DCDCDC,7
00002788= 00FEFDFB 00000006       2428              DC.L    $00FEFDFB,6
00002790= 00DCDCDC 0000000F       2429              DC.L    $00DCDCDC,15
00002798= 00FFBF80 00000003       2430              DC.L    $00FFBF80,3
000027A0= 00DCDCDC 00000019       2431              DC.L    $00DCDCDC,25
000027A8= 00FFBF80 00000021       2432              DC.L    $00FFBF80,33
000027B0= FFFFFFFF                2433              DC.L    $FFFFFFFF
000027B4                          2434  
000027B4                          2435  
000027B4                          2436  -------------------- end include --------------------
000027B4                          2437              
000027B4                          2438  
000027B4                          2439  START
000027B4                          2440  
000027B4                          2441  ; --- INITIALIZATION ----------------------------------------------------------
000027B4                          2442  
000027B4  007C 0700               2443              ORI.W   #$0700,SR
000027B8  4EB8 12B6               2444              JSR     SYSINIT
000027BC  4EB8 1150               2445              JSR     UTLINIT
000027C0  4EB8 1472               2446              JSR     STAINIT
000027C4                          2447              
000027C4                          2448  .LOOP
000027C4                          2449  
000027C4                          2450  ; --- UPDATE ------------------------------------------------------------------
000027C4                          2451  
000027C4                          2452              ; READ INPUT DEVICES
000027C4                          2453  
000027C4  4E41                    2454              TRAP    #KBDUPDTN
000027C6  4E42                    2455              TRAP    #MOUUPDTN
000027C8                          2456  
000027C8  4EB8 1482               2457              JSR     STAUPD
000027CC                          2458              
000027CC                          2459  ; --- SYNC --------------------------------------------------------------------
000027CC                          2460  
000027CC  4A39 000027F2           2461  .WINT       TST.B   (SCRINTCT)
000027D2  67F8                    2462              BEQ     .WINT
000027D4  4239 000027F2           2463              CLR.B   (SCRINTCT)
000027DA                          2464              
000027DA                          2465  ; --- PLOT --------------------------------------------------------------------
000027DA                          2466  
000027DA  4EB8 185E               2467              JSR     BACKPLOT
000027DE  4EB8 14E8               2468              JSR     STAPLOT
000027E2                          2469              
000027E2  4E40                    2470              TRAP    #SCRUPDTN
000027E4                          2471              
000027E4  60DE                    2472              BRA     .LOOP
000027E6                          2473              
000027E6  FFFF FFFF               2474              SIMHALT
000027EA                          2475              
000027EA                          2476  ; --- VARIABLES ---------------------------------------------------------------
000027EA                          2477              
000027EA                          2478              INCLUDE "SYSVARS.X68"       ; SYSTEM VARIABLES
000027EA                          2479  ; =============================================================================
000027EA                          2480  ; SYSTEM VARIABLES
000027EA                          2481  ; =============================================================================
000027EA                          2482  
000027EA                          2483  ; --- KEYBOARD RELATED VARIABLES ----------------------------------------------
000027EA                          2484  
000027EA                          2485  KBDVAL      DS.B    1                       ; KEY STATE
000027EB                          2486  KBDEDGE     DS.B    1                       ; KEY EDGE
000027EC                          2487  
000027EC                          2488  ; --- MOUSE RELATED VARIABLES -------------------------------------------------
000027EC                          2489  
000027EC                          2490  MOUPOS      DS.L    1                       ; MOUSE POSITION (16 BITS Y, 16 BITS X)
000027F0                          2491  MOUVAL      DS.B    1                       ; MOUSE VALUE (0,CTRL,ALT,SHIFT,DOUBLE,MID,RIGHT,LEFT)
000027F2                          2492              DS.W    0
000027F2                          2493  
000027F2                          2494  ; --- TIMED INTERRUPT RELATED VARIABLES ---------------------------------------
000027F2                          2495  
000027F2                          2496  SCRINTCT    DS.B    1                       ; INTERRUPT COUNTER
000027F3                          2497  SCRCYCCT    DS.B    1                       ; SCREEN CYCLE COUNTER
000027F4= 00                      2498  GAMCYCCT    DC.B    0                       ; GAME CYCLE COUNTER
000027F6                          2499              DS.W    0
000027F6                          2500              
000027F6                          2501  ; --- FILE PATHS --------------------------------------------------------------
000027F6                          2502  
000027F6= 44 41 54 41 2F 53 ...   2503  SCOPATH     DC.B     'DATA/SCORES.dat',0
00002806                          2504              DS.W     0
00002806                          2505  
00002806                          2506  
00002806                          2507  
00002806                          2508  
00002806                          2509  
00002806                          2510  
00002806                          2511  -------------------- end include --------------------
00002806                          2512              INCLUDE "VARS.X68"          ; GAME VARIABLES
00002806                          2513  ; =============================================================================
00002806                          2514  ; GAME VARIABLES
00002806                          2515  ; =============================================================================
00002806                          2516  
00002806                          2517  ; --- BIRD RELATED VARIABLES --------------------------------------------------
00002806                          2518  
00002806= 00F0                    2519  BIRDPOSY    DC.W    SCRHEIGH/2         ; BIRD POSITION Y
00002808= 0000                    2520  BIRDVELY    DC.W    0                   ; BIRD SPEED Y
0000280A= BBBB                    2521  BIRDPCOL    DC.W    DKYELLOW            ; BIRD PEN COLOR
0000280C= FFFF                    2522  BIRDFCOL    DC.W    LGYELLOW            ; BIRD FILL COLOR
0000280E                          2523  
0000280E                          2524  ; --- SCOREBOARD RELATED VARIABLES --------------------------------------------
0000280E                          2525  
0000280E                          2526  SCORE       DS.W    1                   ; ACTUAL GAME SCORE
00002810                          2527  HIGHSCO     DS.W    1                   ; HIGH SCORE
00002812                          2528  
00002812                          2529  ;  --- STATE RELATED VARIABLES ------------------------------------------------
00002812                          2530  
00002812                          2531  STACUR      DS.W    1                   ; CURRENT STATE
00002814                          2532  STANEXT     DS.W    1                   ; NEXT STATE
00002816                          2533  
00002816                          2534  
00002816                          2535  
00002816                          2536  
00002816                          2537  
00002816                          2538  
00002816                          2539  
00002816                          2540  -------------------- end include --------------------
00002816                          2541              INCLUDE "LIB/UTLVARS.X68"   ; UTIL CODE VARIABLES
00002816                          2542  ; =============================================================================
00002816                          2543  ; UTILITY VARIABLES
00002816                          2544  ; =============================================================================
00002816                          2545  
00002816                          2546  UTLRNDIX    DS.B    1                       ; NEXT INDEX TO RANDOM NUMBER
00002818                          2547              DS.W    0
00002818                          2548  -------------------- end include --------------------
00002818                          2549              INCLUDE "LIB/DMMVARS.X68"   ; DYNAMIC MEMORY VARIABLES
00002818                          2550  ; =============================================================================
00002818                          2551  ; DYNAMIC MEMORY MANAGEMENT VARIABLES (SYSTEM VARIABLES)
00002818                          2552  ; =============================================================================
00002818                          2553  
00002840                          2554              ORG     (*+DMMBSIZE-1)&-DMMBSIZE ; ALIGN TO DMMBSIZE
00002840                          2555  DMMDATA     DS.B    DMMBSIZE*DMMBNUM        ; DYNAMIC MEMORY ALLOCATION SPACE
000034C0                          2556              DS.W    0                       ; JUST IN CASE (SIZE IS POW OF TWO)
000034C0                          2557  -------------------- end include --------------------
000034C0                          2558  
000034C0                          2559              END    START

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
AGLADD              10C2
AGLADD:END          10D8
AGLCLEAN            1130
AGLCLEAN:END        114A
AGLCLEAN:LOOP       1134
AGLKILL             10AC
AGLPLOT             1100
AGLPLOT:END         112A
AGLPLOT:LOOP1       1106
AGLPLOT:LOOP2       110C
AGLPLOT:NEXTTP      1124
AGLUPD              10DC
AGLUPD:END          10FA
AGLUPD:LOOP         10E4
BACKPLOT            185E
BACKUPD             182C
BACKUPD:NONEWCL     1858
BIRDFCOL            280C
BIRDINIT            1682
BIRDPCOL            280A
BIRDPLOT            16E4
BIRDPOSX            A0
BIRDPOSY            2806
BIRDRAD             F
BIRDUPD             1692
BIRDUPD:COLBOT      16D0
BIRDUPD:CORDUPD     16BC
BIRDUPD:DONE        16DE
BIRDUPD:NOCOL       16D8
BIRDUPD:NOJUMP      16B6
BIRDVELY            2808
BLOCKSZ             4
BUTAGTP             3
BUTCOLOR            18732C
BUTHVCLR            35DE3B
BUTINIT             1AD6
BUTPLOT             1B50
BUTPLOT:ENDLOOP     1B9E
BUTPLOT:HOVER       1B74
BUTPLOT:LOOP        1B94
BUTPLOT:NOHOVER     1B6E
BUTUPD              1AF2
BUTUPD:END          1B4A
BUTUPD:NOHOVER      1B46
CLDINIT             19EE
CLDPLOT             1A40
CLDSPMSK            FFFFFFFC
CLDTBL              1A68
CLDUPD              1A12
CLDUPD:NOKILL       1A3A
CLOUD0              1BC6
CLOUD0W             1BC4
CLOUD1              1D0C
CLOUD1W             1D0A
CLOUD2              1E4A
CLOUD2W             1E48
CLOUD3              20D0
CLOUD3W             20CE
CLOUD4              2166
CLOUD4W             2164
CLOUD5              236C
CLOUD5W             236A
CLOUD6              24EA
CLOUD6W             24E8
CLOUD7              2610
CLOUD7W             260E
CLOUDAGT            1
DARKGRAY            C0C0C
DIRTCLR             306284
DIRTHEIG            2D
DKYELLOW            BBBB
DMMALLOC            1092
DMMALLOC:END        10AA
DMMBNUM             32
DMMBSIZE            40
DMMDATA             2840
DMMFCOM             106C
DMMFFND             107A
DMMFIRST            1022
DMMFLOOP            1060
DMMFRCOM            1034
DMMFREE             10AC
DMMFRFND            1042
DMMFRLOP            1028
DMMFRSTO            105A
DMMINIT             1000
DMMINIT:LOOP        100E
DMMNEXT             1044
DMMNEXTO            107C
DMMSYSID            0
FLOHEIGH            3C
FLOPLOT             1896
GAMCYCCT            27F4
GAMEINIT            1566
GAMEPLOT            15E8
GAMEUPD             157A
GAMEUPD:NOPAUSE     15A2
GOVINIT             1656
GOVPLOT             167C
GOVUPD              165A
GOVUPD:CONT         1678
GRASSCLR            35DE3B
HIGHSCO             2810
HSCOLINE            1018
IMGPLOT             1A88
IMGPLOT:ENDFLAG     FFFFFFFF
IMGPLOT:LOOP1       1A98
IMGPLOT:LOOP2       1AA6
IMGPLOT:SAMEROW     1AC2
IMGPLOT:STARTX      1AD4
INSINIT             1560
INSPLOT             1564
INSUPD              1562
ISCINIT             151A
ISCPLOT             155A
ISCUPD              1538
ISCUPD:CONT         1558
JUMPVELY            FFFFFFF6
KBDEDGE             27EB
KBDINIT             13F8
KBDPAUSE            1B
KBDSPACE            20
KBDUPD              1406
KBDUPD:LOOP         143C
KBDUPD:PACK         1438
KBDUPDTN            1
KBDVAL              27EA
LGBROWN             306284
LGGREEN             35DE3B
LGYELLOW            FFFF
MASKNWCL            7F
MASKNWPP            3F
MOUINIT             1446
MOUPOS              27EC
MOUUPD              1454
MOUUPDTN            2
MOUVAL              27F0
NEWPIPE             15B6
NEWPIPE:GOUPD       15E2
NORMGRAY            616161
NRMGREEN            18732C
PAUSINIT            15F6
PAUSINIT:TXTTMP     162C
PAUSPLOT            1654
PAUSUPD             1634
PAUSUPD:CONT        164C
PIPEAGTP            2
PIPEFCOL            616161
PIPEGAPS            78
PIPEINIT            1726
PIPEPCOL            C0C0C
PIPEPLOT            17CC
PIPEUPD             173E
PIPEUPD:COL         179E
PIPEUPD:END         17C6
PIPEUPD:NOCOL       17B8
PIPEUPD:NOKILL      1766
PIPEVELX            FFFFFFFB
PIPEWIDT            32
PPOPHEIG            F
PPOPOVER            5
SCOFCOL             306284
SCOINC              1924
SCOINIT             18EE
SCOLINE             1017
SCOPATH             27F6
SCOPLOT             1942
SCOPLOT:HISCOTXT    199C
SCOPLOT:SCOTXT      1994
SCORE               280E
SCOSAVE             19A8
SCOSAVE:END         19E8
SCRCYCCT            27F3
SCRFPS              3C
SCRHEIGH            1E0
SCRINIT             138C
SCRINTCT            27F2
SCRINTN             1
SCRPLOT             13D0
SCRTIM              13EA
SCRUPDTN            0
SCRWIDTH            280
SKYBLUE             FFBF80
SKYCOLOR            FFBF80
SKYPLOT             1868
SNDDIE              0
SNDINIT             1320
SNDINIT:DONE        133E
SNDINIT:LOOP        132C
SNDINIT:SNDDIE      1344
SNDINIT:SNDJUMP     1350
SNDINIT:SNDLIST     136A
SNDINIT:SNDSCO      135D
SNDJUMP             1
SNDPLAY             137A
SNDPLTN             3
SNDSCO              2
STACUR              2812
STAEMPTY            1518
STAGAME             2
STAGOVER            4
STAINIT             1472
STAINSTR            1
STAINTRO            0
STANEXT             2814
STANONE             FFFFFFFF
STAPAUSE            3
STAPLOT             14E8
STAPLOT:PLTTBL      1504
START               27B4
START:LOOP          27C4
START:WINT          27CC
STAUPD              1482
STAUPD:DOUPD        14A8
STAUPD:INITBL       14C0
STAUPD:UPDTBL       14D4
SYSINIT             12B6
TXTCOLOR            0
TXTFONT             4
TXTINIT             1308
TXTSIZE             E
TXTSTYLE            1
UTLCHRWD            8
UTLINIT             1150
UTLPRINT            1166
UTLPRINT:ENDLOOP    1178
UTLPRINT:LOOP       116E
UTLRAND             1198
UTLRAND:RANDVEC     11B6
UTLRNDIX            2816
WHITE               FEFDFB
