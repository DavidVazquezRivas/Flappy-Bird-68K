00002866 Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 06/01/2024 4:38:48

00000000                             1  ; =============================================================================
00000000                             2  ; TITLE       :
00000000                             3  ; DESCRIPTION :
00000000                             4  ; AUTHOR      :
00000000                             5  ; HISTORY     :
00000000                             6  ; =============================================================================
00000000                             7  
00001000                             8              ORG     $1000
00001000                             9              
00001000                            10  ; --- CODE INCLUDES -----------------------------------------------------------
00001000                            11  
00001000                            12              INCLUDE "SYSCONST.X68"          ; SYSTEM CONSTANTS
00001000                            13  ; =============================================================================
00001000                            14  ; SYSTEM CONSTANTS
00001000                            15  ; =============================================================================
00001000                            16  
00001000                            17  ; --- SCREEN RELATED CONSTANTS ------------------------------------------------
00001000                            18  
00001000  =0000003C                 19  SCRFPS      EQU     60                  ; SCREEN FRAMES PER SECOND
00001000  =00000280                 20  SCRWIDTH    EQU     640                 ; SCREEN WIDTH
00001000  =000001E0                 21  SCRHEIGH    EQU     480                 ; SCREEN HEIGHT
00001000                            22  
00001000                            23  ; --- TEXT OUTPUT RELATED CONSTANTS -------------------------------------------
00001000                            24  
00001000  =00000000                 25  TXTCOLOR    EQU     $0                  ; TEXT OUTPUT COLOR
00001000  =00000001                 26  TXTSTYLE    EQU     %0001               ; TEXT STYLE (STRIKEOUT,UNDERLINE,ITALIC,BOLD)
00001000  =0000000E                 27  TXTSIZE     EQU     14                  ; TEXT SIZE
00001000  =00000004                 28  TXTFONT     EQU     4                   ; TEXT FONT (CURRENT 'LUCIDA CONSOLE')
00001000                            29  
00001000                            30  ; --- KEYCODES ----------------------------------------------------------------
00001000                            31  
00001000  =00000020                 32  KBDSPACE    EQU     ' '
00001000  =0000001B                 33  KBDPAUSE    EQU     27
00001000                            34  
00001000                            35  ; --- SOUND IDENTIFIERS -------------------------------------------------------
00001000                            36  
00001000  =00000000                 37  SNDDIE      EQU     0
00001000  =00000001                 38  SNDJUMP     EQU     1
00001000  =00000002                 39  SNDSCO      EQU     2
00001000                            40  
00001000                            41  ; --- TRAP NUMBERS ------------------------------------------------------------
00001000                            42  
00001000  =00000000                 43  SCRUPDTN    EQU     0                   ; SCREEN UPDATE TRAP NUMBER
00001000  =00000001                 44  KBDUPDTN    EQU     1                   ; KEYBOARD UPDATE TRAP NUMBER
00001000  =00000002                 45  MOUUPDTN    EQU     2                   ; MOUSE UPDATE TRAP NUMBER
00001000  =00000003                 46  SNDPLTN     EQU     3                   ; SOUND PLAY TRAP NUMBER
00001000                            47  
00001000                            48  ; --- INTERRUPTION NUMBERS ----------------------------------------------------
00001000                            49  
00001000  =00000001                 50  SCRINTN     EQU     1                   ; SCREEN INTERRUPT TRAP NUMBER    
00001000                            51  
00001000                            52  
00001000                            53  
00001000                            54  
00001000                            55  
00001000                            56  
00001000                            57  
00001000                            58  
00001000                            59  
00001000                            60  
00001000                            61  
00001000                            62  
00001000                            63  
00001000                            64  -------------------- end include --------------------
00001000                            65              INCLUDE "CONST.X68"             ; GAME CONSTANTS
00001000                            66  ; =============================================================================
00001000                            67  ; GAME CONSTANTS
00001000                            68  ; =============================================================================
00001000                            69  
00001000                            70  ; --- COLORS CONSTANTS 00BBGGRR -----------------------------------------------
00001000                            71  
00001000  =0000BBBB                 72  DKYELLOW    EQU     $0000BBBB           ; DARK YELLOW COLOR
00001000  =0000FFFF                 73  LGYELLOW    EQU     $0000FFFF           ; LIGHT YELLOW COLOR
00001000  =000C0C0C                 74  DARKGRAY    EQU     $000C0C0C           ; DARK GRAY COLOR
00001000  =00616161                 75  NORMGRAY    EQU     $00616161           ; NORMAL (NOT DARK OR LIGHT) GRAY COLOR 
00001000  =00A3A3A3                 76  LGGRAY      EQU     $00A3A3A3           ; LIGHT GRAY COLOR
00001000  =00FFBF80                 77  SKYBLUE     EQU     $00FFBF80           ; SKY BLUE COLOR
00001000  =0018732C                 78  NRMGREEN    EQU     $0018732C           ; NORMAL (NOT DARK OR LIGHT) GREEN COLOR
00001000  =0035DE3B                 79  LGGREEN     EQU     $0035DE3B           ; LIGHT GREEN COLOR
00001000  =00306284                 80  LGBROWN     EQU     $00306284           ; LIGHT BROWN COLOR
00001000  =00FEFDFB                 81  WHITE       EQU     $00FEFDFB           ; WHITE COLOR
00001000                            82  
00001000                            83  ; --- BIRD RELATED CONSTANTS --------------------------------------------------
00001000                            84  
00001000  =FFFFFFF6                 85  JUMPVELY    EQU     -10                 ; VELOCITY BIRD GETS WHEN JUMPING
00001000  =000000A0                 86  BIRDPOSX    EQU     SCRWIDTH/4          ; BIRD POSITION X
00001000  =0000000F                 87  BIRDRAD     EQU     15                  ; BIRD RADIUS
00001000                            88  
00001000                            89  ; --- PIPE RELATED CONSTANTS --------------------------------------------------
00001000                            90  
00001000  =000C0C0C                 91  PIPEPCOL    EQU     DARKGRAY            ; PIPE PEN COLOR
00001000  =00616161                 92  PIPEFCOL    EQU     NORMGRAY            ; PIPE FILL COLOR
00001000  =FFFFFFFB                 93  PIPEVELX    EQU     -5                  ; PIPE X SPEED
00001000  =00000032                 94  PIPEWIDT    EQU     50                  ; PIPE WIDTH
00001000  =00000078                 95  PIPEGAPS    EQU     120                 ; PIPE GAP SIZE
00001000  =00000002                 96  PIPEAGTP    EQU     2                   ; PIPE AGENT TYPE CODE
00001000  =0000003F                 97  MASKNWPP    EQU     %00111111           ; NEW PIPE MASK 
00001000  =00000005                 98  PPOPOVER    EQU     5                   ; PIPE OPENING OVERFLOW
00001000  =0000000F                 99  PPOPHEIG    EQU     15                  ; PIPE OPENING HEIGHT
00001000                           100  
00001000                           101  ; --- BACKGROUND RELATED CONSTANTS --------------------------------------------
00001000                           102  
00001000  =00FFBF80                103  SKYCOLOR    EQU     SKYBLUE             ; SKY BACKGROUND COLOR
00001000  =0035DE3B                104  GRASSCLR    EQU     LGGREEN             ; GRASS COLOR
00001000  =00306284                105  DIRTCLR     EQU     LGBROWN             ; DIRT COLOR
00001000  =0000003C                106  FLOHEIGH    EQU     60                  ; FLOOR HEIGHT
00001000  =0000002D                107  DIRTHEIG    EQU     45                  ; DIRT PART HEIGHT
00001000                           108  
00001000                           109  ; --- CLOUD (BACKGROUND) RELATED CONSTANTS ------------------------------------
00001000                           110  
00001000  =FFFFFFFC                111  CLDSPMSK    EQU     $FFFFFFFC           ; MASK TO INIT CLOUD SPEED
00001000  =000000FF                112  MASKNWCL    EQU     %11111111           ; MASK TO SPAWN NEW CLOUD
00001000  =00000001                113  CLOUDAGT    EQU     1                   ; CLOUD AGENT TYPE CODE
00001000                           114  
00001000                           115  ; --- SCOREBOARD RELATED CONSTANTS --------------------------------------------
00001000                           116  
00001000  =00306284                117  SCOFCOL     EQU     DIRTCLR             ; TEXT BACKGROUND COLOR
00001000  =00001017                118  SCOLINE     EQU     $1017               ; SCORE TEXT COORDINATE 
00001000  =00001018                119  HSCOLINE    EQU     $1018               ; HIGHSCORE TEXT COORDINATE
00001000                           120  
00001000                           121  ; --- STATE RELATED CONSTANTS -------------------------------------------------
00001000                           122  
00001000  =FFFFFFFF                123  STANONE     EQU     -1                  ; NON-EXISTENT STATE NUMBER
00001000  =00000000                124  STAINTRO    EQU     0                   ; INTRO SCREEN STATE NUMBER
00001000  =00000001                125  STAINSTR    EQU     1                   ; INSTRUCTION STATE NUMBER
00001000  =00000002                126  STAGAME     EQU     2                   ; GAME SCREEN STATE NUMBER
00001000  =00000003                127  STAPAUSE    EQU     3                   ; PAUSE SCREEN STATE NUMBER
00001000  =00000004                128  STAGOVER    EQU     4                   ; GAME OVER SCREEN STATE NUMBER
00001000                           129  
00001000                           130  ; --- IMAGE DRAWING CONSTANTS -------------------------------------------------
00001000                           131  
00001000  =00000004                132  BLOCKSZ     EQU     4                   ; BLOCK SIZE
00001000                           133  
00001000                           134  ; --- BUTTON RELATED CONSTANTS ------------------------------------------------
00001000                           135  
00001000  =0018732C                136  BUTCOLOR    EQU     NRMGREEN            ; BUTTON COLOR
00001000  =0035DE3B                137  BUTHVCLR    EQU     LGGREEN             ; BUTTON COLOR WHILE BEING HOVER
00001000  =00000003                138  BUTAGTP     EQU     3                   ; BUTTON AGENT TYPE CODE
00001000                           139  
00001000                           140  ; --- PAUSE STATE RELATED CONSTANTS -------------------------------------------
00001000                           141  
00001000  =00000096                142  PAUMEHEI    EQU     150                 ; PAUSE MENU HEIGHT
00001000  =000000C8                143  PAUMEWID    EQU     200                 ; PAUSE MENU WIDTH
00001000  =00000082                144  PAUBUTWD    EQU     130                 ; PAUSE MENU BUTTON WIDTH
00001000  =00000023                145  PAUBUTHG    EQU     35                  ; PAUSE MENU BUTTON HEIGHT
00001000                           146  
00001000                           147  
00001000                           148  
00001000                           149  
00001000                           150  -------------------- end include --------------------
00001000                           151              INCLUDE "LIB/DMMCONST.X68"      ; DYNAMIC MEMORY CONSTANTS
00001000                           152  ; =============================================================================
00001000                           153  ; DYNAMIC MEMORY MANAGEMENT CONSTANTS (SYSTEM CONSTANTS)
00001000                           154  ; =============================================================================
00001000                           155  
00001000  =00000040                156  DMMBSIZE    EQU     64                      ; BLOCK SIZE (BYTES). POWER OF TWO
00001000  =00000032                157  DMMBNUM     EQU     50                      ; NUMBER OF BLOCKS
00001000  =00000000                158  DMMSYSID    EQU     0                       ; SYSTEM OWNER ID (MUST BE 0)
00001000  =00000000                159  -------------------- end include --------------------
00001000                           160              INCLUDE "LIB/UTLCONST.X68"      ; UTIL CONSTANTS 
00001000                           161  ; ==============================================================================
00001000                           162  ; UTIL CONSTANTS
00001000                           163  ; ==============================================================================
00001000                           164  
00001000  =00000008                165  UTLCHRWD    EQU     8                       ; CHARACTER WIDTH IN PIXELS
00001000                           166  
00001000                           167  -------------------- end include --------------------
00001000                           168              INCLUDE "LIB/DMMCODE.X68"       ; DYNAMIC MEMORY CODE
00001000                           169  ; =============================================================================
00001000                           170  ; DYNAMIC MEMORY MANAGEMENT (SYSTEM CODE)
00001000                           171  ; DYNAMIC MEMORY IS A SET OF DMMBNUM SLOTS OF DMMBSIZE BYTES EACH ONE.
00001000                           172  ; DMMBSIZE MUST BE POWER OF TWO. A SLOT HAS:
00001000                           173  ; - HEADER - 1 WORD. SPECIFIES THE OWNER (0 MEANS OWNED BY SYSTEM)
00001000                           174  ; - DATA   - DMMBSIZE - 2 BYTES. MAY CONTAIN VARS AND ANY KIND OF DATA RELATED
00001000                           175  ;            THE THE OWNER. IF OWNER==0, DATA IS MEANINGLESS.
00001000                           176  ; =============================================================================
00001000                           177  
00001000                           178  ; -----------------------------------------------------------------------------
00001000                           179  DMMINIT
00001000                           180  ; INITIALIZES THE DYNAMIC MEMORY TO ALL OWNED BY SYSTEM.
00001000                           181  ; INPUT    - NONE
00001000                           182  ; OUTPUT   - NONE
00001000                           183  ; MODIFIES - NONE
00001000                           184  ; -----------------------------------------------------------------------------
00001000  48E7 8080                185              MOVEM.L D0/A0,-(A7)
00001004  41F9 00002900            186              LEA     DMMDATA,A0
0000100A  303C 0031                187              MOVE.W  #DMMBNUM-1,D0
0000100E  30BC 0000                188  .LOOP       MOVE.W  #DMMSYSID,(A0)
00001012  D1FC 00000040            189              ADD.L   #DMMBSIZE,A0
00001018  51C8 FFF4                190              DBRA.W  D0,.LOOP
0000101C  4CDF 0101                191              MOVEM.L (A7)+,D0/A0
00001020  4E75                     192              RTS
00001022                           193  
00001022                           194  ; -----------------------------------------------------------------------------
00001022                           195  DMMFIRST
00001022                           196  ; SEARCHES THE FIRST MEMORY SLOT NOT OWNED BY SYSTEM AND OUTPUTS A POINTER
00001022                           197  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
00001022                           198  ; INPUT    - NONE
00001022                           199  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
00001022                           200  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001022                           201  ; -----------------------------------------------------------------------------
00001022  41F9 00002900            202              LEA     DMMDATA,A0
00001028  4A58                     203  DMMFRLOP    TST.W   (A0)+
0000102A  6600 0016                204              BNE     DMMFRFND
0000102E  D1FC 0000003E            205              ADD.L   #DMMBSIZE-2,A0
00001034  B1FC 0000357F            206  DMMFRCOM    CMP.L   #DMMDATA+DMMBSIZE*DMMBNUM-1,A0
0000103A  6DEC                     207              BLT     DMMFRLOP
0000103C  207C 00000000            208              MOVE.L  #0,A0
00001042  4E75                     209  DMMFRFND    RTS
00001044                           210  
00001044                           211  ; -----------------------------------------------------------------------------
00001044                           212  DMMNEXT
00001044                           213  ; SEARCHES THE NEXT MEMORY SLOT NOT OWNED BY SYSTEM AND OUTPUTS A POINTER
00001044                           214  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
00001044                           215  ; INPUT    - A0   : POINTER WITHIN THE CURRENT SLOT
00001044                           216  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
00001044                           217  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001044                           218  ; -----------------------------------------------------------------------------
00001044  2F00                     219              MOVE.L  D0,-(A7)
00001046  2008                     220              MOVE.L  A0,D0
00001048  C0BC FFFFFFC0            221              AND.L   #-DMMBSIZE,D0           ; TAKE ADVANTAGE OF ALIGNMENT
0000104E  0680 00000040            222              ADD.L   #DMMBSIZE,D0
00001054  2040                     223              MOVE.L  D0,A0
00001056  201F                     224              MOVE.L  (A7)+,D0
00001058  60DA                     225              BRA     DMMFRCOM
0000105A                           226  
0000105A                           227  ; -----------------------------------------------------------------------------
0000105A                           228  DMMFRSTO
0000105A                           229  ; SEARCHES THE FIRST MEMORY SLOT WITH THE SPECIFIED ID AND OUTPUTS A POINTER
0000105A                           230  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
0000105A                           231  ; INPUT    - D0.W : ID TO SEARCH
0000105A                           232  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
0000105A                           233  ; MODIFIES - NONE (ASIDE OF OUTPUT)
0000105A                           234  ; -----------------------------------------------------------------------------
0000105A  41F9 00002900            235              LEA     DMMDATA,A0
00001060  B058                     236  DMMFLOOP    CMP.W   (A0)+,D0
00001062  6700 0016                237              BEQ     DMMFFND
00001066  D1FC 0000003E            238              ADD.L   #DMMBSIZE-2,A0
0000106C  B1FC 0000357F            239  DMMFCOM     CMP.L   #DMMDATA+DMMBSIZE*DMMBNUM-1,A0
00001072  6DEC                     240              BLT     DMMFLOOP
00001074  207C 00000000            241              MOVE.L  #0,A0
0000107A  4E75                     242  DMMFFND     RTS
0000107C                           243  
0000107C                           244  ; -----------------------------------------------------------------------------
0000107C                           245  DMMNEXTO
0000107C                           246  ; SEARCHES THE NEXT MEMORY SLOT WITH THE SPECIFIED ID AND OUTPUTS A POINTER
0000107C                           247  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
0000107C                           248  ; INPUT    - D0.W : ID TO SEARCH
0000107C                           249  ;            A0   : POINTER WITHIN THE CURRENT SLOT
0000107C                           250  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
0000107C                           251  ; MODIFIES - NONE (ASIDE OF OUTPUT)
0000107C                           252  ; -----------------------------------------------------------------------------
0000107C  2F00                     253              MOVE.L  D0,-(A7)
0000107E  2008                     254              MOVE.L  A0,D0
00001080  C0BC FFFFFFC0            255              AND.L   #-DMMBSIZE,D0           ; TAKE ADVANTAGE OF ALIGNMENT
00001086  0680 00000040            256              ADD.L   #DMMBSIZE,D0
0000108C  2040                     257              MOVE.L  D0,A0
0000108E  201F                     258              MOVE.L  (A7)+,D0
00001090  60DA                     259              BRA     DMMFCOM
00001092                           260  
00001092                           261  ; -----------------------------------------------------------------------------
00001092                           262  DMMALLOC
00001092                           263  ; SEARCHES THE FIRST FREE (SYS OWNED) SLOT, ASSIGNS TO THE SPECIFIED OWNER
00001092                           264  ; AND RETURNS A POINTER TO THE CORRESPONDING DATA (SLOT ADDRESS + 2)
00001092                           265  ; INPUT    - D0.W : ID TO ASSIGN
00001092                           266  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FREE SPACE
00001092                           267  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001092                           268  ; -----------------------------------------------------------------------------
00001092  3F00                     269              MOVE.W  D0,-(A7)
00001094  4240                     270              CLR.W   D0
00001096  4EB8 105A                271              JSR     DMMFRSTO
0000109A  301F                     272              MOVE.W  (A7)+,D0
0000109C  B1FC 00000000            273              CMP.L   #0,A0
000010A2  6700 0006                274              BEQ     .END
000010A6  3140 FFFE                275              MOVE.W  D0,-2(A0)
000010AA  4E75                     276  .END        RTS
000010AC                           277  
000010AC                           278  ; -----------------------------------------------------------------------------
000010AC                           279  DMMFREE
000010AC                           280  ; FREES THE SLOT TO WHICH THE PROVIDED POINTER BELONGS BY SETTING ITS OWNED TO
000010AC                           281  ; SYSTEM (0)
000010AC                           282  ; INPUT    - A0   : POINTER BELONGING TO THE SLOT TO FREE
000010AC                           283  ; OUTPUT   - NONE
000010AC                           284  ; MODIFIES - NONE
000010AC                           285  ; -----------------------------------------------------------------------------
000010AC  48E7 8080                286              MOVEM.L D0/A0,-(A7)
000010B0  2008                     287              MOVE.L  A0,D0
000010B2  C0BC FFFFFFC0            288              AND.L   #-DMMBSIZE,D0           ; TAKE ADVANTAGE OF ALIGNMENT
000010B8  2040                     289              MOVE.L  D0,A0
000010BA  4250                     290              CLR.W   (A0)
000010BC  4CDF 0101                291              MOVEM.L (A7)+,D0/A0
000010C0  4E75                     292              RTS
000010C2                           293  
000010C2                           294  -------------------- end include --------------------
000010C2                           295              INCLUDE "LIB/AGLCODE.X68"       ; AGENTS CODE "OBJECTS"
000010C2                           296  ; =============================================================================
000010C2                           297  ; AGENT MANAGEMENT
000010C2                           298  ; EACH AGENT HAS A DATA BLOCK FROM DMM AS FOLLOWS:
000010C2                           299  ; +0 - LONG : UPDATE SUBROUTINE POINTER
000010C2                           300  ; +4 - LONG : PLOT SUBROUTINE POINTER
000010C2                           301  ; +8:END    : DATA (AGENT SPECIFIC)
000010C2                           302  ; =============================================================================
000010C2                           303  
000010C2                           304  ; -----------------------------------------------------------------------------
000010C2                           305  AGLADD
000010C2                           306  ; CREATES A NEW AGENT
000010C2                           307  ; INPUT    - A1 - POINTER TO AGENT INIT FUNCTION
000010C2                           308  ;            A2 - POINTER TO AGENT UPDATE FUNCTION
000010C2                           309  ;            A3 - POINTER TO AGENT PLOT FUNCTION
000010C2                           310  ;            A4 - POINTER TO INITIALIZATION PARAMETER ADREES 1
000010C2                           311  ;            A5 - POINTER TO INITIALIZATION PARAMETER ADREES 2
000010C2                           312  ;            A6 - POINTER TO INITIALIZATION PARAMETER ADREES 3
000010C2                           313  ;            D0 - AGENT TYPE (USED AS OWNER BY DMM)
000010C2                           314  ;            D1 - AGENT INITIALIZATION PARAMETER DATA 1
000010C2                           315  ;            D2 - AGENT INITIALIZATION PARAMETER DATA 2
000010C2                           316  ;            D3 - AGENT INITIALIZATION PARAMETER DATA 3
000010C2                           317  ;            D4 - AGENT INITIALIZATION PARAMETER DATA 4
000010C2                           318  ;            D5 - AGENT INITIALIZATION PARAMETER DATA 5
000010C2                           319  ;            D6 - AGENT INITIALIZATION PARAMETER DATA 6
000010C2                           320  ;            D7 - AGENT INITIALIZATION PARAMETER DARA 7
000010C2                           321  ; OUTPUT   - NONE
000010C2                           322  ; MODIFIES - NONE
000010C2                           323  ; -----------------------------------------------------------------------------
000010C2  2F08                     324              MOVE.L  A0,-(A7)
000010C4  4EB8 1092                325              JSR     DMMALLOC
000010C8  B1FC 00000000            326              CMP.L   #0,A0
000010CE  6700 0008                327              BEQ     .END
000010D2  20CA                     328              MOVE.L  A2,(A0)+
000010D4  20CB                     329              MOVE.L  A3,(A0)+
000010D6  4E91                     330              JSR     (A1)
000010D8  205F                     331  .END        MOVE.L  (A7)+,A0
000010DA  4E75                     332              RTS
000010DC                           333  
000010DC                           334  ; -----------------------------------------------------------------------------
000010DC                           335  AGLUPD
000010DC                           336  ; UPDATES THE AGENT LIST. PRIOR TO CALLING THE UPDATE FUNCTIONS, A0 IS SET
000010DC                           337  ; TO THE DATA BLOCK OF THE CORRESPONDING SLOT.
000010DC                           338  ; INPUT    - NONE
000010DC                           339  ; OUTPUT   - NONE
000010DC                           340  ; MODIFIES - NONE
000010DC                           341  ; -----------------------------------------------------------------------------
000010DC  48E7 00C0                342              MOVEM.L A0-A1,-(A7)
000010E0  4EB8 1022                343              JSR     DMMFIRST
000010E4  B1FC 00000000            344  .LOOP       CMP.L   #0,A0
000010EA  6700 000E                345              BEQ     .END
000010EE  2250                     346              MOVE.L  (A0),A1
000010F0  5088                     347              ADD.L   #8,A0
000010F2  4E91                     348              JSR     (A1)
000010F4  4EB8 1044                349              JSR     DMMNEXT
000010F8  60EA                     350              BRA     .LOOP
000010FA  4CDF 0300                351  .END        MOVEM.L (A7)+,A0-A1
000010FE  4E75                     352              RTS
00001100                           353  
00001100                           354  ; -----------------------------------------------------------------------------
00001100                           355  AGLUPDT
00001100                           356  ; UPDATES THE AGENT LIST ONLY OF THE SPECIFIED TYPE A0 IS SET
00001100                           357  ; TO THE DATA BLOCK OF THE CORRESPONDING SLOT.
00001100                           358  ; INPUT     - DO.W AGENT TYPE TO UPDATE
00001100                           359  ; OUTPUT    - NONE
00001100                           360  ; MODIFIES  - NONE
00001100                           361  ; -----------------------------------------------------------------------------
00001100                           362  
00001100  48E7 00C0                363              MOVEM.L A0-A1,-(A7)
00001104  4EB8 105A                364              JSR     DMMFRSTO
00001108  B1FC 00000000            365  .LOOP       CMP.L   #0,A0
0000110E  6700 000E                366              BEQ     .END
00001112  2250                     367              MOVE.L  (A0),A1
00001114  5088                     368              ADD.L   #8,A0
00001116  4E91                     369              JSR     (A1)
00001118  4EB8 107C                370              JSR     DMMNEXTO
0000111C  60EA                     371              BRA     .LOOP
0000111E                           372              
0000111E  4CDF 0300                373  .END        MOVEM.L (A7)+,A0-A1
00001122  4E75                     374              RTS
00001124                           375  
00001124                           376  
00001124                           377  ; -----------------------------------------------------------------------------
00001124                           378  AGLPLOT
00001124                           379  ; PLOTS THE AGENT LIST. PRIOR TO CALLING THE UPDATE FUNCTIONS, A0 IS SET
00001124                           380  ; TO THE DATA BLOCK OF THE CORRESPONDING SLOT. PLOTS AGENTS IN AGENT TYPE ORDER
00001124                           381  ; INPUT    - NONE
00001124                           382  ; OUTPUT   - NONE
00001124                           383  ; MODIFIES - NONE
00001124                           384  ; NOTE : 8 IS THE MAX AGENT TYPES
00001124                           385  ; -----------------------------------------------------------------------------
00001124  48E7 00C0                386              MOVEM.L A0-A1,-(A7)
00001128                           387              
00001128  4200                     388              CLR.B   D0                      ; CURRENT AGENT TYPE UPDATING
0000112A  5200                     389  .LOOP1      ADDQ.B  #1,D0    
0000112C  4EB8 105A                390              JSR     DMMFRSTO
00001130  B1FC 00000000            391  .LOOP2      CMP.L   #0,A0
00001136  6700 0010                392              BEQ     .NEXTTP
0000113A  2268 0004                393              MOVE.L  4(A0),A1
0000113E  5088                     394              ADD.L   #8,A0
00001140  4E91                     395              JSR     (A1)
00001142  4EB8 107C                396              JSR     DMMNEXTO
00001146  60E8                     397              BRA     .LOOP2
00001148  B03C 0008                398  .NEXTTP     CMP.B   #8,D0
0000114C  6DDC                     399              BLT     .LOOP1
0000114E                           400              
0000114E  4CDF 0300                401  .END        MOVEM.L (A7)+,A0-A1
00001152  4E75                     402              RTS
00001154                           403              
00001154                           404  ; -----------------------------------------------------------------------------
00001154                           405  AGLPLOTT
00001154                           406  ; PLOTS THE AGENT LIST ONLY OF THE SPECIFIED TYPE. PRIOR TO CALLING THE UPDATE 
00001154                           407  ; FUNCTIONS, A0 IS SET TO THE DATA BLOCK OF THE CORRESPONDING SLOT. 
00001154                           408  ; INPUT    - D0.W AGENT TYPE TO PLOT
00001154                           409  ; OUTPUT   - NONE
00001154                           410  ; MODIFIES - NONE
00001154                           411  ; NOTE : 8 IS THE MAX AGENT TYPES
00001154                           412  ; -----------------------------------------------------------------------------          
00001154                           413  
00001154  48E7 00C0                414              MOVEM.L A0-A1,-(A7)
00001158                           415              
00001158  4EB8 105A                416              JSR     DMMFRSTO
0000115C  B1FC 00000000            417  .LOOP       CMP.L   #0,A0
00001162  6700 0010                418              BEQ     .END
00001166  2268 0004                419              MOVE.L  4(A0),A1
0000116A  5088                     420              ADD.L   #8,A0
0000116C  4E91                     421              JSR     (A1)
0000116E  4EB8 107C                422              JSR     DMMNEXTO
00001172  60E8                     423              BRA     .LOOP
00001174                           424  
00001174  4CDF 0300                425  .END        MOVEM.L (A7)+,A0-A1  
00001178  4E75                     426              RTS
0000117A                           427  
0000117A                           428  ; -----------------------------------------------------------------------------
0000117A                           429  AGLCLEAN
0000117A                           430  ; KILLS EVERY AGENT ON AGENLIST OF THE SPECIFIED TYPE
0000117A                           431  ; INPUT     - D0.W - AGENT TYPE (USED AS OWNER BY DMM)
0000117A                           432  ; OUTPUT    - KILLS EVERY AGENT ON AGENTLIST
0000117A                           433  ; MODIFIES  - NONE
0000117A                           434  ; -----------------------------------------------------------------------------
0000117A  48E7 00C0                435              MOVEM.L A0-A1,-(A7)
0000117E                           436              
0000117E  4EB8 105A                437  .LOOP       JSR     DMMFRSTO
00001182  B1FC 00000000            438              CMP.L   #0,A0
00001188  6700 000A                439              BEQ     .END
0000118C  4EB9 000010AC            440              JSR     AGLKILL
00001192  60EA                     441              BRA     .LOOP
00001194                           442              
00001194  4CDF 0300                443  .END        MOVEM.L (A7)+,A0-A1
00001198  4E75                     444              RTS
0000119A                           445  
0000119A                           446              
0000119A                           447  
0000119A                           448  
0000119A                           449  ; -----------------------------------------------------------------------------
0000119A  =000010AC                450  AGLKILL     EQU     DMMFREE
0000119A                           451  ; KILLS THE AGENT BY RELEASING ITS MEMORY
0000119A                           452  ; INPUT    - A0 POINTER WITHIN THE AGENT MEMORY
0000119A                           453  ; OUTPUT   - NONE
0000119A                           454  ; MODIFIES - NONE
0000119A                           455  ; NOTE     - IT IS JUST A WRAPPER FOR DMMFREE
0000119A                           456  ; -----------------------------------------------------------------------------
0000119A                           457  
0000119A                           458  
0000119A                           459  
0000119A                           460  
0000119A                           461  
0000119A                           462  
0000119A                           463  -------------------- end include --------------------
0000119A                           464              INCLUDE "LIB/UTLCODE.X68"       ; UTIL SUBRUTINES
0000119A                           465  ; =============================================================================
0000119A                           466  ; UTILITY CODE
0000119A                           467  ; =============================================================================
0000119A                           468  
0000119A                           469  ; -----------------------------------------------------------------------------
0000119A                           470  UTLINIT
0000119A                           471  ; INITIALIZES UTILITY CODE
0000119A                           472  ; INPUT    - NONE
0000119A                           473  ; OUTPUT   - NONE
0000119A                           474  ; MODIFIES - NONE
0000119A                           475  ; -----------------------------------------------------------------------------
0000119A  48E7 C000                476              MOVEM.L D0-D1,-(A7)
0000119E  103C 0008                477              MOVE.B  #8,D0
000011A2  4E4F                     478              TRAP    #15
000011A4  13C1 000028EF            479              MOVE.B  D1,(UTLRNDIX)
000011AA  4CDF 0003                480              MOVEM.L (A7)+,D0-D1
000011AE  4E75                     481              RTS
000011B0                           482              
000011B0                           483  ; -----------------------------------------------------------------------------
000011B0                           484  UTLPRINT
000011B0                           485  ; PRINT SCREEN CENTERED TEXT
000011B0                           486  ; INPUT    : A2 POINTER TO ZERO-TERMINATED STRING
000011B0                           487  ;            D0.B SCREEN ROW TO PRINT TEXT
000011B0                           488  ; OUTPUT   : D0.B NEXT ROW
000011B0                           489  ; MODIFIES : NONE (ASIDE OF OUTPUT)
000011B0                           490  ; -----------------------------------------------------------------------------
000011B0  48E7 C060                491              MOVEM.L D0-D1/A1-A2,-(A7)
000011B4  4201                     492              CLR.B   D1
000011B6  224A                     493              MOVE.L  A2,A1
000011B8  4A1A                     494  .LOOP       TST.B   (A2)+
000011BA  6700 0006                495              BEQ     .ENDLOOP
000011BE  5201                     496              ADDQ.B  #1,D1
000011C0  60F6                     497              BRA     .LOOP
000011C2  E209                     498  .ENDLOOP    LSR.B   #1,D1
000011C4  0401 0028                499              SUB.B   #(SCRWIDTH/UTLCHRWD)/2,D1
000011C8  4401                     500              NEG.B   D1
000011CA  E141                     501              ASL.W   #8,D1
000011CC  8240                     502              OR.W    D0,D1
000011CE  103C 000B                503              MOVE.B  #11,D0
000011D2  4E4F                     504              TRAP    #15
000011D4  103C 000D                505              MOVE.B  #13,D0
000011D8  4E4F                     506              TRAP    #15
000011DA  4CDF 0603                507              MOVEM.L (A7)+,D0-D1/A1-A2
000011DE  5200                     508              ADDQ.B  #1,D0
000011E0  4E75                     509              RTS
000011E2                           510  
000011E2                           511  ; -----------------------------------------------------------------------------
000011E2                           512  UTLRAND
000011E2                           513  ; PROVIDES A PSEUDO-RANDOM BYTE
000011E2                           514  ; INPUT    - NONE
000011E2                           515  ; OUTPUT   - D0.L RANDOM VALUE (ONLY BYTE)
000011E2                           516  ; MODIFIES - NONE (ASIDE OF OUTPUT)
000011E2                           517  ; -----------------------------------------------------------------------------
000011E2  2F08                     518              MOVE.L  A0,-(A7)
000011E4  41F9 00001200            519              LEA     .RANDVEC,A0
000011EA  4280                     520              CLR.L   D0
000011EC  1039 000028EF            521              MOVE.B  (UTLRNDIX),D0
000011F2  1030 0800                522              MOVE.B  (A0,D0.L),D0
000011F6  5239 000028EF            523              ADDQ.B  #1,(UTLRNDIX)
000011FC  205F                     524              MOVE.L  (A7)+,A0
000011FE  4E75                     525              RTS
00001200                           526  
00001200                           527  
00001200= A2 EE 9A 0C F5 24 ...    528  .RANDVEC    DC.B    162, 238, 154, 12 , 245, 36 , 32 , 103
00001208= 2A A3 51 26 E0 AC ...    529              DC.B    42 , 163, 81 , 38 , 224, 172, 19 , 69
00001210= 75 51 CA FD 33 EB ...    530              DC.B    117, 81 , 202, 253, 51 , 235, 108, 154
00001218= 60 CC E7 B8 9A EB ...    531              DC.B    96 , 204, 231, 184, 154, 235, 34 , 203
00001220= 1D 76 B5 95 B0 89 ...    532              DC.B    29 , 118, 181, 149, 176, 137, 62 , 108
00001228= 39 15 48 C9 6E CA ...    533              DC.B    57 , 21 , 72 , 201, 110, 202, 159, 41
00001230= 43 E7 E2 7C 37 25 ...    534              DC.B    67 , 231, 226, 124, 55 , 37 , 84 , 62
00001238= E9 94 CE E9 E4 52 ...    535              DC.B    233, 148, 206, 233, 228, 82 , 243, 78
00001240= 37 6D 9A 84 A2 28 ...    536              DC.B    55 , 109, 154, 132, 162, 40 , 30 , 39
00001248= 19 E2 C6 77 80 D4 ...    537              DC.B    25 , 226, 198, 119, 128, 212, 232, 225
00001250= 0A 5A 32 67 33 C2 ...    538              DC.B    10 , 90 , 50 , 103, 51 , 194, 222, 40
00001258= 59 80 DC 0E 57 FC ...    539              DC.B    89 , 128, 220, 14 , 87 , 252, 243, 252
00001260= 8A AB BC F7 07 4D ...    540              DC.B    138, 171, 188, 247, 7  , 77 , 29 , 234
00001268= EF D5 77 6E 1E BB ...    541              DC.B    239, 213, 119, 110, 30 , 187, 131, 23
00001270= D6 E0 2A 8F BD 28 ...    542              DC.B    214, 224, 42 , 143, 189, 40 , 212, 130
00001278= 13 4F 66 EC 0A 64 ...    543              DC.B    19 , 79 , 102, 236, 10 , 100, 122, 188
00001280= 56 52 9A 16 9B 90 ...    544              DC.B    86 , 82 , 154, 22 , 155, 144, 7  , 199
00001288= 06 8A A4 F7 01 DA ...    545              DC.B    6  , 138, 164, 247, 1  , 218, 166, 82
00001290= F2 E7 77 28 B1 76 ...    546              DC.B    242, 231, 119, 40 , 177, 118, 220, 102
00001298= A4 42 E3 81 B1 67 ...    547              DC.B    164, 66 , 227, 129, 177, 103, 165, 108
000012A0= BF CE FA 16 BF 38 ...    548              DC.B    191, 206, 250, 22 , 191, 56 , 30 , 161
000012A8= D1 8B 50 0C 5F 49 ...    549              DC.B    209, 139, 80 , 12 , 95 , 73 , 168, 56
000012B0= DE 4C 14 A2 40 DC ...    550              DC.B    222, 76 , 20 , 162, 64 , 220, 93 , 12
000012B8= B6 9B 0A 38 5D AB ...    551              DC.B    182, 155, 10 , 56 , 93 , 171, 89 , 6
000012C0= E2 1B DD 75 15 82 ...    552              DC.B    226, 27 , 221, 117, 21 , 130, 101, 18
000012C8= 8A 26 51 30 9F 47 ...    553              DC.B    138, 38 , 81 , 48 , 159, 71 , 57 , 21
000012D0= 1E 8A BB 71 C6 6E ...    554              DC.B    30 , 138, 187, 113, 198, 110, 185, 152
000012D8= 9F 47 E5 34 94 27 ...    555              DC.B    159, 71 , 229, 52 , 148, 39 , 77 , 6
000012E0= 7D 06 D6 BA 30 0F ...    556              DC.B    125, 6  , 214, 186, 48 , 15 , 212, 22
000012E8= EC 7F 7E 03 CF 2D ...    557              DC.B    236, 127, 126, 3  , 207, 45 , 193, 2
000012F0= 94 5B 23 F2 8B CD ...    558              DC.B    148, 91 , 35 , 242, 139, 205, 248, 237
000012F8= 74 33 EC B9 0F D5 ...    559              DC.B    116, 51 , 236, 185, 15 , 213, 221, 6
00001300                           560  
00001300                           561  
00001300                           562  -------------------- end include --------------------
00001300                           563              INCLUDE "SYSTEM.X68"            ; SYSTEM CODE
00001300                           564  ; =============================================================================
00001300                           565  ; SYSTEM
00001300                           566  ; =============================================================================
00001300                           567  
00001300                           568  ; -----------------------------------------------------------------------------
00001300                           569  SYSINIT
00001300                           570  ; INITIALIZE SYSTEM
00001300                           571  ; INPUT     : NONE
00001300                           572  ; OUTPUT    : NONE
00001300                           573  ; MODIFIES  : NONE
00001300                           574  ; -----------------------------------------------------------------------------
00001300                           575  
00001300                           576              ; INSTALL TRAPS AND INTERRUPTIONS
00001300  21FC 0000141A 0080       577              MOVE.L  #SCRPLOT,($80+SCRUPDTN*4)
00001308  21FC 00001450 0084       578              MOVE.L  #KBDUPD,($80+KBDUPDTN*4)
00001310  21FC 0000149E 0088       579              MOVE.L  #MOUUPD,($80+MOUUPDTN*4)
00001318  21FC 000013C4 008C       580              MOVE.L  #SNDPLAY,($80+SNDPLTN*4)
00001320  21FC 00001434 0064       581              MOVE.L  #SCRTIM,($60+SCRINTN*4)
00001328                           582              
00001328  4EB9 00001352            583              JSR     TXTINIT
0000132E  4EB9 00001442            584              JSR     KBDINIT
00001334  4EB9 00001490            585              JSR     MOUINIT
0000133A  4EB9 0000136A            586              JSR     SNDINIT
00001340  4EB9 000013D6            587              JSR     SCRINIT
00001346  4EB8 1000                588              JSR     DMMINIT
0000134A                           589              
0000134A                           590              ; SET USER MODE AND ALLOW INTERRUPTIONS
0000134A  40E7                     591              MOVE.W  SR,-(A7)
0000134C  0257 D8FF                592              ANDI.W  #$D8FF,(A7)
00001350  4E73                     593              RTE
00001352                           594              
00001352                           595  ; -----------------------------------------------------------------------------
00001352                           596  TXTINIT
00001352                           597  ; INITIALIZES THE TEXT OUTPUT
00001352                           598  ; INPUT     : NONE
00001352                           599  ; OUTPUT    : NONE
00001352                           600  ; MODIFIES  : NONE
00001352                           601  ; -----------------------------------------------------------------------------
00001352                           602  
00001352  48E7 E000                603              MOVEM.L D0-D2,-(A7)
00001356                           604              
00001356  7200                     605              MOVE.L  #TXTCOLOR,D1
00001358  243C 040E0001            606              MOVE.L  #TXTFONT<<24|TXTSIZE<<16|TXTSTYLE,D2
0000135E  103C 0015                607              MOVE.B  #21,D0
00001362  4E4F                     608              TRAP    #15
00001364                           609              
00001364  4CDF 0007                610              MOVEM.L (A7)+,D0-D2
00001368  4E75                     611              RTS     
0000136A                           612         
0000136A                           613  ; -----------------------------------------------------------------------------
0000136A                           614  SNDINIT
0000136A                           615  ; INITIALIZES SOUND SYSTEM
0000136A                           616  ; INPUT     : NONE
0000136A                           617  ; OUTPUT    : NONE
0000136A                           618  ; MODIFIES  : NONE
0000136A                           619  ; -----------------------------------------------------------------------------
0000136A                           620  
0000136A  48E7 C0C0                621              MOVEM.L D0-D1/A0-A1,-(A7)
0000136E                           622              
0000136E  4201                     623              CLR.B   D1
00001370  41F9 000013B4            624              LEA     .SNDLIST,A0
00001376  2018                     625  .LOOP       MOVE.L  (A0)+,D0
00001378  6700 000E                626              BEQ     .DONE
0000137C  2240                     627              MOVE.L  D0,A1
0000137E  103C 0047                628              MOVE.B  #71,D0
00001382  4E4F                     629              TRAP    #15
00001384  5201                     630              ADDQ.B  #1,D1
00001386  60EE                     631              BRA     .LOOP
00001388                           632              
00001388  4CDF 0303                633  .DONE       MOVEM.L (A7)+,D0-D1/A0-A1
0000138C  4E75                     634              RTS
0000138E                           635              
0000138E= 53 4E 44 2F 44 49 ...    636  .SNDDIE     DC.B    'SND/DIE.wav',0
0000139A= 53 4E 44 2F 4A 55 ...    637  .SNDJUMP    DC.B    'SND/JUMP.wav',0
000013A7= 53 4E 44 2F 53 43 ...    638  .SNDSCO     DC.B    'SND/SCO.wav',0
000013B4                           639              DS.W    0                       ; WORD ALIGN
000013B4= 0000138E 0000139A ...    640  .SNDLIST    DC.L    .SNDDIE,.SNDJUMP,.SNDSCO,0
000013C4                           641              
000013C4                           642  ; ------------------------------------------------------------------------------
000013C4                           643  SNDPLAY
000013C4                           644  ; PLAY SOUND
000013C4                           645  ; INPUT    : D7 SOUND ID
000013C4                           646  ; OUTPUT   : NONE
000013C4                           647  ; MODIFIES : NONE
000013C4                           648  ; ------------------------------------------------------------------------------
000013C4                           649  
000013C4  48A7 C000                650              MOVEM.W D0-D1,-(A7)
000013C8                           651              
000013C8  103C 0048                652              MOVE.B  #72,D0
000013CC  1207                     653              MOVE.B  D7,D1
000013CE  4E4F                     654              TRAP    #15
000013D0                           655              
000013D0  4C9F 0003                656              MOVEM.W (A7)+,D0-D1
000013D4  4E73                     657              RTE
000013D6                           658  
000013D6                           659  ; -----------------------------------------------------------------------------
000013D6                           660  SCRINIT
000013D6                           661  ; INIT SCREEN. SET SCREEN RESOLUTION, SET WINDOWED MODE, CLEAR SCREEN,
000013D6                           662  ; ENABLE DOUBLE BUFFER, ENABLE TIMED INTERRUPT.
000013D6                           663  ; INPUT     : NONE
000013D6                           664  ; OUTPUT    : NONE
000013D6                           665  ; MODIFIES  : NONE
000013D6                           666  ; -----------------------------------------------------------------------------
000013D6                           667  
000013D6  48E7 C000                668              MOVEM.L D0-D1,-(A7)
000013DA                           669              
000013DA                           670              ; SET SCREEN RESOLUTION
000013DA  103C 0021                671              MOVE.B  #33,D0
000013DE  223C 028001E0            672              MOVE.L  #SCRWIDTH<<16|SCRHEIGH,D1
000013E4  4E4F                     673              TRAP    #15
000013E6                           674              
000013E6                           675              ; SET WINDOWED MODE
000013E6  7201                     676              MOVE.L  #1,D1
000013E8  4E4F                     677              TRAP    #15
000013EA                           678              
000013EA                           679              ; CLEAR SCREEN
000013EA  103C 000B                680              MOVE.B  #11,D0
000013EE  323C FF00                681              MOVE.W  #$FF00,D1
000013F2  4E4F                     682              TRAP    #15
000013F4                           683              
000013F4                           684              ; ENABLE DOUBLE BUFFER
000013F4  103C 005C                685              MOVE.B  #92,D0
000013F8  123C 0011                686              MOVE.B  #17,D1
000013FC  4E4F                     687              TRAP    #15
000013FE                           688              
000013FE                           689              ; ENABLE TIMED INTERRUPT
000013FE  103C 0020                690              MOVE.B  #32,D0
00001402  123C 0006                691              MOVE.B  #6,D1
00001406  143C 0081                692              MOVE.B  #$80|SCRINTN,D2
0000140A  7610                     693              MOVE.L  #1000/SCRFPS,D3
0000140C  4E4F                     694              TRAP    #15
0000140E                           695              
0000140E                           696              ; CLEAR INTERRUPT COUNTER
0000140E  4279 000028A4            697              CLR.W   (SCRINTCT)
00001414                           698              
00001414  4CDF 0003                699              MOVEM.L (A7)+,D0-D1
00001418  4E75                     700              RTS
0000141A                           701              
0000141A                           702  ; -----------------------------------------------------------------------------
0000141A                           703  SCRPLOT
0000141A                           704  ; UPDATES DOUBLE BUFFER
0000141A                           705  ; INPUT    : NONE
0000141A                           706  ; OUTPUT   : NONE
0000141A                           707  ; MODIFIES : NONE
0000141A                           708  ; -----------------------------------------------------------------------------
0000141A                           709  
0000141A  48A7 C000                710              MOVEM.W D0-D1,-(A7)
0000141E                           711              
0000141E                           712              ; SWITCH BUFFERS
0000141E  103C 005E                713              MOVE.B  #94,D0
00001422  4E4F                     714              TRAP    #15
00001424                           715              
00001424                           716              ; CLEAN HIDDEN BUFFER
00001424  103C 000B                717              MOVE.B  #11,D0
00001428  323C FF00                718              MOVE.W  #$FF00,D1
0000142C  4E4F                     719              TRAP    #15
0000142E  4C9F 0003                720              MOVEM.W (A7)+,D0-D1
00001432  4E73                     721              RTE
00001434                           722  
00001434                           723  ; -----------------------------------------------------------------------------
00001434                           724  SCRTIM
00001434                           725  ; TIMED INTERRUPT SERVICE ROUTINE, COUNTS TIME FALLING
00001434                           726  ; INPUT     : NONE
00001434                           727  ; OUTPUT    : NONE
00001434                           728  ; MODIFIES  : NONE
00001434                           729  ; -----------------------------------------------------------------------------
00001434                           730  
00001434  5239 000028A4            731              ADDQ.B  #1,(SCRINTCT)
0000143A  5239 000028A5            732              ADDQ.B  #1,(SCRCYCCT)
00001440  4E73                     733              RTE
00001442                           734              
00001442                           735  ; -----------------------------------------------------------------------------
00001442                           736  KBDINIT
00001442                           737  ; INIT KEYBOARD
00001442                           738  ; INPUT     : NONE
00001442                           739  ; OUTPUT    : NONE
00001442                           740  ; MODIFIES  : NONE
00001442                           741  ; -----------------------------------------------------------------------------
00001442                           742  
00001442  4239 0000289C            743              CLR.B   (KBDVAL)
00001448  4239 0000289D            744              CLR.B   (KBDEDGE)
0000144E  4E75                     745              RTS
00001450                           746              
00001450                           747  ; -----------------------------------------------------------------------------
00001450                           748  KBDUPD
00001450                           749  ; UPDATE KEYBOARD INFO
00001450                           750  ; 0 -> SPACE
00001450                           751  ; INPUT     : NONE
00001450                           752  ; OUTPUT    : NONE
00001450                           753  ; MODIFIES  : NONE
00001450                           754  ; -----------------------------------------------------------------------------
00001450                           755  
00001450  48E7 F000                756              MOVEM.L D0-D3,-(A7)
00001454                           757              
00001454                           758              ; READ KEYBOARD
00001454  103C 0013                759              MOVE.B  #19,D0
00001458  223C 00001B20            760              MOVE.L  #KBDPAUSE<<8|KBDSPACE,D1
0000145E  4E4F                     761              TRAP    #15
00001460                           762              
00001460                           763              ; CONVERT TO DESIRED FORMAT
00001460  4EB9 00001482            764              JSR     .PACK
00001466                           765  
00001466                           766              ; COMPUTE KBDEDGE
00001466  1039 0000289C            767              MOVE.B  (KBDVAL),D0
0000146C  4600                     768              NOT.B   D0
0000146E  C042                     769              AND.W   D2,D0
00001470  13C0 0000289D            770              MOVE.B  D0,(KBDEDGE)
00001476                           771              
00001476                           772              ; STORE KBDVAL
00001476  13C2 0000289C            773              MOVE.B  D2,(KBDVAL)
0000147C                           774              
0000147C  4CDF 000F                775              MOVEM.L (A7)+,D0-D3
00001480  4E73                     776              RTE
00001482                           777  
00001482  363C 0003                778  .PACK       MOVE.W  #3,D3
00001486  E189                     779  .LOOP       LSL.L   #8,D1
00001488  E312                     780              ROXL.B  #1,D2
0000148A  51CB FFFA                781              DBRA.W  D3,.LOOP
0000148E  4E75                     782              RTS
00001490                           783  
00001490                           784  ; -----------------------------------------------------------------------------
00001490                           785  MOUINIT
00001490                           786  ; INPUT     : NONE
00001490                           787  ; OUTPUT    : NONE
00001490                           788  ; MODIFIES  : NONE
00001490                           789  ; -----------------------------------------------------------------------------
00001490                           790  
00001490  42B9 0000289E            791              CLR.L   MOUPOS
00001496  4239 000028A2            792              CLR.B   MOUVAL
0000149C  4E75                     793              RTS
0000149E                           794              
0000149E                           795  ; -----------------------------------------------------------------------------
0000149E                           796  MOUUPD
0000149E                           797  ; INPUT     : NONE
0000149E                           798  ; OUTPUT    : NONE
0000149E                           799  ; MODIFIES  : NONE
0000149E                           800  ; -----------------------------------------------------------------------------
0000149E                           801  
0000149E  48E7 C000                802              MOVEM.L D0-D1,-(A7)
000014A2                           803              
000014A2  103C 003D                804              MOVE.B  #61,D0
000014A6  4201                     805              CLR.B   D1
000014A8  4E4F                     806              TRAP    #15
000014AA  13C0 000028A2            807              MOVE.B  D0,(MOUVAL)
000014B0  23C1 0000289E            808              MOVE.L  D1,(MOUPOS)
000014B6                           809              
000014B6  4CDF 0003                810              MOVEM.L (A7)+,D0-D1
000014BA  4E73                     811              RTE
000014BC                           812  
000014BC                           813  
000014BC                           814  
000014BC                           815  
000014BC                           816  
000014BC                           817  
000014BC                           818  
000014BC                           819  
000014BC                           820  
000014BC                           821  
000014BC                           822  
000014BC                           823  
000014BC                           824  -------------------- end include --------------------
000014BC                           825              INCLUDE "STATES.X68"            ; STATES MANAGEMENT
000014BC                           826  ; =============================================================================
000014BC                           827  ; GAME STATE MANAGEMENT
000014BC                           828  ; =============================================================================
000014BC                           829  
000014BC                           830  ; -----------------------------------------------------------------------------
000014BC                           831  STAINIT
000014BC                           832  ; INITALIZES THE STATE MANAGER
000014BC                           833  ; INPUT    - NONE
000014BC                           834  ; OUTPUT   - NONE
000014BC                           835  ; MODIFIES - NONE
000014BC                           836  ; -----------------------------------------------------------------------------
000014BC  33FC FFFF 000028C4       837              MOVE.W  #STANONE,(STACUR)
000014C4  4279 000028C6            838              CLR.W   (STANEXT)
000014CA  4E75                     839              RTS
000014CC                           840  
000014CC                           841  ; -----------------------------------------------------------------------------
000014CC                           842  STAUPD
000014CC                           843  ; PERFORMS STATE UPDATE AND INIT IF NECESSARY
000014CC                           844  ; INPUT    - NONE
000014CC                           845  ; OUTPUT   - NONE
000014CC                           846  ; MODIFIES - NONE
000014CC                           847  ; -----------------------------------------------------------------------------
000014CC  48E7 8080                848              MOVEM.L D0/A0,-(A7)
000014D0  4280                     849              CLR.L   D0
000014D2  3039 000028C6            850              MOVE.W  (STANEXT),D0
000014D8  B079 000028C4            851              CMP.W   (STACUR),D0
000014DE  6700 0012                852              BEQ     .DOUPD
000014E2  33C0 000028C4            853              MOVE.W  D0,(STACUR)             ; IF STATE CHANGED, DO INIT
000014E8  E588                     854              LSL.L   #2,D0
000014EA  2040                     855              MOVE.L  D0,A0
000014EC  2068 150A                856              MOVE.L  .INITBL(A0),A0
000014F0  4E90                     857              JSR     (A0)
000014F2  4280                     858  .DOUPD      CLR.L   D0                      ; IN ANY CASE, DO UPDATE
000014F4  3039 000028C4            859              MOVE.W  (STACUR),D0
000014FA  E588                     860              LSL.L   #2,D0
000014FC  2040                     861              MOVE.L  D0,A0
000014FE  2068 151E                862              MOVE.L  .UPDTBL(A0),A0
00001502  4E90                     863              JSR     (A0)
00001504  4CDF 0101                864              MOVEM.L (A7)+,D0/A0
00001508  4E75                     865              RTS
0000150A= 00001564 000015AA ...    866  .INITBL     DC.L    ISCINIT,INSINIT,GAMEINIT,PAUSINIT,GOVINIT
0000151E= 00001582 000015AC ...    867  .UPDTBL     DC.L    ISCUPD,INSUPD,GAMEUPD,PAUSUPD,GOVUPD
00001532                           868  
00001532                           869  ; -----------------------------------------------------------------------------
00001532                           870  STAPLOT
00001532                           871  ; PERFORMS STATE PLOT
00001532                           872  ; INPUT    - NONE
00001532                           873  ; OUTPUT   - NONE
00001532                           874  ; MODIFIES - NONE
00001532                           875  ; -----------------------------------------------------------------------------
00001532  48E7 8080                876              MOVEM.L D0/A0,-(A7)
00001536  4280                     877              CLR.L   D0
00001538  3039 000028C4            878              MOVE.W  (STACUR),D0
0000153E  E588                     879              LSL.L   #2,D0
00001540  2040                     880              MOVE.L  D0,A0
00001542  2068 154E                881              MOVE.L  .PLTTBL(A0),A0
00001546  4E90                     882              JSR     (A0)
00001548  4CDF 0101                883              MOVEM.L (A7)+,D0/A0
0000154C  4E75                     884              RTS
0000154E= 000015A4 000015AE ...    885  .PLTTBL     DC.L    ISCPLOT,INSPLOT,GAMEPLOT,PAUSPLOT,GOVPLOT
00001562                           886  
00001562                           887  ; -----------------------------------------------------------------------------
00001562                           888  STAEMPTY
00001562                           889  ; EMPTY SUBROUTINE FOR CASES WITH NOTHING TO DO
00001562                           890  ; INPUT    - NONE
00001562                           891  ; OUTPUT   - NONE
00001562                           892  ; MODIFIES - NONE
00001562                           893  ; NOTE     - JUST A PLACEHOLDER. NOTHING TO DO.
00001562                           894  ; -----------------------------------------------------------------------------
00001562  4E75                     895              RTS
00001564                           896  
00001564                           897  
00001564                           898  
00001564                           899  
00001564                           900  
00001564                           901  
00001564                           902  
00001564                           903  
00001564                           904  -------------------- end include --------------------
00001564                           905              INCLUDE "INTRO.X68"             ; INTRO STATE MANAGEMENT
00001564                           906  ; =============================================================================
00001564                           907  ; INTRO SCREEN MANAGEMENT
00001564                           908  ; =============================================================================
00001564                           909  
00001564                           910  ; ------------------------------------------------------------------------------
00001564                           911  ISCINIT
00001564                           912  ; INTRO SCREEN INIT
00001564                           913  ; INPUT    : NONE
00001564                           914  ; OUTPUT   : NONE
00001564                           915  ; MODIFIES : NONE
00001564                           916  ; ------------------------------------------------------------------------------
00001564                           917              ; INIT GAME VARIABLES
00001564  4EB9 00001750            918              JSR BIRDINIT
0000156A  4EB9 000019BC            919              JSR SCOINIT
00001570                           920              ; CLEAN PIPES AND BUTTONS
00001570  303C 0002                921              MOVE.W  #PIPEAGTP,D0
00001574  4EB8 117A                922              JSR AGLCLEAN
00001578  303C 0003                923              MOVE.W  #BUTAGTP,D0
0000157C  4EB8 117A                924              JSR AGLCLEAN
00001580  4E75                     925              RTS
00001582                           926  
00001582                           927  ; ------------------------------------------------------------------------------
00001582                           928  ISCUPD
00001582                           929  ; INTRO SCREEN UPDATE
00001582                           930  ; INPUT    : NONE
00001582                           931  ; OUTPUT   : NONE
00001582                           932  ; MODIFIES : NONE
00001582                           933  ; ------------------------------------------------------------------------------
00001582                           934              
00001582  4EB9 000018FA            935              JSR BACKUPD
00001588  4EB8 10DC                936              JSR AGLUPD
0000158C  1039 0000289D            937              MOVE.B  (KBDEDGE),D0
00001592  C03C 0001                938              AND.B   #1,D0
00001596  6700 000A                939              BEQ     .CONT
0000159A  33FC 0002 000028C6       940              MOVE.W  #STAGAME,(STANEXT)      
000015A2                           941  .CONT
000015A2  4E75                     942              RTS
000015A4                           943  
000015A4                           944  ; ------------------------------------------------------------------------------
000015A4                           945  ISCPLOT
000015A4                           946  ; INTRO SCREEN PLOT
000015A4                           947  ; INPUT    : NONE
000015A4                           948  ; OUTPUT   : NONE
000015A4                           949  ; MODIFIES : NONE
000015A4                           950  ; ------------------------------------------------------------------------------
000015A4  4EB8 1124                951              JSR AGLPLOT
000015A8  4E75                     952              RTS
000015AA                           953  
000015AA                           954  
000015AA                           955  
000015AA                           956  
000015AA                           957  
000015AA                           958  
000015AA                           959  
000015AA                           960  
000015AA                           961  
000015AA                           962  
000015AA                           963  -------------------- end include --------------------
000015AA                           964              INCLUDE "INSTRUCTIONS.X68"      ; INSTRUCTIONS STATE MANAGEMENT
000015AA                           965  ; =============================================================================
000015AA                           966  ; INSTRUCTION SCREEN MANAGEMENT
000015AA                           967  ; =============================================================================
000015AA                           968  
000015AA                           969  ; ------------------------------------------------------------------------------
000015AA                           970  INSINIT
000015AA                           971  ; INSTRUCTIONS SCREEN INIT
000015AA                           972  ; INPUT    : NONE
000015AA                           973  ; OUTPUT   : NONE
000015AA                           974  ; MODIFIES : NONE
000015AA                           975  ; ------------------------------------------------------------------------------
000015AA  4E75                     976              RTS
000015AC                           977  
000015AC                           978  ; ------------------------------------------------------------------------------
000015AC                           979  INSUPD
000015AC                           980  ; INSTRUCTIONS SCREEN UPDATE
000015AC                           981  ; INPUT    : NONE
000015AC                           982  ; OUTPUT   : NONE
000015AC                           983  ; MODIFIES : NONE
000015AC                           984  ; ------------------------------------------------------------------------------
000015AC  4E75                     985              RTS
000015AE                           986  
000015AE                           987  ; ------------------------------------------------------------------------------
000015AE                           988  INSPLOT
000015AE                           989  ; INSTRUCTIONS SCREEN PLOT
000015AE                           990  ; INPUT    : NONE
000015AE                           991  ; OUTPUT   : NONE
000015AE                           992  ; MODIFIES : NONE
000015AE                           993  ; ------------------------------------------------------------------------------
000015AE  4E75                     994              RTS
000015B0                           995  
000015B0                           996  
000015B0                           997  
000015B0                           998  
000015B0                           999  
000015B0                          1000  
000015B0                          1001  
000015B0                          1002  
000015B0                          1003  
000015B0                          1004  
000015B0                          1005  -------------------- end include --------------------
000015B0                          1006              INCLUDE "GAME.X68"              ; GAME STATE MANAGEMENT
000015B0                          1007  ; =============================================================================
000015B0                          1008  ; GAME MANAGEMENT
000015B0                          1009  ; =============================================================================
000015B0                          1010  
000015B0                          1011  ; -----------------------------------------------------------------------------
000015B0                          1012  GAMEINIT
000015B0                          1013  ; INITIALIZES GAME.
000015B0                          1014  ; INPUT    : NONE
000015B0                          1015  ; OUTPUT   : NONE
000015B0                          1016  ; MODIFIES : NONE
000015B0                          1017  ; ------------------------------------------------------------------------------        
000015B0  13F9 000028A6 000028A5  1018              MOVE.B  (GAMCYCCT),(SCRCYCCT)
000015BA                          1019              ; CLEAN BUTTONS
000015BA  303C 0003               1020              MOVE.W  #BUTAGTP,D0
000015BE  4EB8 117A               1021              JSR AGLCLEAN
000015C2  4E75                    1022              RTS
000015C4                          1023              
000015C4                          1024  ; -----------------------------------------------------------------------------
000015C4                          1025  GAMEUPD
000015C4                          1026  ; UPDATES GAME.
000015C4                          1027  ; INPUT     : NONE
000015C4                          1028  ; OUTPUT    : NONE
000015C4                          1029  ; MODIFIES  : NONE
000015C4                          1030  ; -----------------------------------------------------------------------------
000015C4                          1031  
000015C4  4EB9 000018FA           1032              JSR     BACKUPD
000015CA  1F00                    1033              MOVE.B  D0,-(A7)
000015CC  1039 0000289D           1034              MOVE.B  (KBDEDGE),D0
000015D2  0800 0001               1035              BTST    #1,D0
000015D6  6700 0014               1036              BEQ     .NOPAUSE
000015DA  33FC 0003 000028C6      1037              MOVE.W  #STAPAUSE, (STANEXT)
000015E2  13F9 000028A5 000028A6  1038              MOVE.B  (SCRCYCCT),(GAMCYCCT)
000015EC                          1039              
000015EC  4EB9 00001600           1040  .NOPAUSE    JSR     NEWPIPE
000015F2  4EB8 10DC               1041              JSR     AGLUPD
000015F6  4EB9 00001760           1042              JSR     BIRDUPD
000015FC                          1043              
000015FC  101F                    1044              MOVE.B  (A7)+,D0
000015FE  4E75                    1045              RTS
00001600                          1046  
00001600                          1047  ; -----------------------------------------------------------------------------
00001600                          1048  NEWPIPE
00001600                          1049  ; CREATES A NEW PIPE IN CASE IT'S NECESSARY.
00001600                          1050  ; INPUT     : NONE
00001600                          1051  ; OUTPUT    : NONE
00001600                          1052  ; MODIFIES  : NONE
00001600                          1053  ; -----------------------------------------------------------------------------
00001600                          1054  
00001600  48E7 8070               1055              MOVEM.L D0/A1-A3,-(A7)
00001604                          1056              
00001604  1039 000028A5           1057              MOVE.B  (SCRCYCCT),D0
0000160A  0200 003F               1058              ANDI.B  #MASKNWPP,D0
0000160E  6600 001C               1059              BNE     .GOUPD
00001612  43F9 000017F4           1060              LEA     PIPEINIT,A1
00001618  45F9 0000180C           1061              LEA     PIPEUPD,A2
0000161E  47F9 0000189A           1062              LEA     PIPEPLOT,A3
00001624  303C 0002               1063              MOVE    #PIPEAGTP,D0
00001628  4EB8 10C2               1064              JSR     AGLADD
0000162C                          1065              
0000162C  4CDF 0E01               1066  .GOUPD      MOVEM.L (A7)+,D0/A1-A3
00001630  4E75                    1067              RTS
00001632                          1068  
00001632                          1069  ; -----------------------------------------------------------------------------
00001632                          1070  GAMEPLOT
00001632                          1071  ; PLOTS THE GAME.
00001632                          1072  ; INPUT     : NONE
00001632                          1073  ; OUTPUT    : NONE
00001632                          1074  ; MODIFIES  : NONE
00001632                          1075  ; -----------------------------------------------------------------------------
00001632                          1076              
00001632  4EB9 00001A10           1077              JSR     SCOPLOT
00001638  4EB8 1124               1078              JSR     AGLPLOT
0000163C  6000 0174               1079              BRA     BIRDPLOT
00001640                          1080           
00001640                          1081  
00001640                          1082  
00001640                          1083  
00001640                          1084  
00001640                          1085  
00001640                          1086  
00001640                          1087  
00001640                          1088  
00001640                          1089  
00001640                          1090  
00001640                          1091  
00001640                          1092  
00001640                          1093  
00001640                          1094  -------------------- end include --------------------
00001640                          1095              INCLUDE "PAUSE.X68"             ; PAUSE STATE MANAGEMENT
00001640                          1096  ; =============================================================================
00001640                          1097  ; PAUSE SCREEN MANAGEMENT
00001640                          1098  ; =============================================================================
00001640                          1099  
00001640                          1100  ; ------------------------------------------------------------------------------
00001640                          1101  PAUSINIT
00001640                          1102  ; PAUSE SCREEN INIT
00001640                          1103  ; INPUT    : NONE
00001640                          1104  ; OUTPUT   : NONE
00001640                          1105  ; MODIFIES : NONE
00001640                          1106  ; ------------------------------------------------------------------------------
00001640                          1107              
00001640                          1108              ; INIT RESUME BUTTON
00001640  43F9 00001B90           1109              LEA     BUTINIT,A1
00001646  45F9 00001BAC           1110              LEA     BUTUPD,A2
0000164C  47F9 00001C0A           1111              LEA     BUTPLOT,A3
00001652  303C 0003               1112              MOVE    #BUTAGTP,D0
00001656  49F9 000028E2           1113              LEA     PAUTXTB1,A4
0000165C  323C 00FF               1114              MOVE.W  #SCRWIDTH/2-PAUBUTWD/2,D1
00001660  363C 0181               1115              MOVE.W  #SCRWIDTH/2+PAUBUTWD/2,D3
00001664  343C 00CD               1116              MOVE.W  #SCRHEIGH/2-PAUBUTHG,D2
00001668  383C 00F0               1117              MOVE.W  #SCRHEIGH/2,D4
0000166C  3A3C 0002               1118              MOVE.W  #STAGAME,D5
00001670  4EB8 10C2               1119              JSR     AGLADD
00001674                          1120              
00001674                          1121              ; INIT LEAVE BUTTON
00001674  43F9 00001B90           1122              LEA     BUTINIT,A1
0000167A  45F9 00001BAC           1123              LEA     BUTUPD,A2
00001680  47F9 00001C0A           1124              LEA     BUTPLOT,A3
00001686  303C 0003               1125              MOVE    #BUTAGTP,D0
0000168A  49F9 000028E9           1126              LEA     PAUTXTB2,A4
00001690  323C 00FF               1127              MOVE.W  #SCRWIDTH/2-PAUBUTWD/2,D1
00001694  363C 0181               1128              MOVE.W  #SCRWIDTH/2+PAUBUTWD/2,D3
00001698  343C 0101               1129              MOVE.W  #SCRHEIGH/2+PAUBUTHG/2,D2
0000169C  383C 0124               1130              MOVE.W  #SCRHEIGH/2+3*PAUBUTHG/2,D4
000016A0  3A3C 0000               1131              MOVE.W  #STAINTRO,D5
000016A4  4EB8 10C2               1132              JSR     AGLADD
000016A8                          1133              
000016A8  4E75                    1134              RTS
000016AA                          1135  
000016AA                          1136  ; ------------------------------------------------------------------------------
000016AA                          1137  PAUSUPD
000016AA                          1138  ; PAUSE SCREEN UPDATE
000016AA                          1139  ; INPUT    : NONE
000016AA                          1140  ; OUTPUT   : NONE
000016AA                          1141  ; MODIFIES : NONE
000016AA                          1142  ; ------------------------------------------------------------------------------
000016AA                          1143          
000016AA  1F00                    1144              MOVE.B  D0,-(A7)
000016AC                          1145              
000016AC                          1146              ; CHECK IF KEY PRESSED TO RESUME GAME
000016AC  1039 0000289D           1147              MOVE.B  (KBDEDGE),D0
000016B2  0800 0001               1148              BTST    #1,D0
000016B6  6700 000A               1149              BEQ     .CONT
000016BA  33FC 0002 000028C6      1150              MOVE.W  #STAGAME, (STANEXT)   
000016C2                          1151              
000016C2  303C 0003               1152  .CONT       MOVE.W  #BUTAGTP,D0
000016C6  4EB8 10DC               1153              JSR     AGLUPD
000016CA                          1154              
000016CA  101F                    1155              MOVE.B  (A7)+,D0     
000016CC  4E75                    1156              RTS
000016CE                          1157  
000016CE                          1158  ; ------------------------------------------------------------------------------
000016CE                          1159  PAUSPLOT
000016CE                          1160  ; PAUSE SCREEN PLOT
000016CE                          1161  ; INPUT    : NONE
000016CE                          1162  ; OUTPUT   : NONE
000016CE                          1163  ; MODIFIES : NONE
000016CE                          1164  ; ------------------------------------------------------------------------------
000016CE                          1165  
000016CE  48E7 F800               1166              MOVEM.L D0-D4,-(A7)
000016D2                          1167  
000016D2                          1168              ; PLOT SCORE ITEMS (SCORE, BIRD, CLOUDS AND PIPES)
000016D2  4EB9 00001A10           1169              JSR     SCOPLOT
000016D8  303C 0001               1170              MOVE.W  #CLOUDAGT,D0
000016DC  4EB8 1154               1171              JSR     AGLPLOTT
000016E0  303C 0002               1172              MOVE.W  #PIPEAGTP,D0
000016E4  4EB8 1154               1173              JSR     AGLPLOTT
000016E8  4EB9 000017B2           1174              JSR     BIRDPLOT
000016EE                          1175              
000016EE                          1176              ; PLOT MENU BACKGROUND
000016EE  4281                    1177              CLR.L   D1                      ; SET PEN COLOR
000016F0  103C 0050               1178              MOVE.B  #80,D0  
000016F4  4E4F                    1179              TRAP    #15
000016F6  223C 00A3A3A3           1180              MOVE.L  #LGGRAY,D1              ; SET FILL COLOR
000016FC  5200                    1181              ADDQ.B  #1,D0
000016FE  4E4F                    1182              TRAP    #15
00001700  323C 00DC               1183              MOVE.W  #SCRWIDTH/2-PAUMEWID/2,D1
00001704  363C 01A4               1184              MOVE.W  #SCRWIDTH/2+PAUMEWID/2,D3
00001708  343C 00A5               1185              MOVE.W  #SCRHEIGH/2-PAUMEHEI/2,D2
0000170C  383C 013B               1186              MOVE.W  #SCRHEIGH/2+PAUMEHEI/2,D4
00001710  103C 0057               1187              MOVE.B  #87,D0
00001714  4E4F                    1188              TRAP    #15
00001716                          1189              
00001716                          1190              ; PLOT BUTTONS
00001716  303C 0003               1191              MOVE.W  #BUTAGTP,D0
0000171A  4EB8 1154               1192              JSR     AGLPLOTT
0000171E                          1193              
0000171E  4CDF 001F               1194              MOVEM.L (A7)+,D0-D4
00001722  4E75                    1195              RTS
00001724                          1196  
00001724                          1197  
00001724                          1198  
00001724                          1199  
00001724                          1200  
00001724                          1201  
00001724                          1202  
00001724                          1203  
00001724                          1204  
00001724                          1205  
00001724                          1206  
00001724                          1207  
00001724                          1208  
00001724                          1209  
00001724                          1210  
00001724                          1211  
00001724                          1212  -------------------- end include --------------------
00001724                          1213              INCLUDE "GOVER.X68"             ; GAME OVER STATE MANAGEMENT
00001724                          1214  ; =============================================================================
00001724                          1215  ; GAME OVER SCREEN MANAGEMENT
00001724                          1216  ; =============================================================================
00001724                          1217  
00001724                          1218  ; ------------------------------------------------------------------------------
00001724                          1219  GOVINIT
00001724                          1220  ; GAME OVER SCREEN INIT
00001724                          1221  ; INPUT    : NONE
00001724                          1222  ; OUTPUT   : NONE
00001724                          1223  ; MODIFIES : NONE
00001724                          1224  ; ------------------------------------------------------------------------------
00001724  6000 033C               1225              BRA     SCOSAVE
00001728                          1226  
00001728                          1227  ; ------------------------------------------------------------------------------
00001728                          1228  GOVUPD
00001728                          1229  ; GAME OVER SCREEN UPDATE
00001728                          1230  ; INPUT    : NONE
00001728                          1231  ; OUTPUT   : NONE
00001728                          1232  ; MODIFIES : NONE
00001728                          1233  ; ------------------------------------------------------------------------------
00001728                          1234  
00001728  3F00                    1235              MOVE.W  D0,-(A7)
0000172A                          1236  
0000172A  4EB9 000018FA           1237              JSR     BACKUPD
00001730  4EB8 10DC               1238              JSR     AGLUPD
00001734                          1239              ; CHECK IF KEY PRESSED
00001734  1039 0000289D           1240              MOVE.B  (KBDEDGE),D0
0000173A  6700 000A               1241              BEQ     .CONT
0000173E  33FC 0000 000028C6      1242              MOVE.W  #STAINTRO,(STANEXT)   
00001746                          1243     
00001746  301F                    1244  .CONT       MOVE.W  (A7)+,D0
00001748  4E75                    1245              RTS
0000174A                          1246  
0000174A                          1247  ; ------------------------------------------------------------------------------
0000174A                          1248  GOVPLOT
0000174A                          1249  ; GAME OVER SCREEN PLOT
0000174A                          1250  ; INPUT    : NONE
0000174A                          1251  ; OUTPUT   : NONE
0000174A                          1252  ; MODIFIES : NONE
0000174A                          1253  ; ------------------------------------------------------------------------------
0000174A  4EB8 1632               1254              JSR GAMEPLOT
0000174E  4E75                    1255              RTS
00001750                          1256  
00001750                          1257  
00001750                          1258  
00001750                          1259  
00001750                          1260  
00001750                          1261  
00001750                          1262  
00001750                          1263  
00001750                          1264  
00001750                          1265  
00001750                          1266  
00001750                          1267  -------------------- end include --------------------
00001750                          1268              INCLUDE "BIRD.X68"              ; PLAYER (BIRD) MANAGEMENT
00001750                          1269  ; =============================================================================
00001750                          1270  ; BIRD MANAGEMENT
00001750                          1271  ; =============================================================================
00001750                          1272  
00001750                          1273  ; -----------------------------------------------------------------------------
00001750                          1274  BIRDINIT
00001750                          1275  ; INITIALIZE BIRD.
00001750                          1276  ; INPUT     : NONE 
00001750                          1277  ; OUTPUT    : NONE
00001750                          1278  ; MODIFIES  : NONE
00001750                          1279  ; -----------------------------------------------------------------------------
00001750  33FC 00F0 000028B8      1280              MOVE.W  #SCRHEIGH/2,(BIRDPOSY)
00001758  4279 000028BA           1281              CLR.W   BIRDVELY
0000175E  4E75                    1282              RTS
00001760                          1283              
00001760                          1284  ; -----------------------------------------------------------------------------
00001760                          1285  BIRDUPD
00001760                          1286  ; UPDATES THE BIRD.
00001760                          1287  ; INPUT    : NONE 
00001760                          1288  ; OUTPUT   : NONE
00001760                          1289  ; MODIFIES : NONE
00001760                          1290  ; -----------------------------------------------------------------------------
00001760                          1291  
00001760  48E7 E000               1292              MOVEM.L D0-D2,-(A7)
00001764                          1293  
00001764                          1294              ; UPDATE VELOCITY
00001764  1439 0000289D           1295              MOVE.B  (KBDEDGE),D2        ; CHECK IF SHOULD JUMP
0000176A  0802 0000               1296              BTST    #0,D2
0000176E  6700 0014               1297              BEQ     .NOJUMP
00001772                          1298              
00001772  1E3C 0001               1299              MOVE.B  #SNDJUMP,D7         ; PLAY SOUND
00001776  4E43                    1300              TRAP    #SNDPLTN
00001778  33FC FFF6 000028BA      1301              MOVE.W  #JUMPVELY,(BIRDVELY)
00001780  6000 0008               1302              BRA     .CORDUPD
00001784                          1303              
00001784  5279 000028BA           1304  .NOJUMP     ADDQ.W  #1,BIRDVELY          ; ACCELERATE
0000178A                          1305              
0000178A                          1306              ; UPDATE BIRD COORDINATES
0000178A  3039 000028B8           1307  .CORDUPD    MOVE.W  (BIRDPOSY),D0
00001790  D079 000028BA           1308              ADD.W   (BIRDVELY),D0
00001796                          1309              
00001796                          1310              ; CHECK SCREEN COLLISIONS
00001796  B07C 0195               1311              CMP.W   #SCRHEIGH-FLOHEIGH-BIRDRAD,D0
0000179A  6D00 000A               1312              BLT     .NOCOL
0000179E                          1313          
0000179E                          1314              ; COLLISION BOT
0000179E  33FC 0004 000028C6      1315  .COLBOT     MOVE.W  #STAGOVER,(STANEXT)
000017A6                          1316              
000017A6                          1317              ; STORE POSITION
000017A6  33C0 000028B8           1318  .NOCOL      MOVE.W  D0,(BIRDPOSY)
000017AC                          1319  
000017AC  4CDF 0007               1320  .DONE       MOVEM.L (A7)+,D0-D2
000017B0                          1321              
000017B0  4E75                    1322              RTS
000017B2                          1323  
000017B2                          1324  ; -----------------------------------------------------------------------------
000017B2                          1325  BIRDPLOT
000017B2                          1326  ; PLOT THE BIRD.
000017B2                          1327  ; INPUT    : NONE 
000017B2                          1328  ; OUTPUT   : NONE
000017B2                          1329  ; MODIFIES : NONE
000017B2                          1330  ; -----------------------------------------------------------------------------
000017B2                          1331  
000017B2  48E7 F800               1332              MOVEM.L D0-D4,-(A7)
000017B6                          1333  
000017B6                          1334              ; SET PEN COLOR
000017B6  103C 0050               1335              MOVE.B  #80,D0
000017BA  4281                    1336              CLR.L   D1
000017BC  3239 000028BC           1337              MOVE.W  (BIRDPCOL),D1
000017C2  4E4F                    1338              TRAP    #15
000017C4                          1339              
000017C4                          1340              ; SET FILL COLOR
000017C4  103C 0051               1341              MOVE.B  #81,D0
000017C8  3239 000028BE           1342              MOVE.W  (BIRDFCOL),D1
000017CE  4E4F                    1343              TRAP    #15
000017D0                          1344  
000017D0                          1345              ; DEFINE COORDINATES
000017D0  323C 0091               1346              MOVE.W  #(BIRDPOSX)-BIRDRAD,D1
000017D4  363C 00AF               1347              MOVE.W  #(BIRDPOSX)+BIRDRAD,D3
000017D8  3439 000028B8           1348              MOVE.W  (BIRDPOSY),D2
000017DE  3802                    1349              MOVE.W  D2,D4
000017E0  0442 000F               1350              SUB.W  #BIRDRAD,D2
000017E4  0644 000F               1351              ADD.W  #BIRDRAD,D4
000017E8                          1352              
000017E8                          1353              ; DRAW CIRCLE
000017E8  103C 0058               1354              MOVE.B  #88,D0
000017EC  4E4F                    1355              TRAP    #15
000017EE                          1356              
000017EE  4CDF 001F               1357              MOVEM.L (A7)+,D0-D4
000017F2                          1358  
000017F2  4E75                    1359              RTS
000017F4                          1360  
000017F4                          1361  
000017F4                          1362  
000017F4                          1363  
000017F4                          1364  
000017F4                          1365  
000017F4                          1366  
000017F4                          1367  
000017F4                          1368  
000017F4                          1369  
000017F4                          1370  
000017F4                          1371  
000017F4                          1372  
000017F4                          1373  -------------------- end include --------------------
000017F4                          1374              INCLUDE "PIPE.X68"              ; OBSTACLE (PIPE) MANAGEMENT
000017F4                          1375  ; =============================================================================
000017F4                          1376  ; PIPE MANAGEMENT (AGENT)
000017F4                          1377  ; PIPEPOSX (W) (A0)
000017F4                          1378  ; PIPETOPH (B) 2(A0)
000017F4                          1379  ; =============================================================================
000017F4                          1380  
000017F4                          1381  ; -----------------------------------------------------------------------------
000017F4                          1382  PIPEINIT
000017F4                          1383  ; INITIALIZE PIPE.
000017F4                          1384  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
000017F4                          1385  ; OUTPUT    : NONE
000017F4                          1386  ; MODIFIES  : NONE
000017F4                          1387  ; -----------------------------------------------------------------------------
000017F4                          1388  
000017F4  2F00                    1389              MOVE.L  D0,-(A7)
000017F6                          1390              
000017F6  30BC 0280               1391              MOVE.W  #SCRWIDTH,(A0)
000017FA  4EB8 11E2               1392              JSR UTLRAND         ; RANDOM NUMBER BETWEEN 0-255
000017FE  0680 00000096           1393              ADD.L   #(SCRHEIGH-PIPEGAPS-FLOHEIGH)/2,D0
00001804  1140 0002               1394              MOVE.B  D0,2(A0)
00001808                          1395              
00001808  201F                    1396              MOVE.L  (A7)+,D0
0000180A  4E75                    1397              RTS
0000180C                          1398              
0000180C                          1399  ; -----------------------------------------------------------------------------
0000180C                          1400  PIPEUPD
0000180C                          1401  ; UPDATES PIPE.
0000180C                          1402  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
0000180C                          1403  ; OUTPUT    : NONE
0000180C                          1404  ; MODIFIES  : NONE
0000180C                          1405  ; -----------------------------------------------------------------------------
0000180C  48E7 C000               1406              MOVEM.L D0-D1,-(A7)
00001810                          1407              
00001810  3039 000028C4           1408              MOVE.W  (STACUR),D0
00001816  B07C 0002               1409              CMP.W   #STAGAME,D0
0000181A  6600 0078               1410              BNE     .END
0000181E                          1411  
0000181E                          1412              ; UPDATE POSITION
0000181E  0650 FFFB               1413              ADD.W   #PIPEVELX,(A0)
00001822                          1414  
00001822                          1415  ; CHECK AND HANDLE COLLISIONS
00001822                          1416              
00001822                          1417              ; COLLISION WITH SCREEN
00001822  3010                    1418              MOVE.W  (A0),D0
00001824  0640 0032               1419              ADD.W   #PIPEWIDT,D0
00001828  6A00 000A               1420              BPL     .NOKILL
0000182C  4EB8 10AC               1421              JSR AGLKILL
00001830  6000 0062               1422              BRA     .END
00001834                          1423              
00001834                          1424              ; COLLISION WITH BIRD
00001834  B07C 00E1               1425  .NOKILL     CMP.W   #BIRDPOSX+BIRDRAD+PIPEWIDT,D0
00001838  6A00 004C               1426              BPL     .NOCOL
0000183C  B07C 0091               1427              CMP.W   #BIRDPOSX-BIRDRAD,D0
00001840  6B00 0044               1428              BMI     .NOCOL
00001844                          1429  
00001844                          1430              
00001844                          1431              ; BIRD IS IN PIPE X RANGE
00001844  4280                    1432              CLR.L   D0
00001846  1028 0002               1433              MOVE.B  2(A0),D0
0000184A  3239 000028B8           1434              MOVE.W  (BIRDPOSY),D1
00001850  0441 000F               1435              SUB.W   #BIRDRAD,D1
00001854  B041                    1436              CMP.W   D1,D0
00001856  6A00 0014               1437              BPL     .COL
0000185A  0640 0078               1438              ADD.W   #PIPEGAPS,D0
0000185E  0641 001E               1439              ADD.W   #2*BIRDRAD,D1
00001862  B041                    1440              CMP.W   D1,D0
00001864  6B00 0006               1441              BMI     .COL
00001868                          1442  
00001868  6000 001C               1443              BRA     .NOCOL
0000186C                          1444  
0000186C                          1445              ; STOP ALL SOUNDS
0000186C  103C 004C               1446  .COL        MOVE.B  #76,D0
00001870  7403                    1447              MOVE.L  #3,D2
00001872  4E4F                    1448              TRAP    #15
00001874                          1449              
00001874  1E3C 0000               1450              MOVE.B  #SNDDIE,D7  ; PLAY DIE SOUND
00001878  4E43                    1451              TRAP    #SNDPLTN
0000187A                          1452              
0000187A  33FC 0004 000028C6      1453              MOVE.W  #STAGOVER,(STANEXT)
00001882                          1454              
00001882  6000 0010               1455              BRA     .END
00001886                          1456  
00001886                          1457              ; SCORE INCREASE
00001886  0C50 005F               1458  .NOCOL      CMP.W   #BIRDPOSX-PIPEWIDT-BIRDRAD,(A0)
0000188A  6600 0008               1459              BNE     .END
0000188E  4EB9 000019F2           1460              JSR     SCOINC
00001894                          1461              
00001894  4CDF 0003               1462  .END        MOVEM.L  (A7)+,D0-D1
00001898  4E75                    1463              RTS
0000189A                          1464  
0000189A                          1465  ; -----------------------------------------------------------------------------
0000189A                          1466  PIPEPLOT
0000189A                          1467  ; PLOT THE PIPE.
0000189A                          1468  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
0000189A                          1469  ; OUTPUT    : NONE
0000189A                          1470  ; MODIFIES  : NONE
0000189A                          1471  ; -----------------------------------------------------------------------------
0000189A                          1472      
0000189A  48E7 F800               1473              MOVEM.L D0-D4,-(A7)
0000189E                          1474              
0000189E                          1475              ; SET PEN AND FILL COLORS
0000189E  103C 0050               1476              MOVE.B  #80,D0
000018A2  223C 000C0C0C           1477              MOVE.L  #PIPEPCOL,D1
000018A8  4E4F                    1478              TRAP    #15
000018AA  103C 0051               1479              MOVE.B  #81,D0
000018AE  223C 00616161           1480              MOVE.L  #PIPEFCOL,D1
000018B4  4E4F                    1481              TRAP    #15
000018B6                          1482              
000018B6                          1483              ; PLOT TOP HALF
000018B6  3210                    1484              MOVE.W  (A0),D1
000018B8  4242                    1485              CLR.W   D2
000018BA  3601                    1486              MOVE.W  D1,D3
000018BC  0643 0032               1487              ADD.W   #PIPEWIDT,D3
000018C0  4244                    1488              CLR.W   D4
000018C2  1828 0002               1489              MOVE.B  2(A0),D4
000018C6  103C 0057               1490              MOVE.B  #87,D0
000018CA  4E4F                    1491              TRAP    #15
000018CC                          1492              ; PLOT TOP PIPE OPENING
000018CC  3404                    1493              MOVE.W  D4,D2
000018CE  0442 000F               1494              SUB.W   #PPOPHEIG,D2
000018D2  5B41                    1495              SUB.W   #PPOPOVER,D1
000018D4  5A43                    1496              ADD.W   #PPOPOVER,D3
000018D6  4E4F                    1497              TRAP    #15
000018D8                          1498              
000018D8                          1499              
000018D8                          1500              ; PLOT BOTTOM HALF
000018D8  5A41                    1501              ADD.W   #PPOPOVER,D1
000018DA  5B43                    1502              SUB.W   #PPOPOVER,D3
000018DC  3404                    1503              MOVE.W  D4,D2
000018DE  0642 0078               1504              ADD.W   #PIPEGAPS,D2
000018E2  383C 01A4               1505              MOVE.W  #SCRHEIGH-FLOHEIGH,D4
000018E6  4E4F                    1506              TRAP    #15
000018E8                          1507              ;PLOT BOTTOM PIPE OPNENING
000018E8  5B41                    1508              SUB.W   #PPOPOVER,D1
000018EA  5A43                    1509              ADD.W   #PPOPOVER,D3
000018EC  3802                    1510              MOVE.W  D2,D4
000018EE  0644 000F               1511              ADD.W   #PPOPHEIG,D4
000018F2  4E4F                    1512              TRAP    #15
000018F4                          1513              
000018F4  4CDF 001F               1514              MOVEM.L (A7)+,D0-D4
000018F8  4E75                    1515              RTS
000018FA                          1516  
000018FA                          1517  
000018FA                          1518  
000018FA                          1519  
000018FA                          1520  
000018FA                          1521  
000018FA                          1522  
000018FA                          1523  
000018FA                          1524  
000018FA                          1525  
000018FA                          1526  
000018FA                          1527  
000018FA                          1528  
000018FA                          1529  -------------------- end include --------------------
000018FA                          1530              INCLUDE "BACKGROUND.X68"        ; BACKGROUND MANAGEMENT
000018FA                          1531  ; =============================================================================
000018FA                          1532  ; BACKGROUND MANAGEMENT
000018FA                          1533  ; =============================================================================
000018FA                          1534  
000018FA                          1535  ; -----------------------------------------------------------------------------
000018FA                          1536  BACKUPD
000018FA                          1537  ; UPDATES BACKGROUND
000018FA                          1538  ; INPUT     : NONE
000018FA                          1539  ; OUTPUT    : NONE
000018FA                          1540  ; MODIFIES  : NONE
000018FA                          1541  ; -----------------------------------------------------------------------------
000018FA                          1542              
000018FA  48E7 8070               1543              MOVEM.L D0/A1-A3,-(A7)
000018FE                          1544              
000018FE                          1545              ; CREATE NEW CLOUD
000018FE  1039 000028A5           1546              MOVE.B  (SCRCYCCT),D0
00001904  0200 00FF               1547              ANDI.B  #MASKNWCL,D0
00001908  6600 001C               1548              BNE     .NONEWCL
0000190C  43F9 00001AA8           1549              LEA     CLDINIT,A1
00001912  45F9 00001ACC           1550              LEA     CLDUPD,A2
00001918  47F9 00001AFA           1551              LEA     CLDPLOT,A3
0000191E  303C 0001               1552              MOVE    #CLOUDAGT,D0
00001922  4EB8 10C2               1553              JSR     AGLADD
00001926                          1554              
00001926  4CDF 0E01               1555  .NONEWCL    MOVEM.L (A7)+,D0/A1-A3
0000192A  4E75                    1556              RTS
0000192C                          1557  
0000192C                          1558  ; -----------------------------------------------------------------------------
0000192C                          1559  BACKPLOT
0000192C                          1560  ; DRAWS BACKGROUND
0000192C                          1561  ; INPUT     : NONE
0000192C                          1562  ; OUTPUT    : NONE
0000192C                          1563  ; MODIFIES  : NONE
0000192C                          1564  ; -----------------------------------------------------------------------------
0000192C                          1565  
0000192C  4EB9 00001936           1566              JSR SKYPLOT
00001932  6000 0030               1567              BRA FLOPLOT
00001936                          1568              
00001936                          1569  ; -----------------------------------------------------------------------------
00001936                          1570  SKYPLOT
00001936                          1571  ; DRAWS THE SKY BACKGROUND
00001936                          1572  ; INPUT     : NONE
00001936                          1573  ; OUTPUT    : NONE
00001936                          1574  ; MODIFIES  : NONE
00001936                          1575  ; -----------------------------------------------------------------------------
00001936                          1576              
00001936  48E7 F800               1577              MOVEM.L D0-D4,-(A7)
0000193A                          1578              ; SET PEN COLOR
0000193A  223C 00FFBF80           1579              MOVE.L  #SKYCOLOR,D1
00001940  103C 0050               1580              MOVE.B  #80,D0
00001944  4E4F                    1581              TRAP    #15
00001946                          1582              
00001946                          1583              ; SET FILL COLOR
00001946  103C 0051               1584              MOVE.B  #81,D0
0000194A  4E4F                    1585              TRAP    #15
0000194C                          1586              
0000194C                          1587              ; SET COORDS AND DRAW
0000194C  103C 0057               1588              MOVE.B  #87,D0
00001950  4241                    1589              CLR.W   D1
00001952  4242                    1590              CLR.W   D2
00001954  363C 0280               1591              MOVE.W  #SCRWIDTH,D3
00001958  383C 01E0               1592              MOVE.W  #SCRHEIGH,D4
0000195C  4E4F                    1593              TRAP    #15
0000195E                          1594              
0000195E  4CDF 001F               1595              MOVEM.L (A7)+,D0-D4
00001962  4E75                    1596              RTS
00001964                          1597              
00001964                          1598  ; -----------------------------------------------------------------------------
00001964                          1599  FLOPLOT
00001964                          1600  ; DRAWS THE FLOOR BACKGROUND
00001964                          1601  ; INPUT     : NONE
00001964                          1602  ; OUTPUT    : NONE
00001964                          1603  ; MODIFIES  : NONE
00001964                          1604  ; -----------------------------------------------------------------------------
00001964                          1605  
00001964  48E7 F800               1606              MOVEM.L D0-D4,-(A7)
00001968                          1607              
00001968                          1608              ; DRAW GRASS
00001968  4281                    1609              CLR.L   D1                      ; SET PEN COLOR
0000196A  103C 0050               1610              MOVE.B  #80,D0
0000196E  4E4F                    1611              TRAP    #15
00001970  223C 0035DE3B           1612              MOVE.L  #GRASSCLR,D1            ; SET FILL COLOR
00001976  103C 0051               1613              MOVE.B  #81,D0                  
0000197A  4E4F                    1614              TRAP    #15
0000197C  103C 0057               1615              MOVE.B  #87,D0                  ; SET COORDS AND DRAW
00001980  72FF                    1616              MOVE.L  #-1,D1
00001982  343C 01A4               1617              MOVE.W  #SCRHEIGH-FLOHEIGH,D2
00001986  363C 0280               1618              MOVE.W  #SCRWIDTH,D3
0000198A  383C 01B3               1619              MOVE.W  #SCRHEIGH-DIRTHEIG,D4
0000198E  4E4F                    1620              TRAP    #15
00001990                          1621              
00001990                          1622              ; DRAW DIRT
00001990  223C 00306284           1623              MOVE.L  #DIRTCLR,D1             ; SET PEN COLOR
00001996  103C 0050               1624              MOVE.B  #80,D0
0000199A  4E4F                    1625              TRAP    #15
0000199C  223C 00306284           1626              MOVE.L  #DIRTCLR,D1             ; SET FILL COLOR
000019A2  103C 0051               1627              MOVE.B  #81,D0                  
000019A6  4E4F                    1628              TRAP    #15
000019A8  103C 0057               1629              MOVE.B  #87,D0
000019AC  4241                    1630              CLR.W   D1
000019AE  3404                    1631              MOVE.W  D4,D2
000019B0  383C 01E0               1632              MOVE.W  #SCRHEIGH,D4
000019B4  4E4F                    1633              TRAP    #15
000019B6                          1634              
000019B6  4CDF 001F               1635              MOVEM.L (A7)+,D0-D4
000019BA  4E75                    1636              RTS
000019BC                          1637  
000019BC                          1638  
000019BC                          1639  
000019BC                          1640  
000019BC                          1641  -------------------- end include --------------------
000019BC                          1642              INCLUDE "SCORE.X68"             ; SCORE MANAGEMENT
000019BC                          1643  ; =============================================================================
000019BC                          1644  ; SCOREBOARD MANAGEMENT
000019BC                          1645  ; =============================================================================
000019BC                          1646  
000019BC                          1647  ; ------------------------------------------------------------------------------
000019BC                          1648  SCOINIT
000019BC                          1649  ; INITIALIZE SCOREBOARD
000019BC                          1650  ; INPUT    : NONE 
000019BC                          1651  ; OUTPUT   : NONE
000019BC                          1652  ; MODIFIES : NONE
000019BC                          1653  ; ------------------------------------------------------------------------------
000019BC                          1654  
000019BC  48E7 E0C0               1655              MOVEM.L D0-D2/A0-A1,-(A7)
000019C0  4279 000028C0           1656              CLR.W   (SCORE)
000019C6  4279 000028C2           1657              CLR.W   (HIGHSCO)
000019CC                          1658              
000019CC                          1659              ; OPEN FILE
000019CC  43F9 000028A8           1660              LEA     SCOPATH,A1
000019D2  103C 0033               1661              MOVE.B  #51,D0
000019D6  4E4F                    1662              TRAP    #15
000019D8                          1663              
000019D8                          1664              ; READ HIGH SCORE
000019D8  43F9 000028C2           1665              LEA     HIGHSCO,A1
000019DE  7402                    1666              MOVE.L  #2,D2
000019E0  103C 0035               1667              MOVE.B  #53,D0
000019E4  4E4F                    1668              TRAP    #15
000019E6                          1669              
000019E6                          1670              ; CLOSE FILE
000019E6  103C 0038               1671              MOVE.B  #56,D0
000019EA  4E4F                    1672              TRAP    #15
000019EC                          1673              
000019EC  4CDF 0307               1674              MOVEM.L (A7)+,D0-D2/A0-A1
000019F0  4E75                    1675              RTS
000019F2                          1676              
000019F2                          1677  ; -----------------------------------------------------------------------------
000019F2                          1678  SCOINC
000019F2                          1679  ; INCREASES THE SCORE BY 1
000019F2                          1680  ; INPUT     : NONE
000019F2                          1681  ; OUTPUT    : SCORE = SCORE + 1
000019F2                          1682  ; MODIFIES  : NONE (APART FROM OUTPUT)
000019F2                          1683  ; -----------------------------------------------------------------------------
000019F2  48E7 A100               1684              MOVEM.L D0/D2/D7,-(A7)
000019F6                          1685  
000019F6  5279 000028C0           1686              ADDQ.W  #1,(SCORE)
000019FC                          1687              ; STOP ALL SOUNDS
000019FC  103C 004C               1688              MOVE.B  #76,D0
00001A00  7403                    1689              MOVE.L  #3,D2
00001A02  4E4F                    1690              TRAP    #15
00001A04                          1691              
00001A04                          1692              ; PLAY SOUND
00001A04  1E3C 0002               1693              MOVE.B  #SNDSCO,D7
00001A08  4E43                    1694              TRAP    #SNDPLTN
00001A0A                          1695              
00001A0A  4CDF 0085               1696              MOVEM.L (A7)+,D0/D2/D7
00001A0E  4E75                    1697              RTS
00001A10                          1698              
00001A10                          1699  ; ------------------------------------------------------------------------------
00001A10                          1700  SCOPLOT
00001A10                          1701  ; PLOT THE SCOREBOARD
00001A10                          1702  ; INPUT    : NONE 
00001A10                          1703  ; OUTPUT   : NONE
00001A10                          1704  ; MODIFIES : NONE
00001A10                          1705  ; ------------------------------------------------------------------------------
00001A10                          1706  
00001A10  48E7 C040               1707              MOVEM.L D0-D1/A1,-(A7)
00001A14                          1708  
00001A14                          1709              ; SET BACKGROUND COLOR
00001A14  103C 0051               1710              MOVE.B  #81,D0
00001A18  223C 00306284           1711              MOVE.L  #SCOFCOL,D1
00001A1E  4E4F                    1712              TRAP    #15
00001A20                          1713              
00001A20                          1714              ; SET SCORE LINE POSITION
00001A20  103C 000B               1715              MOVE.B  #11,D0
00001A24  323C 1017               1716              MOVE.W  #SCOLINE,D1
00001A28  4E4F                    1717              TRAP    #15
00001A2A                          1718              
00001A2A                          1719              ; PLOT THE SCORE
00001A2A  43F9 000028C8           1720              LEA     SCOTXT,A1
00001A30  4281                    1721              CLR.L   D1
00001A32  3239 000028C0           1722              MOVE.W  (SCORE),D1
00001A38  103C 0011               1723              MOVE.B  #17,D0
00001A3C  4E4F                    1724              TRAP    #15
00001A3E                          1725              
00001A3E                          1726              ; SET HIGH SCORE LINE POSITION
00001A3E  103C 000B               1727              MOVE.B  #11,D0
00001A42  323C 1018               1728              MOVE.W  #HSCOLINE,D1
00001A46  4E4F                    1729              TRAP    #15
00001A48                          1730              
00001A48                          1731              ; PLOT THE HIGHSCORE
00001A48  43F9 000028D0           1732              LEA     HISCOTXT,A1
00001A4E  4281                    1733              CLR.L   D1
00001A50  3239 000028C2           1734              MOVE.W  (HIGHSCO),D1
00001A56  103C 0011               1735              MOVE.B  #17,D0
00001A5A  4E4F                    1736              TRAP    #15
00001A5C                          1737              
00001A5C  4CDF 0203               1738              MOVEM.L (A7)+,D0-D1/A1
00001A60  4E75                    1739              RTS
00001A62                          1740  
00001A62                          1741  ; ------------------------------------------------------------------------------
00001A62                          1742  SCOSAVE
00001A62                          1743  ; SAVES THE HIGH SCORE
00001A62                          1744  ; INPUT    : NONE 
00001A62                          1745  ; OUTPUT   : NONE
00001A62                          1746  ; MODIFIES : NONE
00001A62                          1747  ; ------------------------------------------------------------------------------
00001A62                          1748  
00001A62  48E7 E0C0               1749              MOVEM.L A0-A1/D0-D2,-(A7)
00001A66                          1750              ; IF ACTUAL SCORE > HIGH SCORE
00001A66  3039 000028C0           1751              MOVE.W  (SCORE),D0
00001A6C  3239 000028C2           1752              MOVE.W  (HIGHSCO),D1
00001A72  B240                    1753              CMP.W   D0,D1
00001A74  6C00 002C               1754              BGE     .END
00001A78                          1755              
00001A78                          1756              ; OPEN FILE
00001A78  43F9 000028A8           1757              LEA     SCOPATH,A1
00001A7E  103C 0033               1758              MOVE.B  #51,D0
00001A82  4E4F                    1759              TRAP    #15
00001A84                          1760              
00001A84                          1761              ; SAVE NEW HIGH SCORE
00001A84  33F9 000028C0 000028C2  1762              MOVE.W  (SCORE),(HIGHSCO)
00001A8E  43F9 000028C2           1763              LEA     HIGHSCO,A1
00001A94  7402                    1764              MOVE.L  #2,D2
00001A96  103C 0036               1765              MOVE.B  #54,D0
00001A9A  4E4F                    1766              TRAP    #15
00001A9C                          1767              
00001A9C                          1768              ; CLOSE FILE
00001A9C  103C 0038               1769              MOVE.B  #56,D0
00001AA0  4E4F                    1770              TRAP    #15
00001AA2                          1771              
00001AA2                          1772              
00001AA2  4CDF 0307               1773  .END        MOVEM.L (A7)+,A0-A1/D0-D2
00001AA6  4E75                    1774              RTS
00001AA8                          1775  
00001AA8                          1776  
00001AA8                          1777  
00001AA8                          1778  
00001AA8                          1779  
00001AA8                          1780  
00001AA8                          1781  -------------------- end include --------------------
00001AA8                          1782              INCLUDE "CLOUD.X68"             ; CLOUD MANAGEMENT
00001AA8                          1783  ; =============================================================================
00001AA8                          1784  ; CLOUD MANAGEMENT (AGENT)
00001AA8                          1785  ; CLOUDPOSX  (W) (A0)
00001AA8                          1786  ; CLOUDPOSY  (W) 2(A0)
00001AA8                          1787  ; CLOUDSPEED (W) 4(A0)
00001AA8                          1788  ; CLOUDTYPE  (W) 6(A0)
00001AA8                          1789  ; =============================================================================
00001AA8                          1790  
00001AA8                          1791  ; -----------------------------------------------------------------------------
00001AA8                          1792  CLDINIT
00001AA8                          1793  ; INITIALIZE CLOUD.
00001AA8                          1794  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
00001AA8                          1795  ; OUTPUT    : NONE
00001AA8                          1796  ; MODIFIES  : NONE
00001AA8                          1797  ; -----------------------------------------------------------------------------
00001AA8                          1798  
00001AA8  2F00                    1799              MOVE.L  D0,-(A7)
00001AAA                          1800  
00001AAA                          1801              ; INIT POSITION
00001AAA  30BC 0280               1802              MOVE.W  #SCRWIDTH,(A0)
00001AAE  4EB8 11E2               1803              JSR UTLRAND             ; RANDOM NUMBER BETWEEN 0-255
00001AB2  3140 0002               1804              MOVE.W  D0,2(A0)
00001AB6                          1805              ; INIT CLOUD TYPE
00001AB6  C03C 0007               1806              AND.B   #7,D0
00001ABA  3140 0006               1807              MOVE.W  D0,6(A0)
00001ABE                          1808              ; INIT SPEED
00001ABE  82BC FFFFFFFC           1809              OR.L    #CLDSPMSK,D1
00001AC4  3141 0004               1810              MOVE.W  D1,4(A0)
00001AC8                          1811              
00001AC8  201F                    1812              MOVE.L (A7)+,D0
00001ACA  4E75                    1813              RTS
00001ACC                          1814  
00001ACC                          1815  ; -----------------------------------------------------------------------------
00001ACC                          1816  CLDUPD
00001ACC                          1817  ; UPDATES CLOUD.
00001ACC                          1818  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
00001ACC                          1819  ; OUTPUT    : NONE
00001ACC                          1820  ; MODIFIES  : NONE
00001ACC                          1821  ; -----------------------------------------------------------------------------
00001ACC                          1822              
00001ACC  48E7 8040               1823              MOVEM.L D0/A1,-(A7)
00001AD0                          1824              
00001AD0                          1825              ; UPDATE POSITION
00001AD0  3028 0004               1826              MOVE.W  4(A0),D0
00001AD4  D050                    1827              ADD.W   (A0),D0
00001AD6  3080                    1828              MOVE.W  D0,(A0)
00001AD8                          1829              
00001AD8                          1830  ; CHECK AND HANDLE COLISION
00001AD8                          1831              ; SELECT CLOUD WIDTH
00001AD8  3028 0006               1832              MOVE.W  6(A0),D0
00001ADC  E558                    1833              ROL.W   #2,D0           ; TIMES 4 TIMES SINCE WE ACCESS LONG
00001ADE  43F9 00001B22           1834              LEA     CLDTBL,A1
00001AE4  2271 0000               1835              MOVE.L  (A1,D0.W),A1
00001AE8  3011                    1836              MOVE.W  (A1),D0
00001AEA                          1837              
00001AEA  D050                    1838              ADD.W   (A0),D0
00001AEC  6E00 0006               1839              BGT     .NOKILL
00001AF0  4EB8 10AC               1840              JSR AGLKILL             ; KILL AGENT
00001AF4                          1841              
00001AF4  4CDF 0201               1842  .NOKILL     MOVEM.L (A7)+,D0/A1       
00001AF8  4E75                    1843              RTS
00001AFA                          1844  
00001AFA                          1845  ; -----------------------------------------------------------------------------
00001AFA                          1846  CLDPLOT
00001AFA                          1847  ; PLOTS CLOUD.
00001AFA                          1848  ; INPUT     : A0 POINTER TO INSTANCE VARIABLES
00001AFA                          1849  ; OUTPUT    : NONE
00001AFA                          1850  ; MODIFIES  : NONE
00001AFA                          1851  ; -----------------------------------------------------------------------------
00001AFA                          1852              
00001AFA  48E7 B140               1853              MOVEM.L D0/D2-D3/D7/A1,-(A7)
00001AFE                          1854              
00001AFE                          1855              ; SELECT THE CLOUD TYPE
00001AFE  3028 0006               1856              MOVE.W  6(A0),D0
00001B02  E558                    1857              ROL.W   #2,D0           ; TIMES 4 TIMES SINCE WE ACCESS LONG
00001B04  43F9 00001B22           1858              LEA     CLDTBL,A1
00001B0A  2271 0000               1859              MOVE.L  (A1,D0.W),A1
00001B0E                          1860              
00001B0E                          1861              ; PLOT IMAGE
00001B0E  3E19                    1862              MOVE.W  (A1)+,D7        ; ASSUME CLOUDX IS RIGHT NEXT TO CLOUDXW
00001B10  3428 0002               1863              MOVE.W  2(A0),D2
00001B14  3610                    1864              MOVE.W  (A0),D3
00001B16  4EB9 00001B42           1865              JSR     IMGPLOT
00001B1C                          1866              
00001B1C  4CDF 028D               1867              MOVEM.L (A7)+,D0/D2-D3/D7/A1
00001B20  4E75                    1868              RTS
00001B22                          1869                
00001B22= 00001C76                1870  CLDTBL      DC.L    CLOUD0W
00001B26= 00001DBC                1871              DC.L    CLOUD1W
00001B2A= 00001EFA                1872              DC.L    CLOUD2W
00001B2E= 00002180                1873              DC.L    CLOUD3W
00001B32= 00002216                1874              DC.L    CLOUD4W
00001B36= 0000241C                1875              DC.L    CLOUD5W
00001B3A= 0000259A                1876              DC.L    CLOUD6W
00001B3E= 000026C0                1877              DC.L    CLOUD7W
00001B42                          1878  
00001B42                          1879  
00001B42                          1880  
00001B42                          1881  -------------------- end include --------------------
00001B42                          1882              INCLUDE "IMAGE.X68"             ; IMAGE DRAWING ROUTINES
00001B42                          1883  ; =============================================================================
00001B42                          1884  ; IMAGE LIBRARY. IT CONTAINS ROUTINES TO DRAW IMAGES. EVERY IMAGE DATA SHOULD 
00001B42                          1885  ; HAVE N LONG PAIRS, THE FIRST OF THE PAIR MEANS THE COLOR OF A BLOCK IN 
00001B42                          1886  ; FORMAT $00BBGGRR AND THE SECOND IS THE AMMOUNT OF BLOCKS IN A ROW WITH 
00001B42                          1887  ; THE SAME COLOR.
00001B42                          1888  ; EVERY IMAGE DATA IS ENDING WITH THE FLAG $FFFFFFFF
00001B42                          1889  ; =============================================================================
00001B42                          1890  
00001B42                          1891  ; -----------------------------------------------------------------------------
00001B42                          1892  IMGPLOT
00001B42                          1893  ; PLOTS AN IMAGE IN THE GIVEN COORDINATES
00001B42                          1894  ; INPUT:    A1 POINTER TO IMAGE DATA
00001B42                          1895  ;           D2.W Y START
00001B42                          1896  ;           D3.W X START
00001B42                          1897  ;           D7.W IMAGE WIDTH
00001B42                          1898  ; NOTE : WON'T USE IMAGE HEIGHT TO MANAGE IMAGE END, AS WE ASSUME IMAGE DATA
00001B42                          1899  ;        IS ENDING WITH THE FLAG $FFFFFFFF
00001B42                          1900  ; -----------------------------------------------------------------------------
00001B42                          1901  
00001B42  48E7 FF40               1902              MOVEM.L A1/D0-D7,-(A7)
00001B46                          1903              
00001B46  33C3 00001B8E           1904              MOVE.W  D3,(.STARTX)  ; STORE STARTING X
00001B4C  3A03                    1905              MOVE.W  D3,D5   
00001B4E  DA47                    1906              ADD.W   D7,D5       ; X ENDING COORD
00001B50                          1907              
00001B50                          1908              
00001B50                          1909              ; SET PEN AND FILL COLOR
00001B50  2219                    1910              MOVE.L  (A1)+,D1
00001B52  103C 0050               1911  .LOOP1      MOVE.B  #80,D0
00001B56  4E4F                    1912              TRAP    #15
00001B58  5200                    1913              ADDQ.B  #1,D0
00001B5A  4E4F                    1914              TRAP    #15
00001B5C                          1915              
00001B5C                          1916              ; DRAW BLOCK
00001B5C  2C19                    1917              MOVE.L  (A1)+,D6
00001B5E  5386                    1918              SUBQ.L  #1,D6            
00001B60  3203                    1919  .LOOP2      MOVE.W  D3,D1       ; BLOCK START X
00001B62  5843                    1920              ADDQ.W  #BLOCKSZ,D3 ; BLOCK END X
00001B64  3802                    1921              MOVE.W  D2,D4       
00001B66  5844                    1922              ADDQ.W  #BLOCKSZ,D4 ; BLOCK END Y
00001B68  103C 0057               1923              MOVE.B  #87,D0
00001B6C  4E4F                    1924              TRAP    #15
00001B6E                          1925              
00001B6E  BA43                    1926              CMP.W   D3,D5
00001B70  6C00 000A               1927              BGE     .SAMEROW
00001B74                          1928              ; MOVE TO NEXT ROW
00001B74  3639 00001B8E           1929              MOVE.W  (.STARTX),D3
00001B7A  5842                    1930              ADDQ.W  #BLOCKSZ,D2
00001B7C  51CE FFE2               1931  .SAMEROW    DBRA    D6,.LOOP2
00001B80                          1932              
00001B80  2219                    1933              MOVE.L  (A1)+,D1
00001B82  B27C FFFF               1934              CMP.W   #.ENDFLAG,D1
00001B86  66CA                    1935              BNE     .LOOP1
00001B88                          1936              
00001B88                          1937              
00001B88  4CDF 02FF               1938              MOVEM.L (A7)+,A1/D0-D7
00001B8C  4E75                    1939              RTS
00001B8E                          1940         
00001B8E  =FFFFFFFF               1941  .ENDFLAG    EQU     $FFFFFFFF
00001B8E                          1942  
00001B8E                          1943  .STARTX     DS.W    1
00001B90                          1944  
00001B90                          1945  
00001B90                          1946  
00001B90                          1947  
00001B90                          1948  
00001B90                          1949  
00001B90                          1950  
00001B90                          1951  -------------------- end include --------------------
00001B90                          1952              INCLUDE "BUTTON.X68"            ; BUTTONS MANAGEMENT
00001B90                          1953  ; =============================================================================
00001B90                          1954  ; BUTTON MANAGEMENT (AGENT)
00001B90                          1955  ; BUTTON LEFT POS X (W)         (A0)
00001B90                          1956  ; BUTTON TOP POS Y (W)          2(A0)
00001B90                          1957  ; BUTTON RIGHT POS X (W)        4(A0)
00001B90                          1958  ; BUTTON BOTTOM POS Y (W)       6(A0)
00001B90                          1959  ; BUTTON POINTER TO TEXT (L)    10(A0)
00001B90                          1960  ; BUTTON NEXT STATE (W)         14(A0)
00001B90                          1961  ; BUTTON STATE (BOOL HOVER)     16(A0)
00001B90                          1962  ; =============================================================================
00001B90                          1963  
00001B90                          1964  ; ------------------------------------------------------------------------------
00001B90                          1965  BUTINIT
00001B90                          1966  ; INITS A BUTTON
00001B90                          1967  ; INPUT    : A0 POINTER TO INSTANCE VARIABLES
00001B90                          1968  ;            A4 POINTER TO ZERO-TERMINATED STRING
00001B90                          1969  ;            D1.W LEFT POS X
00001B90                          1970  ;            D2.W TOP POS Y
00001B90                          1971  ;            D3.W RIGHT POS X
00001B90                          1972  ;            D4.W BOT POS Y
00001B90                          1973  ;            D5.W STATE TO CHANGE WHEN PRESSED
00001B90                          1974  ; OUTPUT   : NONE
00001B90                          1975  ; MODIFIES : NONE
00001B90                          1976  ; ------------------------------------------------------------------------------
00001B90                          1977              
00001B90  3081                    1978              MOVE.W  D1,(A0)
00001B92  3142 0002               1979              MOVE.W  D2,2(A0)
00001B96  3143 0004               1980              MOVE.W  D3,4(A0)
00001B9A  3144 0006               1981              MOVE.W  D4,6(A0)
00001B9E  214C 000A               1982              MOVE.L  A4,10(A0)
00001BA2  3145 000E               1983              MOVE.W  D5,14(A0)
00001BA6  4228 0010               1984              CLR.B   16(A0)
00001BAA                          1985              
00001BAA  4E75                    1986              RTS
00001BAC                          1987  
00001BAC                          1988  ; ------------------------------------------------------------------------------
00001BAC                          1989  BUTUPD
00001BAC                          1990  ; UPDATES BUTTON STATUS
00001BAC                          1991  ; INPUT    : A0 POINTER TO INSTANCE VARIABLES
00001BAC                          1992  ; OUTPUT   : NONE
00001BAC                          1993  ; MODIFIES : NONE
00001BAC                          1994  ; ------------------------------------------------------------------------------
00001BAC                          1995  
00001BAC  48E7 C000               1996              MOVEM.L D0-D1,-(A7)
00001BB0                          1997              
00001BB0                          1998              ; CHECK IF HOVER
00001BB0  2239 0000289E           1999              MOVE.L  (MOUPOS),D1
00001BB6  3001                    2000              MOVE.W  D1,D0           ; X MOUSE POS
00001BB8  C2BC FFFF0000           2001              AND.L   #$FFFF0000,D1
00001BBE  E199                    2002              ROL.L   #8,D1           
00001BC0  E199                    2003              ROL.L   #8,D1           ; Y MOUSE POS
00001BC2  B050                    2004              CMP.W   (A0),D0
00001BC4  6D00 003A               2005              BLT     .NOHOVER
00001BC8  B068 0004               2006              CMP.W   4(A0),D0
00001BCC  6E00 0032               2007              BGT     .NOHOVER
00001BD0  B268 0002               2008              CMP.W   2(A0),D1
00001BD4  6D00 002A               2009              BLT     .NOHOVER
00001BD8  B268 0006               2010              CMP.W   6(A0),D1
00001BDC  6E00 0022               2011              BGT     .NOHOVER
00001BE0                          2012              ; SET STATE TO HOVER
00001BE0  117C 0001 0010          2013              MOVE.B  #1,16(A0)
00001BE6                          2014              
00001BE6                          2015              ; CHANGE STATE IN CASE MOUSE IS PRESSED
00001BE6  1039 000028A2           2016              MOVE.B  MOUVAL,D0
00001BEC  C03C 0007               2017              AND.B   #7,D0           ; LEFT, RIGHT OR MID MOUSE BUTTON WORKS
00001BF0  6700 0012               2018              BEQ     .END
00001BF4  33E8 000E 000028C6      2019              MOVE.W  14(A0),(STANEXT)
00001BFC  6000 0006               2020              BRA     .END
00001C00                          2021              
00001C00                          2022              
00001C00                          2023              ; SET STATE TO NOT HOVER
00001C00  4228 0010               2024  .NOHOVER    CLR.B   16(A0)
00001C04                          2025  
00001C04  4CDF 0003               2026  .END        MOVEM.L (A7)+,D0-D1
00001C08  4E75                    2027              RTS
00001C0A                          2028  
00001C0A                          2029  ; ------------------------------------------------------------------------------
00001C0A                          2030  BUTPLOT
00001C0A                          2031  ; PLOTS THE BUTTON
00001C0A                          2032  ; INPUT    : A0 POINTER TO INSTANCE VARIABLES
00001C0A                          2033  ; OUTPUT   : NONE
00001C0A                          2034  ; MODIFIES : NONE
00001C0A                          2035  ; ------------------------------------------------------------------------------
00001C0A                          2036              
00001C0A  48E7 F8C0               2037              MOVEM.L A0-A1/D0-D4,-(A7)
00001C0E                          2038              
00001C0E                          2039              ; SET COLORS
00001C0E  223C 0018732C           2040              MOVE.L  #BUTCOLOR,D1    ; SET PEN COLOR
00001C14  103C 0050               2041              MOVE.B  #80,D0
00001C18  4E4F                    2042              TRAP    #15
00001C1A  1028 0010               2043              MOVE.B  16(A0),D0       ; SET FILL COLOR
00001C1E  6700 0008               2044              BEQ     .NOHOVER
00001C22  223C 0035DE3B           2045              MOVE.L  #BUTHVCLR,D1
00001C28  103C 0051               2046  .NOHOVER    MOVE.B  #81,D0
00001C2C  4E4F                    2047              TRAP    #15
00001C2E                          2048              ; SET COORDS
00001C2E  103C 0057               2049              MOVE.B  #87,D0
00001C32  3210                    2050              MOVE.W  (A0),D1
00001C34  3428 0002               2051              MOVE.W  2(A0),D2
00001C38  3628 0004               2052              MOVE.W  4(A0),D3
00001C3C  3828 0006               2053              MOVE.W  6(A0),D4
00001C40  4E4F                    2054              TRAP    #15
00001C42                          2055              
00001C42                          2056              ; DRAW BUTTON TEXT
00001C42  4240                    2057              CLR.W   D0              ; COUNT TEXT LENGTH
00001C44  2268 000A               2058              MOVE.L  10(A0),A1
00001C48  4A19                    2059  .LOOP       TST.B   (A1)+
00001C4A  6700 0008               2060              BEQ     .ENDLOOP
00001C4E  0600 000C               2061              ADD.B   #TXTSIZE-2,D0
00001C52  60F4                    2062              BRA     .LOOP
00001C54  9641                    2063  .ENDLOOP    SUB.W   D1,D3           ; BUTTON WIDTH
00001C56  9640                    2064              SUB.W   D0,D3           
00001C58  E24B                    2065              LSR.W   #1,D3           ; LEFT TEXT MARGIN
00001C5A  D243                    2066              ADD.W   D3,D1           ; X TEXT POSITION
00001C5C  9842                    2067              SUB.W   D2,D4           ; BUTTON HEIGHT
00001C5E  0444 000C               2068              SUB.W   #TXTSIZE-2,D4     
00001C62  E24C                    2069              LSR.W   #1,D4           ; TOP TEXT MARGIN
00001C64  D444                    2070              ADD.W   D4,D2           ; Y TEXT POSITION
00001C66  2268 000A               2071              MOVEA.L 10(A0),A1
00001C6A  103C 005F               2072              MOVE.B  #95,D0
00001C6E  4E4F                    2073              TRAP    #15
00001C70                          2074              
00001C70                          2075              
00001C70  4CDF 031F               2076              MOVEM.L (A7)+,A0-A1/D0-D4
00001C74  4E75                    2077              RTS
00001C76                          2078  
00001C76                          2079  
00001C76                          2080  
00001C76                          2081  
00001C76                          2082  
00001C76                          2083  
00001C76                          2084  
00001C76                          2085  
00001C76                          2086  
00001C76                          2087  
00001C76                          2088  
00001C76                          2089  
00001C76                          2090  
00001C76                          2091  
00001C76                          2092  
00001C76                          2093  
00001C76                          2094  
00001C76                          2095  -------------------- end include --------------------
00001C76                          2096              
00001C76                          2097  ; --- DATA INCLUDES -----------------------------------------------------------
00001C76                          2098  
00001C76                          2099              INCLUDE "DATA/CLOUDSDATA.X68"    ; CLOUD IMAGES DATA
00001C76                          2100  ; =============================================================================
00001C76                          2101  ; THIS FILE HAS BEEN GENERATED BY CLOUDSCONVERTER.JAVA FROM CLOUD IMAGES.
00001C76                          2102  ; TO IMPROVE PERFORMANCE, EACH BLOCK ACTS LIKE A PIXEL, BUT IT'S ACTUALLY A 
00001C76                          2103  ;4x4 SQUARE. IMAGES ARE ADDAPTED TO IMAGE.X68 DRAWING.
00001C76                          2104  ; =============================================================================
00001C76                          2105  
00001C76                          2106  
00001C76                          2107  ; -----------------------------------------------------------------------------
00001C76                          2108  ; EVERY CLOUD DATA STORES:
00001C76                          2109  ; ONE WORD TO STORE THE CLOUD WIDTH IN BLOCKS.
00001C76                          2110  ; TWO LONGS PAIRS STORING A COLOR AND THE AMMOUNT OF BLOCKS WITH THE SAME COLOR
00001C76                          2111  ; IN A ROW.
00001C76                          2112  ; EVERY IMAGE ENDS WITH A FLAG $FFFFFFFF
00001C76                          2113  ; -----------------------------------------------------------------------------
00001C76                          2114  
00001C76= 0070                    2115  CLOUD0W     DC.W    112
00001C78                          2116  CLOUD0
00001C78= 00FFBF80 0000002C       2117              DC.L    $00FFBF80,44
00001C80= 00FEFDFB 00000008       2118              DC.L    $00FEFDFB,8
00001C88= 00DCDCDC 00000001       2119              DC.L    $00DCDCDC,1
00001C90= 00FFBF80 00000012       2120              DC.L    $00FFBF80,18
00001C98= 00FEFDFB 0000000B       2121              DC.L    $00FEFDFB,11
00001CA0= 00FFBF80 00000010       2122              DC.L    $00FFBF80,16
00001CA8= 00FEFDFB 0000000D       2123              DC.L    $00FEFDFB,13
00001CB0= 00FFBF80 00000007       2124              DC.L    $00FFBF80,7
00001CB8= 00DCDCDC 00000001       2125              DC.L    $00DCDCDC,1
00001CC0= 00FEFDFB 00000005       2126              DC.L    $00FEFDFB,5
00001CC8= 00FFBF80 00000001       2127              DC.L    $00FFBF80,1
00001CD0= 00DCDCDC 00000001       2128              DC.L    $00DCDCDC,1
00001CD8= 00FEFDFB 0000000D       2129              DC.L    $00FEFDFB,13
00001CE0= 00DCDCDC 00000001       2130              DC.L    $00DCDCDC,1
00001CE8= 00FFBF80 00000005       2131              DC.L    $00FFBF80,5
00001CF0= 00FEFDFB 00000016       2132              DC.L    $00FEFDFB,22
00001CF8= 00DCDCDC 00000001       2133              DC.L    $00DCDCDC,1
00001D00= 00FFBF80 00000005       2134              DC.L    $00FFBF80,5
00001D08= 00FEFDFB 00000002       2135              DC.L    $00FEFDFB,2
00001D10= 00DCDCDC 00000001       2136              DC.L    $00DCDCDC,1
00001D18= 00FEFDFB 00000013       2137              DC.L    $00FEFDFB,19
00001D20= 00DCDCDC 00000001       2138              DC.L    $00DCDCDC,1
00001D28= 00FFBF80 00000004       2139              DC.L    $00FFBF80,4
00001D30= 00FEFDFB 00000017       2140              DC.L    $00FEFDFB,23
00001D38= 00FFBF80 00000002       2141              DC.L    $00FFBF80,2
00001D40= 00DCDCDC 00000001       2142              DC.L    $00DCDCDC,1
00001D48= 00FEFDFB 00000016       2143              DC.L    $00FEFDFB,22
00001D50= 00DCDCDC 00000001       2144              DC.L    $00DCDCDC,1
00001D58= 00FEFDFB 00000002       2145              DC.L    $00FEFDFB,2
00001D60= 00FFBF80 00000002       2146              DC.L    $00FFBF80,2
00001D68= 00DCDCDC 00000001       2147              DC.L    $00DCDCDC,1
00001D70= 00FEFDFB 00000001       2148              DC.L    $00FEFDFB,1
00001D78= 00DCDCDC 00000001       2149              DC.L    $00DCDCDC,1
00001D80= 00FEFDFB 00000008       2150              DC.L    $00FEFDFB,8
00001D88= 00DCDCDC 00000002       2151              DC.L    $00DCDCDC,2
00001D90= 00FEFDFB 00000009       2152              DC.L    $00FEFDFB,9
00001D98= 00DCDCDC 00000004       2153              DC.L    $00DCDCDC,4
00001DA0= 00FFBF80 00000003       2154              DC.L    $00FFBF80,3
00001DA8= 00DCDCDC 00000018       2155              DC.L    $00DCDCDC,24
00001DB0= 00FFBF80 0000001E       2156              DC.L    $00FFBF80,30
00001DB8= FFFFFFFF                2157              DC.L    $FFFFFFFF
00001DBC                          2158  
00001DBC                          2159  
00001DBC= 0060                    2160  CLOUD1W     DC.W    96
00001DBE                          2161  CLOUD1
00001DBE= 00FFBF80 00000020       2162              DC.L    $00FFBF80,32
00001DC6= 00DCDCDC 00000001       2163              DC.L    $00DCDCDC,1
00001DCE= 00FEFDFB 00000006       2164              DC.L    $00FEFDFB,6
00001DD6= 00FFBF80 0000000F       2165              DC.L    $00FFBF80,15
00001DDE= 00DCDCDC 00000001       2166              DC.L    $00DCDCDC,1
00001DE6= 00FEFDFB 00000009       2167              DC.L    $00FEFDFB,9
00001DEE= 00FFBF80 0000000E       2168              DC.L    $00FFBF80,14
00001DF6= 00FEFDFB 00000007       2169              DC.L    $00FEFDFB,7
00001DFE= 00DCDCDC 00000002       2170              DC.L    $00DCDCDC,2
00001E06= 00FEFDFB 00000001       2171              DC.L    $00FEFDFB,1
00001E0E= 00DCDCDC 00000001       2172              DC.L    $00DCDCDC,1
00001E16= 00FFBF80 0000000C       2173              DC.L    $00FFBF80,12
00001E1E= 00DCDCDC 00000001       2174              DC.L    $00DCDCDC,1
00001E26= 00FEFDFB 00000009       2175              DC.L    $00FEFDFB,9
00001E2E= 00DCDCDC 00000001       2176              DC.L    $00DCDCDC,1
00001E36= 00FEFDFB 00000001       2177              DC.L    $00FEFDFB,1
00001E3E= 00DCDCDC 00000001       2178              DC.L    $00DCDCDC,1
00001E46= 00FEFDFB 00000001       2179              DC.L    $00FEFDFB,1
00001E4E= 00FFBF80 0000000A       2180              DC.L    $00FFBF80,10
00001E56= 00DCDCDC 00000001       2181              DC.L    $00DCDCDC,1
00001E5E= 00FEFDFB 0000000E       2182              DC.L    $00FEFDFB,14
00001E66= 00FFBF80 00000006       2183              DC.L    $00FFBF80,6
00001E6E= 00FEFDFB 00000012       2184              DC.L    $00FEFDFB,18
00001E76= 00DCDCDC 00000001       2185              DC.L    $00DCDCDC,1
00001E7E= 00FFBF80 00000004       2186              DC.L    $00FFBF80,4
00001E86= 00DCDCDC 00000001       2187              DC.L    $00DCDCDC,1
00001E8E= 00FEFDFB 0000000E       2188              DC.L    $00FEFDFB,14
00001E96= 00DCDCDC 00000002       2189              DC.L    $00DCDCDC,2
00001E9E= 00FEFDFB 00000004       2190              DC.L    $00FEFDFB,4
00001EA6= 00DCDCDC 00000001       2191              DC.L    $00DCDCDC,1
00001EAE= 00FFBF80 00000002       2192              DC.L    $00FFBF80,2
00001EB6= 00DCDCDC 00000002       2193              DC.L    $00DCDCDC,2
00001EBE= 00FEFDFB 00000001       2194              DC.L    $00FEFDFB,1
00001EC6= 00DCDCDC 00000003       2195              DC.L    $00DCDCDC,3
00001ECE= 00FEFDFB 00000008       2196              DC.L    $00FEFDFB,8
00001ED6= 00DCDCDC 00000005       2197              DC.L    $00DCDCDC,5
00001EDE= 00FEFDFB 00000001       2198              DC.L    $00FEFDFB,1
00001EE6= 00DCDCDC 00000002       2199              DC.L    $00DCDCDC,2
00001EEE= 00FFBF80 00000019       2200              DC.L    $00FFBF80,25
00001EF6= FFFFFFFF                2201              DC.L    $FFFFFFFF
00001EFA                          2202  
00001EFA                          2203  
00001EFA= 00C6                    2204  CLOUD2W     DC.W    198
00001EFC                          2205  CLOUD2
00001EFC= 00FFBF80 00000014       2206              DC.L    $00FFBF80,20
00001F04= 00DCDCDC 00000004       2207              DC.L    $00DCDCDC,4
00001F0C= 00FFBF80 0000002B       2208              DC.L    $00FFBF80,43
00001F14= 00DCDCDC 00000001       2209              DC.L    $00DCDCDC,1
00001F1C= 00FEFDFB 00000008       2210              DC.L    $00FEFDFB,8
00001F24= 00FFBF80 00000028       2211              DC.L    $00FFBF80,40
00001F2C= 00FEFDFB 0000000B       2212              DC.L    $00FEFDFB,11
00001F34= 00FFBF80 00000026       2213              DC.L    $00FFBF80,38
00001F3C= 00FEFDFB 0000000C       2214              DC.L    $00FEFDFB,12
00001F44= 00FFBF80 00000026       2215              DC.L    $00FFBF80,38
00001F4C= 00FEFDFB 0000000C       2216              DC.L    $00FEFDFB,12
00001F54= 00FFBF80 00000026       2217              DC.L    $00FFBF80,38
00001F5C= 00FEFDFB 0000000C       2218              DC.L    $00FEFDFB,12
00001F64= 00FFBF80 00000021       2219              DC.L    $00FFBF80,33
00001F6C= 00DCDCDC 00000001       2220              DC.L    $00DCDCDC,1
00001F74= 00FEFDFB 00000003       2221              DC.L    $00FEFDFB,3
00001F7C= 00DCDCDC 00000001       2222              DC.L    $00DCDCDC,1
00001F84= 00FEFDFB 0000000B       2223              DC.L    $00FEFDFB,11
00001F8C= 00DCDCDC 00000002       2224              DC.L    $00DCDCDC,2
00001F94= 00FEFDFB 00000003       2225              DC.L    $00FEFDFB,3
00001F9C= 00FFBF80 0000001C       2226              DC.L    $00FFBF80,28
00001FA4= 00DCDCDC 00000001       2227              DC.L    $00DCDCDC,1
00001FAC= 00FEFDFB 00000005       2228              DC.L    $00FEFDFB,5
00001FB4= 00DCDCDC 00000001       2229              DC.L    $00DCDCDC,1
00001FBC= 00FEFDFB 0000000F       2230              DC.L    $00FEFDFB,15
00001FC4= 00DCDCDC 00000001       2231              DC.L    $00DCDCDC,1
00001FCC= 00FFBF80 00000001       2232              DC.L    $00FFBF80,1
00001FD4= 00FEFDFB 00000001       2233              DC.L    $00FEFDFB,1
00001FDC= 00DCDCDC 00000001       2234              DC.L    $00DCDCDC,1
00001FE4= 00FFBF80 00000006       2235              DC.L    $00FFBF80,6
00001FEC= 00DCDCDC 00000003       2236              DC.L    $00DCDCDC,3
00001FF4= 00FFBF80 0000000F       2237              DC.L    $00FFBF80,15
00001FFC= 00FEFDFB 0000001C       2238              DC.L    $00FEFDFB,28
00002004= 00FFBF80 00000003       2239              DC.L    $00FFBF80,3
0000200C= 00FEFDFB 00000004       2240              DC.L    $00FEFDFB,4
00002014= 00FFBF80 0000000F       2241              DC.L    $00FFBF80,15
0000201C= 00DCDCDC 00000001       2242              DC.L    $00DCDCDC,1
00002024= 00FEFDFB 0000000C       2243              DC.L    $00FEFDFB,12
0000202C= 00DCDCDC 00000002       2244              DC.L    $00DCDCDC,2
00002034= 00FEFDFB 0000000D       2245              DC.L    $00FEFDFB,13
0000203C= 00FFBF80 00000002       2246              DC.L    $00FFBF80,2
00002044= 00DCDCDC 00000001       2247              DC.L    $00DCDCDC,1
0000204C= 00FEFDFB 00000004       2248              DC.L    $00FEFDFB,4
00002054= 00FFBF80 00000007       2249              DC.L    $00FFBF80,7
0000205C= 00DCDCDC 00000003       2250              DC.L    $00DCDCDC,3
00002064= 00FFBF80 00000004       2251              DC.L    $00FFBF80,4
0000206C= 00DCDCDC 00000002       2252              DC.L    $00DCDCDC,2
00002074= 00FEFDFB 0000001A       2253              DC.L    $00FEFDFB,26
0000207C= 00DCDCDC 00000002       2254              DC.L    $00DCDCDC,2
00002084= 00FFBF80 00000002       2255              DC.L    $00FFBF80,2
0000208C= 00FEFDFB 00000004       2256              DC.L    $00FEFDFB,4
00002094= 00FFBF80 00000003       2257              DC.L    $00FFBF80,3
0000209C= 00DCDCDC 00000001       2258              DC.L    $00DCDCDC,1
000020A4= 00FFBF80 00000003       2259              DC.L    $00FFBF80,3
000020AC= 00FEFDFB 00000003       2260              DC.L    $00FEFDFB,3
000020B4= 00DCDCDC 00000001       2261              DC.L    $00DCDCDC,1
000020BC= 00FFBF80 00000003       2262              DC.L    $00FFBF80,3
000020C4= 00DCDCDC 00000003       2263              DC.L    $00DCDCDC,3
000020CC= 00FEFDFB 00000015       2264              DC.L    $00FEFDFB,21
000020D4= 00DCDCDC 00000006       2265              DC.L    $00DCDCDC,6
000020DC= 00FFBF80 00000002       2266              DC.L    $00FFBF80,2
000020E4= 00FEFDFB 00000004       2267              DC.L    $00FEFDFB,4
000020EC= 00FFBF80 00000002       2268              DC.L    $00FFBF80,2
000020F4= 00FEFDFB 00000002       2269              DC.L    $00FEFDFB,2
000020FC= 00DCDCDC 00000001       2270              DC.L    $00DCDCDC,1
00002104= 00FFBF80 00000001       2271              DC.L    $00FFBF80,1
0000210C= 00DCDCDC 00000001       2272              DC.L    $00DCDCDC,1
00002114= 00FEFDFB 00000004       2273              DC.L    $00FEFDFB,4
0000211C= 00FFBF80 00000004       2274              DC.L    $00FFBF80,4
00002124= 00DCDCDC 00000008       2275              DC.L    $00DCDCDC,8
0000212C= 00FEFDFB 00000008       2276              DC.L    $00FEFDFB,8
00002134= 00DCDCDC 0000000C       2277              DC.L    $00DCDCDC,12
0000213C= 00FFBF80 00000003       2278              DC.L    $00FFBF80,3
00002144= 00DCDCDC 00000003       2279              DC.L    $00DCDCDC,3
0000214C= 00FFBF80 00000008       2280              DC.L    $00FFBF80,8
00002154= 00DCDCDC 00000001       2281              DC.L    $00DCDCDC,1
0000215C= 00FEFDFB 00000002       2282              DC.L    $00FEFDFB,2
00002164= 00FFBF80 00000005       2283              DC.L    $00FFBF80,5
0000216C= 00DCDCDC 0000001B       2284              DC.L    $00DCDCDC,27
00002174= 00FFBF80 00000040       2285              DC.L    $00FFBF80,64
0000217C= FFFFFFFF                2286              DC.L    $FFFFFFFF
00002180                          2287  
00002180                          2288  
00002180= 0031                    2289  CLOUD3W     DC.W    49
00002182                          2290  CLOUD3
00002182= 00FFBF80 00000011       2291              DC.L    $00FFBF80,17
0000218A= 00DCDCDC 00000001       2292              DC.L    $00DCDCDC,1
00002192= 00FEFDFB 00000003       2293              DC.L    $00FEFDFB,3
0000219A= 00FFBF80 00000009       2294              DC.L    $00FFBF80,9
000021A2= 00FEFDFB 00000004       2295              DC.L    $00FEFDFB,4
000021AA= 00DCDCDC 00000001       2296              DC.L    $00DCDCDC,1
000021B2= 00FFBF80 00000006       2297              DC.L    $00FFBF80,6
000021BA= 00FEFDFB 00000001       2298              DC.L    $00FEFDFB,1
000021C2= 00DCDCDC 00000001       2299              DC.L    $00DCDCDC,1
000021CA= 00FEFDFB 00000006       2300              DC.L    $00FEFDFB,6
000021D2= 00DCDCDC 00000001       2301              DC.L    $00DCDCDC,1
000021DA= 00FFBF80 00000003       2302              DC.L    $00FFBF80,3
000021E2= 00FEFDFB 0000000A       2303              DC.L    $00FEFDFB,10
000021EA= 00FFBF80 00000003       2304              DC.L    $00FFBF80,3
000021F2= 00DCDCDC 00000001       2305              DC.L    $00DCDCDC,1
000021FA= 00FEFDFB 00000008       2306              DC.L    $00FEFDFB,8
00002202= 00DCDCDC 00000001       2307              DC.L    $00DCDCDC,1
0000220A= 00FFBF80 0000001C       2308              DC.L    $00FFBF80,28
00002212= FFFFFFFF                2309              DC.L    $FFFFFFFF
00002216                          2310  
00002216                          2311  
00002216= 00AF                    2312  CLOUD4W     DC.W    175
00002218                          2313  CLOUD4
00002218= 00FFBF80 0000003B       2314              DC.L    $00FFBF80,59
00002220= 00DCDCDC 00000001       2315              DC.L    $00DCDCDC,1
00002228= 00FEFDFB 00000006       2316              DC.L    $00FEFDFB,6
00002230= 00FFBF80 00000024       2317              DC.L    $00FFBF80,36
00002238= 00FEFDFB 00000009       2318              DC.L    $00FEFDFB,9
00002240= 00DCDCDC 00000001       2319              DC.L    $00DCDCDC,1
00002248= 00FFBF80 00000021       2320              DC.L    $00FFBF80,33
00002250= 00FEFDFB 0000000C       2321              DC.L    $00FEFDFB,12
00002258= 00FFBF80 0000001F       2322              DC.L    $00FFBF80,31
00002260= 00DCDCDC 00000001       2323              DC.L    $00DCDCDC,1
00002268= 00FEFDFB 00000005       2324              DC.L    $00FEFDFB,5
00002270= 00DCDCDC 00000001       2325              DC.L    $00DCDCDC,1
00002278= 00FEFDFB 00000006       2326              DC.L    $00FEFDFB,6
00002280= 00DCDCDC 00000001       2327              DC.L    $00DCDCDC,1
00002288= 00FFBF80 0000001E       2328              DC.L    $00FFBF80,30
00002290= 00FEFDFB 0000000E       2329              DC.L    $00FEFDFB,14
00002298= 00FFBF80 0000001E       2330              DC.L    $00FFBF80,30
000022A0= 00DCDCDC 00000001       2331              DC.L    $00DCDCDC,1
000022A8= 00FEFDFB 0000000D       2332              DC.L    $00FEFDFB,13
000022B0= 00FFBF80 00000019       2333              DC.L    $00FFBF80,25
000022B8= 00FEFDFB 00000004       2334              DC.L    $00FEFDFB,4
000022C0= 00DCDCDC 00000003       2335              DC.L    $00DCDCDC,3
000022C8= 00FEFDFB 0000000B       2336              DC.L    $00FEFDFB,11
000022D0= 00DCDCDC 00000001       2337              DC.L    $00DCDCDC,1
000022D8= 00FEFDFB 00000002       2338              DC.L    $00FEFDFB,2
000022E0= 00FFBF80 00000016       2339              DC.L    $00FFBF80,22
000022E8= 00FEFDFB 00000017       2340              DC.L    $00FEFDFB,23
000022F0= 00FFBF80 0000000A       2341              DC.L    $00FFBF80,10
000022F8= 00DCDCDC 00000002       2342              DC.L    $00DCDCDC,2
00002300= 00FFBF80 00000008       2343              DC.L    $00FFBF80,8
00002308= 00FEFDFB 00000018       2344              DC.L    $00FEFDFB,24
00002310= 00DCDCDC 00000001       2345              DC.L    $00DCDCDC,1
00002318= 00FFBF80 00000008       2346              DC.L    $00FFBF80,8
00002320= 00FEFDFB 00000005       2347              DC.L    $00FEFDFB,5
00002328= 00FFBF80 00000006       2348              DC.L    $00FFBF80,6
00002330= 00FEFDFB 00000010       2349              DC.L    $00FEFDFB,16
00002338= 00DCDCDC 00000001       2350              DC.L    $00DCDCDC,1
00002340= 00FEFDFB 00000006       2351              DC.L    $00FEFDFB,6
00002348= 00DCDCDC 00000002       2352              DC.L    $00DCDCDC,2
00002350= 00FFBF80 00000008       2353              DC.L    $00FFBF80,8
00002358= 00FEFDFB 00000005       2354              DC.L    $00FEFDFB,5
00002360= 00FFBF80 00000003       2355              DC.L    $00FFBF80,3
00002368= 00DCDCDC 00000005       2356              DC.L    $00DCDCDC,5
00002370= 00FEFDFB 0000000D       2357              DC.L    $00FEFDFB,13
00002378= 00DCDCDC 00000001       2358              DC.L    $00DCDCDC,1
00002380= 00FEFDFB 00000006       2359              DC.L    $00FEFDFB,6
00002388= 00DCDCDC 00000007       2360              DC.L    $00DCDCDC,7
00002390= 00FFBF80 00000004       2361              DC.L    $00FFBF80,4
00002398= 00DCDCDC 00000001       2362              DC.L    $00DCDCDC,1
000023A0= 00FEFDFB 00000003       2363              DC.L    $00FEFDFB,3
000023A8= 00DCDCDC 00000001       2364              DC.L    $00DCDCDC,1
000023B0= 00FFBF80 00000002       2365              DC.L    $00FFBF80,2
000023B8= 00DCDCDC 00000009       2366              DC.L    $00DCDCDC,9
000023C0= 00FEFDFB 0000000A       2367              DC.L    $00FEFDFB,10
000023C8= 00DCDCDC 00000002       2368              DC.L    $00DCDCDC,2
000023D0= 00FEFDFB 00000003       2369              DC.L    $00FEFDFB,3
000023D8= 00DCDCDC 0000000A       2370              DC.L    $00DCDCDC,10
000023E0= 00FFBF80 00000003       2371              DC.L    $00FFBF80,3
000023E8= 00DCDCDC 00000002       2372              DC.L    $00DCDCDC,2
000023F0= 00FEFDFB 00000001       2373              DC.L    $00FEFDFB,1
000023F8= 00DCDCDC 00000002       2374              DC.L    $00DCDCDC,2
00002400= 00FFBF80 00000002       2375              DC.L    $00FFBF80,2
00002408= 00DCDCDC 00000022       2376              DC.L    $00DCDCDC,34
00002410= 00FFBF80 00000035       2377              DC.L    $00FFBF80,53
00002418= FFFFFFFF                2378              DC.L    $FFFFFFFF
0000241C                          2379  
0000241C                          2380  
0000241C= 0089                    2381  CLOUD5W     DC.W    137
0000241E                          2382  CLOUD5
0000241E= 00FFBF80 0000002F       2383              DC.L    $00FFBF80,47
00002426= 00FEFDFB 00000008       2384              DC.L    $00FEFDFB,8
0000242E= 00DCDCDC 00000001       2385              DC.L    $00DCDCDC,1
00002436= 00FFBF80 00000019       2386              DC.L    $00FFBF80,25
0000243E= 00FEFDFB 0000000A       2387              DC.L    $00FEFDFB,10
00002446= 00DCDCDC 00000001       2388              DC.L    $00DCDCDC,1
0000244E= 00FFBF80 00000018       2389              DC.L    $00FFBF80,24
00002456= 00FEFDFB 0000000B       2390              DC.L    $00FEFDFB,11
0000245E= 00FFBF80 00000017       2391              DC.L    $00FFBF80,23
00002466= 00FEFDFB 00000009       2392              DC.L    $00FEFDFB,9
0000246E= 00DCDCDC 00000001       2393              DC.L    $00DCDCDC,1
00002476= 00FEFDFB 00000002       2394              DC.L    $00FEFDFB,2
0000247E= 00FFBF80 00000001       2395              DC.L    $00FFBF80,1
00002486= 00FEFDFB 00000003       2396              DC.L    $00FEFDFB,3
0000248E= 00FFBF80 00000010       2397              DC.L    $00FFBF80,16
00002496= 00DCDCDC 00000001       2398              DC.L    $00DCDCDC,1
0000249E= 00FEFDFB 0000000E       2399              DC.L    $00FEFDFB,14
000024A6= 00DCDCDC 00000001       2400              DC.L    $00DCDCDC,1
000024AE= 00FEFDFB 00000004       2401              DC.L    $00FEFDFB,4
000024B6= 00DCDCDC 00000001       2402              DC.L    $00DCDCDC,1
000024BE= 00FFBF80 0000000E       2403              DC.L    $00FFBF80,14
000024C6= 00FEFDFB 00000004       2404              DC.L    $00FEFDFB,4
000024CE= 00DCDCDC 00000001       2405              DC.L    $00DCDCDC,1
000024D6= 00FEFDFB 00000009       2406              DC.L    $00FEFDFB,9
000024DE= 00DCDCDC 00000001       2407              DC.L    $00DCDCDC,1
000024E6= 00FEFDFB 00000006       2408              DC.L    $00FEFDFB,6
000024EE= 00FFBF80 0000000D       2409              DC.L    $00FFBF80,13
000024F6= 00FEFDFB 00000016       2410              DC.L    $00FEFDFB,22
000024FE= 00DCDCDC 00000001       2411              DC.L    $00DCDCDC,1
00002506= 00FEFDFB 00000001       2412              DC.L    $00FEFDFB,1
0000250E= 00FFBF80 0000000B       2413              DC.L    $00FFBF80,11
00002516= 00DCDCDC 00000001       2414              DC.L    $00DCDCDC,1
0000251E= 00FEFDFB 00000002       2415              DC.L    $00FEFDFB,2
00002526= 00DCDCDC 00000001       2416              DC.L    $00DCDCDC,1
0000252E= 00FEFDFB 00000015       2417              DC.L    $00FEFDFB,21
00002536= 00DCDCDC 00000001       2418              DC.L    $00DCDCDC,1
0000253E= 00FFBF80 00000006       2419              DC.L    $00FFBF80,6
00002546= 00DCDCDC 00000001       2420              DC.L    $00DCDCDC,1
0000254E= 00FEFDFB 00000004       2421              DC.L    $00FEFDFB,4
00002556= 00DCDCDC 00000003       2422              DC.L    $00DCDCDC,3
0000255E= 00FEFDFB 0000000F       2423              DC.L    $00FEFDFB,15
00002566= 00DCDCDC 00000001       2424              DC.L    $00DCDCDC,1
0000256E= 00FEFDFB 00000004       2425              DC.L    $00FEFDFB,4
00002576= 00DCDCDC 00000001       2426              DC.L    $00DCDCDC,1
0000257E= 00FFBF80 00000004       2427              DC.L    $00FFBF80,4
00002586= 00DCDCDC 00000020       2428              DC.L    $00DCDCDC,32
0000258E= 00FFBF80 00000025       2429              DC.L    $00FFBF80,37
00002596= FFFFFFFF                2430              DC.L    $FFFFFFFF
0000259A                          2431  
0000259A                          2432  
0000259A= 005D                    2433  CLOUD6W     DC.W    93
0000259C                          2434  CLOUD6
0000259C= 00FFBF80 0000001E       2435              DC.L    $00FFBF80,30
000025A4= 00DCDCDC 00000001       2436              DC.L    $00DCDCDC,1
000025AC= 00FEFDFB 00000004       2437              DC.L    $00FEFDFB,4
000025B4= 00DCDCDC 00000001       2438              DC.L    $00DCDCDC,1
000025BC= 00FFBF80 00000011       2439              DC.L    $00FFBF80,17
000025C4= 00FEFDFB 00000007       2440              DC.L    $00FEFDFB,7
000025CC= 00DCDCDC 00000001       2441              DC.L    $00DCDCDC,1
000025D4= 00FFBF80 00000002       2442              DC.L    $00FFBF80,2
000025DC= 00DCDCDC 00000002       2443              DC.L    $00DCDCDC,2
000025E4= 00FFBF80 0000000C       2444              DC.L    $00FFBF80,12
000025EC= 00FEFDFB 00000007       2445              DC.L    $00FEFDFB,7
000025F4= 00DCDCDC 00000002       2446              DC.L    $00DCDCDC,2
000025FC= 00FEFDFB 00000005       2447              DC.L    $00FEFDFB,5
00002604= 00FFBF80 00000009       2448              DC.L    $00FFBF80,9
0000260C= 00FEFDFB 00000007       2449              DC.L    $00FEFDFB,7
00002614= 00DCDCDC 00000001       2450              DC.L    $00DCDCDC,1
0000261C= 00FEFDFB 00000007       2451              DC.L    $00FEFDFB,7
00002624= 00FFBF80 00000009       2452              DC.L    $00FFBF80,9
0000262C= 00FEFDFB 00000009       2453              DC.L    $00FEFDFB,9
00002634= 00DCDCDC 00000001       2454              DC.L    $00DCDCDC,1
0000263C= 00FEFDFB 00000005       2455              DC.L    $00FEFDFB,5
00002644= 00FFBF80 00000008       2456              DC.L    $00FFBF80,8
0000264C= 00FEFDFB 00000010       2457              DC.L    $00FEFDFB,16
00002654= 00FFBF80 00000007       2458              DC.L    $00FFBF80,7
0000265C= 00DCDCDC 00000001       2459              DC.L    $00DCDCDC,1
00002664= 00FEFDFB 00000010       2460              DC.L    $00FEFDFB,16
0000266C= 00DCDCDC 00000003       2461              DC.L    $00DCDCDC,3
00002674= 00FFBF80 00000003       2462              DC.L    $00FFBF80,3
0000267C= 00DCDCDC 00000004       2463              DC.L    $00DCDCDC,4
00002684= 00FEFDFB 0000000B       2464              DC.L    $00FEFDFB,11
0000268C= 00DCDCDC 00000006       2465              DC.L    $00DCDCDC,6
00002694= 00FFBF80 00000003       2466              DC.L    $00FFBF80,3
0000269C= 00DCDCDC 00000007       2467              DC.L    $00DCDCDC,7
000026A4= 00FEFDFB 00000006       2468              DC.L    $00FEFDFB,6
000026AC= 00DCDCDC 00000007       2469              DC.L    $00DCDCDC,7
000026B4= 00FFBF80 0000001B       2470              DC.L    $00FFBF80,27
000026BC= FFFFFFFF                2471              DC.L    $FFFFFFFF
000026C0                          2472  
000026C0                          2473  
000026C0= 0077                    2474  CLOUD7W     DC.W    119
000026C2                          2475  CLOUD7
000026C2= 00FFBF80 00000028       2476              DC.L    $00FFBF80,40
000026CA= 00DCDCDC 00000002       2477              DC.L    $00DCDCDC,2
000026D2= 00FEFDFB 00000004       2478              DC.L    $00FEFDFB,4
000026DA= 00DCDCDC 00000001       2479              DC.L    $00DCDCDC,1
000026E2= 00FFBF80 00000016       2480              DC.L    $00FFBF80,22
000026EA= 00FEFDFB 00000006       2481              DC.L    $00FEFDFB,6
000026F2= 00DCDCDC 00000001       2482              DC.L    $00DCDCDC,1
000026FA= 00FEFDFB 00000002       2483              DC.L    $00FEFDFB,2
00002702= 00FFBF80 00000003       2484              DC.L    $00FFBF80,3
0000270A= 00FEFDFB 00000004       2485              DC.L    $00FEFDFB,4
00002712= 00FFBF80 0000000A       2486              DC.L    $00FFBF80,10
0000271A= 00FEFDFB 00000002       2487              DC.L    $00FEFDFB,2
00002722= 00FFBF80 00000002       2488              DC.L    $00FFBF80,2
0000272A= 00FEFDFB 00000009       2489              DC.L    $00FEFDFB,9
00002732= 00DCDCDC 00000002       2490              DC.L    $00DCDCDC,2
0000273A= 00FEFDFB 00000006       2491              DC.L    $00FEFDFB,6
00002742= 00DCDCDC 00000001       2492              DC.L    $00DCDCDC,1
0000274A= 00FFBF80 00000007       2493              DC.L    $00FFBF80,7
00002752= 00FEFDFB 00000004       2494              DC.L    $00FEFDFB,4
0000275A= 00DCDCDC 00000001       2495              DC.L    $00DCDCDC,1
00002762= 00FEFDFB 00000012       2496              DC.L    $00FEFDFB,18
0000276A= 00FFBF80 00000006       2497              DC.L    $00FFBF80,6
00002772= 00DCDCDC 00000001       2498              DC.L    $00DCDCDC,1
0000277A= 00FEFDFB 00000004       2499              DC.L    $00FEFDFB,4
00002782= 00DCDCDC 00000001       2500              DC.L    $00DCDCDC,1
0000278A= 00FEFDFB 00000008       2501              DC.L    $00FEFDFB,8
00002792= 00DCDCDC 00000002       2502              DC.L    $00DCDCDC,2
0000279A= 00FEFDFB 00000008       2503              DC.L    $00FEFDFB,8
000027A2= 00FFBF80 00000006       2504              DC.L    $00FFBF80,6
000027AA= 00FEFDFB 00000011       2505              DC.L    $00FEFDFB,17
000027B2= 00DCDCDC 00000001       2506              DC.L    $00DCDCDC,1
000027BA= 00FEFDFB 00000006       2507              DC.L    $00FEFDFB,6
000027C2= 00DCDCDC 00000001       2508              DC.L    $00DCDCDC,1
000027CA= 00FFBF80 00000004       2509              DC.L    $00FFBF80,4
000027D2= 00DCDCDC 00000001       2510              DC.L    $00DCDCDC,1
000027DA= 00FEFDFB 00000011       2511              DC.L    $00FEFDFB,17
000027E2= 00DCDCDC 00000001       2512              DC.L    $00DCDCDC,1
000027EA= 00FEFDFB 00000005       2513              DC.L    $00FEFDFB,5
000027F2= 00DCDCDC 00000002       2514              DC.L    $00DCDCDC,2
000027FA= 00FFBF80 00000003       2515              DC.L    $00FFBF80,3
00002802= 00DCDCDC 00000004       2516              DC.L    $00DCDCDC,4
0000280A= 00FEFDFB 0000000C       2517              DC.L    $00FEFDFB,12
00002812= 00DCDCDC 00000004       2518              DC.L    $00DCDCDC,4
0000281A= 00FEFDFB 00000004       2519              DC.L    $00FEFDFB,4
00002822= 00DCDCDC 00000004       2520              DC.L    $00DCDCDC,4
0000282A= 00FFBF80 00000002       2521              DC.L    $00FFBF80,2
00002832= 00DCDCDC 00000007       2522              DC.L    $00DCDCDC,7
0000283A= 00FEFDFB 00000006       2523              DC.L    $00FEFDFB,6
00002842= 00DCDCDC 0000000F       2524              DC.L    $00DCDCDC,15
0000284A= 00FFBF80 00000003       2525              DC.L    $00FFBF80,3
00002852= 00DCDCDC 00000019       2526              DC.L    $00DCDCDC,25
0000285A= 00FFBF80 00000021       2527              DC.L    $00FFBF80,33
00002862= FFFFFFFF                2528              DC.L    $FFFFFFFF
00002866                          2529  
00002866                          2530  
00002866                          2531  -------------------- end include --------------------
00002866                          2532              
00002866                          2533  
00002866                          2534  START
00002866                          2535  
00002866                          2536  ; --- INITIALIZATION ----------------------------------------------------------
00002866                          2537  
00002866  007C 0700               2538              ORI.W   #$0700,SR
0000286A  4EB8 1300               2539              JSR     SYSINIT
0000286E  4EB8 119A               2540              JSR     UTLINIT
00002872  4EB8 14BC               2541              JSR     STAINIT
00002876                          2542              
00002876                          2543  .LOOP
00002876                          2544  
00002876                          2545  ; --- UPDATE ------------------------------------------------------------------
00002876                          2546  
00002876                          2547              ; READ INPUT DEVICES
00002876                          2548  
00002876  4E41                    2549              TRAP    #KBDUPDTN
00002878  4E42                    2550              TRAP    #MOUUPDTN
0000287A                          2551  
0000287A  4EB8 14CC               2552              JSR     STAUPD
0000287E                          2553              
0000287E                          2554  ; --- SYNC --------------------------------------------------------------------
0000287E                          2555  
0000287E  4A39 000028A4           2556  .WINT       TST.B   (SCRINTCT)
00002884  67F8                    2557              BEQ     .WINT
00002886  4239 000028A4           2558              CLR.B   (SCRINTCT)
0000288C                          2559              
0000288C                          2560  ; --- PLOT --------------------------------------------------------------------
0000288C                          2561  
0000288C  4EB8 192C               2562              JSR     BACKPLOT
00002890  4EB8 1532               2563              JSR     STAPLOT
00002894                          2564              
00002894  4E40                    2565              TRAP    #SCRUPDTN
00002896                          2566              
00002896  60DE                    2567              BRA     .LOOP
00002898                          2568              
00002898  FFFF FFFF               2569              SIMHALT
0000289C                          2570              
0000289C                          2571  ; --- VARIABLES ---------------------------------------------------------------
0000289C                          2572              
0000289C                          2573              INCLUDE "SYSVARS.X68"       ; SYSTEM VARIABLES
0000289C                          2574  ; =============================================================================
0000289C                          2575  ; SYSTEM VARIABLES
0000289C                          2576  ; =============================================================================
0000289C                          2577  
0000289C                          2578  ; --- KEYBOARD RELATED VARIABLES ----------------------------------------------
0000289C                          2579  
0000289C                          2580  KBDVAL      DS.B    1                       ; KEY STATE
0000289D                          2581  KBDEDGE     DS.B    1                       ; KEY EDGE
0000289E                          2582  
0000289E                          2583  ; --- MOUSE RELATED VARIABLES -------------------------------------------------
0000289E                          2584  
0000289E                          2585  MOUPOS      DS.L    1                       ; MOUSE POSITION (16 BITS Y, 16 BITS X)
000028A2                          2586  MOUVAL      DS.B    1                       ; MOUSE VALUE (0,CTRL,ALT,SHIFT,DOUBLE,MID,RIGHT,LEFT)
000028A4                          2587              DS.W    0
000028A4                          2588  
000028A4                          2589  ; --- TIMED INTERRUPT RELATED VARIABLES ---------------------------------------
000028A4                          2590  
000028A4                          2591  SCRINTCT    DS.B    1                       ; INTERRUPT COUNTER
000028A5                          2592  SCRCYCCT    DS.B    1                       ; SCREEN CYCLE COUNTER
000028A6= 00                      2593  GAMCYCCT    DC.B    0                       ; GAME CYCLE COUNTER
000028A8                          2594              DS.W    0
000028A8                          2595              
000028A8                          2596  ; --- FILE PATHS --------------------------------------------------------------
000028A8                          2597  
000028A8= 44 41 54 41 2F 53 ...   2598  SCOPATH     DC.B     'DATA/SCORES.dat',0
000028B8                          2599              DS.W     0
000028B8                          2600  
000028B8                          2601  
000028B8                          2602  
000028B8                          2603  
000028B8                          2604  
000028B8                          2605  
000028B8                          2606  -------------------- end include --------------------
000028B8                          2607              INCLUDE "VARS.X68"          ; GAME VARIABLES
000028B8                          2608  ; =============================================================================
000028B8                          2609  ; GAME VARIABLES
000028B8                          2610  ; =============================================================================
000028B8                          2611  
000028B8                          2612  ; --- BIRD RELATED VARIABLES --------------------------------------------------
000028B8                          2613  
000028B8= 00F0                    2614  BIRDPOSY    DC.W    SCRHEIGH/2         ; BIRD POSITION Y
000028BA= 0000                    2615  BIRDVELY    DC.W    0                   ; BIRD SPEED Y
000028BC= BBBB                    2616  BIRDPCOL    DC.W    DKYELLOW            ; BIRD PEN COLOR
000028BE= FFFF                    2617  BIRDFCOL    DC.W    LGYELLOW            ; BIRD FILL COLOR
000028C0                          2618  
000028C0                          2619  ; --- SCOREBOARD RELATED VARIABLES --------------------------------------------
000028C0                          2620  
000028C0                          2621  SCORE       DS.W    1                   ; ACTUAL GAME SCORE
000028C2                          2622  HIGHSCO     DS.W    1                   ; HIGH SCORE
000028C4                          2623  
000028C4                          2624  ;  --- STATE RELATED VARIABLES ------------------------------------------------
000028C4                          2625  
000028C4                          2626  STACUR      DS.W    1                   ; CURRENT STATE
000028C6                          2627  STANEXT     DS.W    1                   ; NEXT STATE
000028C8                          2628  
000028C8                          2629  
000028C8                          2630  
000028C8                          2631  
000028C8                          2632  
000028C8                          2633  
000028C8                          2634  
000028C8                          2635  -------------------- end include --------------------
000028C8                          2636              INCLUDE "DATA/STRDATA.X68"  ; STRING DATA STORED ON VARIABLES
000028C8                          2637  ; =============================================================================
000028C8                          2638  ; TEXT DATA
000028C8                          2639  ; =============================================================================
000028C8                          2640  
000028C8                          2641  ; --- SCORE TEXT --------------------------------------------------------------
000028C8                          2642  
000028C8= 53 43 4F 52 45 3A ...   2643  SCOTXT      DC.B    'SCORE: ',0             ; SCORE TEXT
000028D0= 48 49 47 48 53 43 ...   2644  HISCOTXT    DC.B    'HIGHSCORE: ',0         ; HIGH SCORE TEXT
000028DC                          2645  
000028DC                          2646  ; --- PAUSE MENU TEXT ---------------------------------------------------------
000028DC                          2647  
000028DC= 50 41 55 53 45 00       2648  PAUTITLE    DC.B    'PAUSE',0               ; PAUSE MENU TITLE
000028E2= 52 45 53 55 4D 45 00    2649  PAUTXTB1    DC.B    'RESUME',0              ; PAUSE MENU FIRST BUTTON TEXT
000028E9= 4C 45 41 56 45 00       2650  PAUTXTB2    DC.B    'LEAVE',0               ; PAUSE MENU SECOND BUTTON TEXT
000028EF                          2651      
000028EF                          2652  
000028EF                          2653  
000028EF                          2654  
000028EF                          2655  
000028EF                          2656  
000028EF                          2657  
000028EF                          2658  
000028EF                          2659  -------------------- end include --------------------
000028EF                          2660              INCLUDE "LIB/UTLVARS.X68"   ; UTIL CODE VARIABLES
000028EF                          2661  ; =============================================================================
000028EF                          2662  ; UTILITY VARIABLES
000028EF                          2663  ; =============================================================================
000028EF                          2664  
000028EF                          2665  UTLRNDIX    DS.B    1                       ; NEXT INDEX TO RANDOM NUMBER
000028F0                          2666              DS.W    0
000028F0                          2667  -------------------- end include --------------------
000028F0                          2668              INCLUDE "LIB/DMMVARS.X68"   ; DYNAMIC MEMORY VARIABLES
000028F0                          2669  ; =============================================================================
000028F0                          2670  ; DYNAMIC MEMORY MANAGEMENT VARIABLES (SYSTEM VARIABLES)
000028F0                          2671  ; =============================================================================
000028F0                          2672  
00002900                          2673              ORG     (*+DMMBSIZE-1)&-DMMBSIZE ; ALIGN TO DMMBSIZE
00002900                          2674  DMMDATA     DS.B    DMMBSIZE*DMMBNUM        ; DYNAMIC MEMORY ALLOCATION SPACE
00003580                          2675              DS.W    0                       ; JUST IN CASE (SIZE IS POW OF TWO)
00003580                          2676  -------------------- end include --------------------
00003580                          2677  
00003580                          2678              END    START

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
AGLADD              10C2
AGLADD:END          10D8
AGLCLEAN            117A
AGLCLEAN:END        1194
AGLCLEAN:LOOP       117E
AGLKILL             10AC
AGLPLOT             1124
AGLPLOT:END         114E
AGLPLOT:LOOP1       112A
AGLPLOT:LOOP2       1130
AGLPLOT:NEXTTP      1148
AGLPLOTT            1154
AGLPLOTT:END        1174
AGLPLOTT:LOOP       115C
AGLUPD              10DC
AGLUPD:END          10FA
AGLUPD:LOOP         10E4
AGLUPDT             1100
AGLUPDT:END         111E
AGLUPDT:LOOP        1108
BACKPLOT            192C
BACKUPD             18FA
BACKUPD:NONEWCL     1926
BIRDFCOL            28BE
BIRDINIT            1750
BIRDPCOL            28BC
BIRDPLOT            17B2
BIRDPOSX            A0
BIRDPOSY            28B8
BIRDRAD             F
BIRDUPD             1760
BIRDUPD:COLBOT      179E
BIRDUPD:CORDUPD     178A
BIRDUPD:DONE        17AC
BIRDUPD:NOCOL       17A6
BIRDUPD:NOJUMP      1784
BIRDVELY            28BA
BLOCKSZ             4
BUTAGTP             3
BUTCOLOR            18732C
BUTHVCLR            35DE3B
BUTINIT             1B90
BUTPLOT             1C0A
BUTPLOT:ENDLOOP     1C54
BUTPLOT:LOOP        1C48
BUTPLOT:NOHOVER     1C28
BUTUPD              1BAC
BUTUPD:END          1C04
BUTUPD:NOHOVER      1C00
CLDINIT             1AA8
CLDPLOT             1AFA
CLDSPMSK            FFFFFFFC
CLDTBL              1B22
CLDUPD              1ACC
CLDUPD:NOKILL       1AF4
CLOUD0              1C78
CLOUD0W             1C76
CLOUD1              1DBE
CLOUD1W             1DBC
CLOUD2              1EFC
CLOUD2W             1EFA
CLOUD3              2182
CLOUD3W             2180
CLOUD4              2218
CLOUD4W             2216
CLOUD5              241E
CLOUD5W             241C
CLOUD6              259C
CLOUD6W             259A
CLOUD7              26C2
CLOUD7W             26C0
CLOUDAGT            1
DARKGRAY            C0C0C
DIRTCLR             306284
DIRTHEIG            2D
DKYELLOW            BBBB
DMMALLOC            1092
DMMALLOC:END        10AA
DMMBNUM             32
DMMBSIZE            40
DMMDATA             2900
DMMFCOM             106C
DMMFFND             107A
DMMFIRST            1022
DMMFLOOP            1060
DMMFRCOM            1034
DMMFREE             10AC
DMMFRFND            1042
DMMFRLOP            1028
DMMFRSTO            105A
DMMINIT             1000
DMMINIT:LOOP        100E
DMMNEXT             1044
DMMNEXTO            107C
DMMSYSID            0
FLOHEIGH            3C
FLOPLOT             1964
GAMCYCCT            28A6
GAMEINIT            15B0
GAMEPLOT            1632
GAMEUPD             15C4
GAMEUPD:NOPAUSE     15EC
GOVINIT             1724
GOVPLOT             174A
GOVUPD              1728
GOVUPD:CONT         1746
GRASSCLR            35DE3B
HIGHSCO             28C2
HISCOTXT            28D0
HSCOLINE            1018
IMGPLOT             1B42
IMGPLOT:ENDFLAG     FFFFFFFF
IMGPLOT:LOOP1       1B52
IMGPLOT:LOOP2       1B60
IMGPLOT:SAMEROW     1B7C
IMGPLOT:STARTX      1B8E
INSINIT             15AA
INSPLOT             15AE
INSUPD              15AC
ISCINIT             1564
ISCPLOT             15A4
ISCUPD              1582
ISCUPD:CONT         15A2
JUMPVELY            FFFFFFF6
KBDEDGE             289D
KBDINIT             1442
KBDPAUSE            1B
KBDSPACE            20
KBDUPD              1450
KBDUPD:LOOP         1486
KBDUPD:PACK         1482
KBDUPDTN            1
KBDVAL              289C
LGBROWN             306284
LGGRAY              A3A3A3
LGGREEN             35DE3B
LGYELLOW            FFFF
MASKNWCL            FF
MASKNWPP            3F
MOUINIT             1490
MOUPOS              289E
MOUUPD              149E
MOUUPDTN            2
MOUVAL              28A2
NEWPIPE             1600
NEWPIPE:GOUPD       162C
NORMGRAY            616161
NRMGREEN            18732C
PAUBUTHG            23
PAUBUTWD            82
PAUMEHEI            96
PAUMEWID            C8
PAUSINIT            1640
PAUSPLOT            16CE
PAUSUPD             16AA
PAUSUPD:CONT        16C2
PAUTITLE            28DC
PAUTXTB1            28E2
PAUTXTB2            28E9
PIPEAGTP            2
PIPEFCOL            616161
PIPEGAPS            78
PIPEINIT            17F4
PIPEPCOL            C0C0C
PIPEPLOT            189A
PIPEUPD             180C
PIPEUPD:COL         186C
PIPEUPD:END         1894
PIPEUPD:NOCOL       1886
PIPEUPD:NOKILL      1834
PIPEVELX            FFFFFFFB
PIPEWIDT            32
PPOPHEIG            F
PPOPOVER            5
SCOFCOL             306284
SCOINC              19F2
SCOINIT             19BC
SCOLINE             1017
SCOPATH             28A8
SCOPLOT             1A10
SCORE               28C0
SCOSAVE             1A62
SCOSAVE:END         1AA2
SCOTXT              28C8
SCRCYCCT            28A5
SCRFPS              3C
SCRHEIGH            1E0
SCRINIT             13D6
SCRINTCT            28A4
SCRINTN             1
SCRPLOT             141A
SCRTIM              1434
SCRUPDTN            0
SCRWIDTH            280
SKYBLUE             FFBF80
SKYCOLOR            FFBF80
SKYPLOT             1936
SNDDIE              0
SNDINIT             136A
SNDINIT:DONE        1388
SNDINIT:LOOP        1376
SNDINIT:SNDDIE      138E
SNDINIT:SNDJUMP     139A
SNDINIT:SNDLIST     13B4
SNDINIT:SNDSCO      13A7
SNDJUMP             1
SNDPLAY             13C4
SNDPLTN             3
SNDSCO              2
STACUR              28C4
STAEMPTY            1562
STAGAME             2
STAGOVER            4
STAINIT             14BC
STAINSTR            1
STAINTRO            0
STANEXT             28C6
STANONE             FFFFFFFF
STAPAUSE            3
STAPLOT             1532
STAPLOT:PLTTBL      154E
START               2866
START:LOOP          2876
START:WINT          287E
STAUPD              14CC
STAUPD:DOUPD        14F2
STAUPD:INITBL       150A
STAUPD:UPDTBL       151E
SYSINIT             1300
TXTCOLOR            0
TXTFONT             4
TXTINIT             1352
TXTSIZE             E
TXTSTYLE            1
UTLCHRWD            8
UTLINIT             119A
UTLPRINT            11B0
UTLPRINT:ENDLOOP    11C2
UTLPRINT:LOOP       11B8
UTLRAND             11E2
UTLRAND:RANDVEC     1200
UTLRNDIX            28EF
WHITE               FEFDFB
